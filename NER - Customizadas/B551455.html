<!DOCTYPE html><html lang = "en"><head><meta charset = "utf-8"><meta name = "viewport" content = "width=device-width, initial-scale=1"><title>JDE Object Browser HTML Extract</title>
<style type='text/css'>body,th{font-family: Courier New, Courier, mono;font-size: 12px; width:auto}
.section{font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width: 100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.objectheader {font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width:auto;background-color: #FFFFCC;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.details{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px;box-sizing: border-box }
.er {background-color: #FFFFFF;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal; border: thin solid #CCCCCC; width:auto; padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.dstrmembers {background-color: #FFFDDD;font-family: Courier New, Courier, mono;font-size: 12px;border: thin groove #CC9966;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.disabled {font-family: Courier New, Courier, mono;font-size: 12px;	font-style: italic; color:#CC9933}
.parameters {font-family: Courier New, Courier, mono;font-size: 12px; color:#3333FF}
.comment {font-family: Courier New, Courier, mono;font-size: 12px;	color: #339933}
.subtable {font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;width:100%}
.lineno {color:#6E6E6E;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.iokey {color:#FF6905;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.logicline {color:#000000;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.versionoverride {background-color: #FFCC99;}
.overrideflags{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:auto;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; background-color: #FFCC99; box-sizing: border-box }
.bsfnprops {font-family: Courier New, Courier, mono;font-size: 12px; color:#E01B4C}
.searchresult {font-family: Courier New, Courier, mono;font-size: 12px; font-weight: bold; background-color:#8BF3A0}
.expand {font-family: Courier New, Courier, mono;font-size: 11px; font-weight: bold; cursor:pointer; border: 1px solid gray; position: relative; left: -3px; display:inline; line-height:8px;}
.expand2 { display:inline; cursor:pointer; font-size: 9px; border: 1px solid gray; position: relative; left: -3px;}
</style>
<script type='text/javascript'>function load(){location.href = '#result';}</script>
<script language='JavaScript' type='text/javascript'>function ExpandCollapse(ElementId){ var ClickedElement = document.getElementById(ElementId); var SectionName = ElementId + ':hide'; var Section = document.getElementById(SectionName); if (ClickedElement.innerHTML == '-') { 	 ClickedElement.innerHTML = '+';	Section.style.display = 'none'; }  else  { 		ClickedElement.innerHTML = '-'; 	Section.style.display = 'inline';}} </script>
<base target = "_parent"></head><body onload='load()'>
<div class ='objectheader'>Business Function: B551455 - Funções Auxiliares P551455<BR>Function Type: C</div><div class='section'>EVENTS<div class='objectheader'>C Function: Funções Auxiliares P551455 - [AvancaCursorOrcamento]</div><div class='er'><div class='dstrmembers'><B>Data Structure: D551455A - Estrutura de dados da BSFN B551455                          </B><BR>BF cErro [EV01]<BR>BF szMsgRetorno [CF500]<BR>BF idCursor [GENLNG]<BR>BF szUsuario [USER]<BR>BF szLista01 [55LST01]<BR>BF szLista02 [55LST02]<BR>BF szLista03 [55LST03]<BR>BF szLista04 [55LST04]<BR>BF szLista05 [55LST05]<BR>BF szLista06 [55LST06]<BR>BF mnExecutadoJaneiro [AN01]<BR>BF mnExecutadoFevereiro [AN02]<BR>BF mnExecutadoMarco [AN03]<BR>BF mnExecutadoAbril [AN04]<BR>BF mnExecutadoMaio [AN05]<BR>BF mnExecutadoJunho [AN06]<BR>BF mnExecutadoJulho [AN07]<BR>BF mnExecutadoAgosto [AN08]<BR>BF mnProjetadoSetembro [AN09]<BR>BF mnProjetadoOutubro [AN10]<BR>BF mnProjetadoNovembro [AN11]<BR>BF mnProjetadoDezembro [AN12]<BR>BF mnOrcadoJaneiro [NB01]<BR>BF mnOrcadoFevereiro [NB02]<BR>BF mnOrcadoMarco [NB03]<BR>BF mnOrcadoAbril [NB04]<BR>BF mnOrcadoMaio [NB05]<BR>BF mnOrcadoJunho [NB06]<BR>BF mnOrcadoJulho [NB07]<BR>BF mnOrcadoAgosto [NB08]<BR>BF mnOrcadoSetembro [NB09]<BR>BF mnOrcadoOutubro [NB10]<BR>BF mnOrcadoNovembro [NB11]<BR>BF mnOrcadoDezembro [NB12]<BR>BF szConta [AID]<BR>BF szEmpresaOrigem [SBL]<BR>BF cEMeta [EV01]<BR>BF mnSequencia [SEQ]<BR>BF mnTotalExecutadoProjeto [AN13]<BR>BF mnTotalOrcado [NB13]<BR>BF szReservado [USR2]<BR>BF szCostCenter [MCU]<BR>BF szObjectAccount [OBJ]<BR>BF szSubsidiary [SUB]<BR></div><pre><div class='dstrmembers'><B>Header File: b551455.h</B><BR></div> <br/>/***************************************************************************** <br/> *    Header File:  B551455.h <br/> * <br/> *    Description:  Funções Auxiliares P551455 Header File <br/> * <br/> *        History: <br/> *          Date        Programmer  SAR# - Description <br/> *          ----------  ----------  ------------------------------------------- <br/> *   Author 12/05/16    MATEU       Unknown  - Created  <br/> * <br/> * <br/> * Copyright (c) J.D. Edwards World Source Company, 1996 <br/> * <br/> * This unpublished material is proprietary to J.D. Edwards World Source  <br/> * Company.  All rights reserved.  The methods and techniques described  <br/> * herein are considered trade secrets and/or confidential.  Reproduction <br/> * or distribution, in whole or in part, is forbidden except by express <br/> * written permission of J.D. Edwards World Source Company. <br/> ****************************************************************************/ <br/> <br/>#ifndef __B551455_H<br/>#define __B551455_H <br/> <br/>/***************************************************************************** <br/> * Table Header Inclusions <br/> ****************************************************************************/ <br/>#include&ltf551455.h&gt <br/>#include&ltf551455a.h&gt <br/>#include&ltbv551455h.h&gt<br/>/***************************************************************************** <br/> * External Business Function Header Inclusions <br/> ****************************************************************************/ <br/> <br/>/***************************************************************************** <br/> * Global Definitions <br/> ****************************************************************************/ <br/> <br/>/***************************************************************************** <br/> * Structure Definitions <br/> ****************************************************************************/ <br/> typedef struct tagDS_UpdateF551455   <br/> {<br/>  <br/>   JCHAR           mvusr2[11];<br/>   <br/> } DSF551455Up; <br/><br/>/***************************************************************************** <br/> * DS Template Type Definitions <br/> ****************************************************************************/ <br/><br/>/**<br/> * TYPEDEF for Data Structure<br/> * D551455A : Estrutura de dados da BSFN B551455<br/> *<br/> * Copyright Oracle USA<br/> *<br/> * This is a JDEdwards EnterpriseOne generated file.<br/> * Do not modify this file.<br/> * Only re-generate with the appropriate tool.<br/> * Generation Date : 30/05/16<br/> */<br/><br/>#ifndef DATASTRUCTURE_D551455A<br/>#define DATASTRUCTURE_D551455A<br/><br/>typedef struct tagDSD551455A<br/>{<br/>  JCHAR          cErro;<br/>  JCHAR          szMsgRetorno[501];<br/>  ID             idCursor;<br/>  JCHAR          szUsuario[11];<br/>  JCHAR          szLista01[51];<br/>  JCHAR          szLista02[51];<br/>  JCHAR          szLista03[51];<br/>  JCHAR          szLista04[51];<br/>  JCHAR          szLista05[51];<br/>  JCHAR          szLista06[121];<br/>  MATH_NUMERIC   mnExecutadoJaneiro;<br/>  MATH_NUMERIC   mnExecutadoFevereiro;<br/>  MATH_NUMERIC   mnExecutadoMarco;<br/>  MATH_NUMERIC   mnExecutadoAbril;<br/>  MATH_NUMERIC   mnExecutadoMaio;<br/>  MATH_NUMERIC   mnExecutadoJunho;<br/>  MATH_NUMERIC   mnExecutadoJulho;<br/>  MATH_NUMERIC   mnExecutadoAgosto;<br/>  MATH_NUMERIC   mnProjetadoSetembro;<br/>  MATH_NUMERIC   mnProjetadoOutubro;<br/>  MATH_NUMERIC   mnProjetadoNovembro;<br/>  MATH_NUMERIC   mnProjetadoDezembro;<br/>  MATH_NUMERIC   mnOrcadoJaneiro;<br/>  MATH_NUMERIC   mnOrcadoFevereiro;<br/>  MATH_NUMERIC   mnOrcadoMarco;<br/>  MATH_NUMERIC   mnOrcadoAbril;<br/>  MATH_NUMERIC   mnOrcadoMaio;<br/>  MATH_NUMERIC   mnOrcadoJunho;<br/>  MATH_NUMERIC   mnOrcadoJulho;<br/>  MATH_NUMERIC   mnOrcadoAgosto;<br/>  MATH_NUMERIC   mnOrcadoSetembro;<br/>  MATH_NUMERIC   mnOrcadoOutubro;<br/>  MATH_NUMERIC   mnOrcadoNovembro;<br/>  MATH_NUMERIC   mnOrcadoDezembro;<br/>  JCHAR          szConta[9];<br/>  JCHAR          szEmpresaOrigem[9];<br/>  JCHAR          cEMeta;<br/>  MATH_NUMERIC   mnSequencia;<br/>  MATH_NUMERIC   mnTotalExecutadoProjeto;<br/>  MATH_NUMERIC   mnTotalOrcado;<br/>  JCHAR          szReservado[11];<br/>  JCHAR          szCostCenter[13];<br/>  JCHAR          szObjectAccount[7];<br/>  JCHAR          szSubsidiary[9];<br/>} DSD551455A , *LPDSD551455A;<br/><br/>#define IDERRcErro_1                              1L<br/>#define IDERRszMsgRetorno_2                       2L<br/>#define IDERRidCursor_9                           9L<br/>#define IDERRszUsuario_18                         18L<br/>#define IDERRszLista01_19                         19L<br/>#define IDERRszLista02_20                         20L<br/>#define IDERRszLista03_21                         21L<br/>#define IDERRszLista04_22                         22L<br/>#define IDERRszLista05_23                         23L<br/>#define IDERRszLista06_24                         24L<br/>#define IDERRmnExecutadoJaneiro_25                25L<br/>#define IDERRmnExecutadoFevereiro_26              26L<br/>#define IDERRmnExecutadoMarco_27                  27L<br/>#define IDERRmnExecutadoAbril_28                  28L<br/>#define IDERRmnExecutadoMaio_29                   29L<br/>#define IDERRmnExecutadoJunho_30                  30L<br/>#define IDERRmnExecutadoJulho_31                  31L<br/>#define IDERRmnExecutadoAgosto_32                 32L<br/>#define IDERRmnProjetadoSetembro_33               33L<br/>#define IDERRmnProjetadoOutubro_34                34L<br/>#define IDERRmnProjetadoNovembro_35               35L<br/>#define IDERRmnProjetadoDezembro_36               36L<br/>#define IDERRmnOrcadoJaneiro_37                   37L<br/>#define IDERRmnOrcadoFevereiro_38                 38L<br/>#define IDERRmnOrcadoMarco_39                     39L<br/>#define IDERRmnOrcadoAbril_40                     40L<br/>#define IDERRmnOrcadoMaio_41                      41L<br/>#define IDERRmnOrcadoJunho_42                     42L<br/>#define IDERRmnOrcadoJulho_43                     43L<br/>#define IDERRmnOrcadoAgosto_44                    44L<br/>#define IDERRmnOrcadoSetembro_45                  45L<br/>#define IDERRmnOrcadoOutubro_46                   46L<br/>#define IDERRmnOrcadoNovembro_47                  47L<br/>#define IDERRmnOrcadoDezembro_48                  48L<br/>#define IDERRszConta_49                           49L<br/>#define IDERRszEmpresaOrigem_50                   50L<br/>#define IDERRcEMeta_51                            51L<br/>#define IDERRmnSequencia_52                       52L<br/>#define IDERRmnTotalExecutadoProjeto_53           53L<br/>#define IDERRmnTotalOrcado_54                     54L<br/>#define IDERRszReservado_55                       55L<br/>#define IDERRszCostCenter_56                      56L<br/>#define IDERRszObjectAccount_57                   57L<br/>#define IDERRszSubsidiary_58                      58L<br/><br/>#endif /* DATASTRUCTURE_D551455A */<br/><br/><br/>/**<br/> * TYPEDEF for Data Structure<br/> * D551455B : Estrutura de dados da BSFN B551455<br/> *<br/> * Copyright Oracle USA<br/> *<br/> * This is a JDEdwards EnterpriseOne generated file.<br/> * Do not modify this file.<br/> * Only re-generate with the appropriate tool.<br/> * Generation Date : 24/05/16<br/> */<br/><br/>#ifndef DATASTRUCTURE_D551455B<br/>#define DATASTRUCTURE_D551455B<br/><br/>typedef struct tagDSD551455B<br/>{<br/>  JCHAR          cErro;<br/>  JCHAR          szMsgRetorno[501];<br/>  JCHAR          szReservado[11];<br/>  JCHAR          szModelo[5];<br/>  JCHAR          szAno[5];<br/>} DSD551455B , *LPDSD551455B;<br/><br/>#define IDERRcErro_1                              1L<br/>#define IDERRszMsgRetorno_2                       2L<br/>#define IDERRszReservado_55                       55L<br/>#define IDERRszModelo_56                          56L<br/>#define IDERRszAno_57                             57L<br/><br/>#endif /* DATASTRUCTURE_D551455B */<br/><br/><br/><br/><br/><br/>/***************************************************************************** <br/> * Source Preprocessor Definitions <br/> ****************************************************************************/ <br/>#if defined (JDEBFRTN) <br/>	#undef JDEBFRTN <br/>#endif <br/> <br/>#if defined (WIN32) <br/>	#if defined (WIN32) <br/>		#define JDEBFRTN(r) __declspec(dllexport) r <br/>	#else <br/>		#define JDEBFRTN(r) __declspec(dllimport) r <br/>	#endif <br/>#else <br/>	#define JDEBFRTN(r) r <br/>#endif <br/> <br/>/***************************************************************************** <br/> * Business Function Prototypes <br/> ****************************************************************************/ <br/> JDEBFRTN (ID) JDEBFWINAPI AvancaCursorOrcamento            (LPBHVRCOM lpBhvrCom, LPVOID lpVoid, LPDSD551455A lpDS); <br/> JDEBFRTN (ID) JDEBFWINAPI DesbloqueioUsuario               (LPBHVRCOM lpBhvrCom, LPVOID lpVoid, LPDSD551455B lpDS); <br/> <br/>/***************************************************************************** <br/> * Internal Function Prototypes <br/> ****************************************************************************/ <br/> <br/>#endif    /* __B551455_H */ <br/> <br/></pre><BR/><pre><div class='dstrmembers'><B>Source File: b551455.c</B><BR></div>#include &ltjde.h&gt <br/> <br/>#define b551455_c <br/> <br/> <br/>/***************************************************************************** <br/> *    Source File:  b551455 <br/> * <br/> *    Description:  Funções Auxiliares P551455 Source File <br/> * <br/> *        History: <br/> *          Date        Programmer  SAR# - Description <br/> *          ----------  ----------  ------------------------------------------- <br/> *   Author 12/05/16    MATEU       Unknown  - Created   <br/> * <br/> * Copyright (c) J.D. Edwards World Source Company, 1996 <br/> * <br/> * This unpublished material is proprietary to J.D. Edwards World Source Company. <br/> * All rights reserved.  The methods and techniques described herein are <br/> * considered trade secrets and/or confidential.  Reproduction or <br/> * distribution, in whole or in part, is forbidden except by express <br/> * written permission of J.D. Edwards World Source Company. <br/> ****************************************************************************/ <br/>/************************************************************************** <br/> * Notes: <br/> * <br/> **************************************************************************/ <br/> <br/>#include &ltb551455.h&gt <br/> <br/> <br/>/************************************************************************** <br/> *  Business Function:  AvancaCursorOrcamento <br/> * <br/> *        Description:  Avanca Cursor do Orçamento <br/> * <br/> *         Parameters: <br/> *           LPBHVRCOM           lpBhvrCom    Business Function Communications <br/> *           LPVOID              lpVoid       Void Parameter - DO NOT USE! <br/> *           LPDSD551            lpDS         Parameter Data Structure Pointer   <br/> * <br/> *************************************************************************/ <br/> <br/>JDEBFRTN (ID) JDEBFWINAPI AvancaCursorOrcamento (LPBHVRCOM lpBhvrCom, LPVOID lpVoid, LPDSD551455A lpDS)  <br/> <br/>{ <br/>   /************************************************************************ <br/>    *  Variable declarations <br/>    ************************************************************************/ <br/>    HUSER				hUser							= (HUSER)NULL;<br/>    ID					idJDBReturn		            	= JDEDB_PASSED;<br/>    HREQUEST		    hDataSource    	     			= (HREQUEST)NULL;<br/>    HREQUEST		    hDataSourceUp 	     			= (HREQUEST)NULL;<br/>    KEY1_F551455        dsChaveF551455                  = {0};<br/>    F551455             dsRegistroF551455               = {0};<br/>    DSF551455Up         dsRegistroF551455Up             = {0};<br/>    //BV551455H           dsRegistroV551455H              = {0}; <br/>    F551455A            dsRegistroF551455A              = {0}; <br/>    NID					nidColuna[1]				    = {	NID_USR2 };<br/><br/>   /************************************************************************ <br/>    * Check for NULL pointers <br/>    ************************************************************************/ <br/>   if ((lpBhvrCom == (LPBHVRCOM) NULL) || <br/>       (lpVoid    == (LPVOID)    NULL) || <br/>       (lpDS      == (LPDSD551455A)	NULL)) <br/>   { <br/>     jdeErrorSet (lpBhvrCom, lpVoid, (ID) 0, _J("4363"), (LPVOID) NULL); <br/>     return ER_ERROR; <br/>   } <br/><br/>   /************************************************************************ <br/>    * Main Processing <br/>    ************************************************************************/ <br/>    idJDBReturn = JDB_InitBhvr( lpBhvrCom , &hUser , NULL , JDEDB_COMMIT_AUTO );<br/><br/>    if (idJDBReturn != JDEDB_PASSED) <br/>    {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu inicializar o ambiente !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        return ER_ERROR;<br/><br/>    }<br/><br/>    hDataSource = jdeRetrieveDataPtr( hUser, lpDS-&gtidCursor );<br/><br/>    if ( hDataSource == NULL ) {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu carregar o cursor !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        return ER_ERROR;<br/><br/>    }<br/>    <br/>    if ( lpDS-&gtcEMeta == _J('S') ) {<br/><br/>        idJDBReturn = JDB_Fetch( hDataSource , &dsRegistroF551455, 0 );        <br/>        //<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvbiexano, dsRegistroF551455.mvbiexano, DIM(dsChaveF551455.mvbiexano));<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvaid, dsRegistroF551455.mvaid, DIM(dsChaveF551455.mvaid));<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvsbl, dsRegistroF551455.mvsbl, DIM(dsChaveF551455.mvsbl));<br/>        MathCopy(&dsChaveF551455.mvbiexseq, &dsRegistroF551455.mvbiexseq);<br/>        //<br/>        jdeStrcpyAndTerminate(lpDS-&gtszReservado, dsRegistroF551455.mvusr2, DIM(lpDS-&gtszReservado));<br/>        //<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista01, dsRegistroF551455.mv55lst01, DIM(lpDS-&gtszLista01));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista02, dsRegistroF551455.mv55lst02, DIM(lpDS-&gtszLista02));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista03, dsRegistroF551455.mv55lst03, DIM(lpDS-&gtszLista03));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista04, dsRegistroF551455.mv55lst04, DIM(lpDS-&gtszLista04));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista05, dsRegistroF551455.mv55lst05, DIM(lpDS-&gtszLista05));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista06, dsRegistroF551455.mv55lst06, DIM(lpDS-&gtszLista06));<br/>        //<br/>        MathCopy(&lpDS-&gtmnExecutadoJaneiro, &dsRegistroF551455.mvba01);<br/>        MathCopy(&lpDS-&gtmnExecutadoFevereiro, &dsRegistroF551455.mvba02);<br/>        MathCopy(&lpDS-&gtmnExecutadoMarco, &dsRegistroF551455.mvba03);<br/>        MathCopy(&lpDS-&gtmnExecutadoAbril, &dsRegistroF551455.mvba04);<br/>        MathCopy(&lpDS-&gtmnExecutadoMaio, &dsRegistroF551455.mvba05);<br/>        MathCopy(&lpDS-&gtmnExecutadoJunho, &dsRegistroF551455.mvba06);<br/>        MathCopy(&lpDS-&gtmnExecutadoJulho, &dsRegistroF551455.mvba07);<br/>        MathCopy(&lpDS-&gtmnExecutadoAgosto, &dsRegistroF551455.mvba08);<br/>        MathCopy(&lpDS-&gtmnProjetadoSetembro, &dsRegistroF551455.mvba09);<br/>        MathCopy(&lpDS-&gtmnProjetadoOutubro, &dsRegistroF551455.mvba10);<br/>        MathCopy(&lpDS-&gtmnProjetadoNovembro, &dsRegistroF551455.mvba11);<br/>        MathCopy(&lpDS-&gtmnProjetadoDezembro, &dsRegistroF551455.mvba12);<br/>        //<br/>        MathCopy(&lpDS-&gtmnOrcadoJaneiro, &dsRegistroF551455.mvnb01);<br/>        MathCopy(&lpDS-&gtmnOrcadoFevereiro, &dsRegistroF551455.mvnb02);<br/>        MathCopy(&lpDS-&gtmnOrcadoMarco, &dsRegistroF551455.mvnb03);<br/>        MathCopy(&lpDS-&gtmnOrcadoAbril, &dsRegistroF551455.mvnb04);<br/>        MathCopy(&lpDS-&gtmnOrcadoMaio, &dsRegistroF551455.mvnb05);<br/>        MathCopy(&lpDS-&gtmnOrcadoJunho, &dsRegistroF551455.mvnb06);<br/>        MathCopy(&lpDS-&gtmnOrcadoJulho, &dsRegistroF551455.mvnb07);<br/>        MathCopy(&lpDS-&gtmnOrcadoAgosto, &dsRegistroF551455.mvnb08);<br/>        MathCopy(&lpDS-&gtmnOrcadoSetembro, &dsRegistroF551455.mvnb09);<br/>        MathCopy(&lpDS-&gtmnOrcadoOutubro, &dsRegistroF551455.mvnb10);<br/>        MathCopy(&lpDS-&gtmnOrcadoNovembro, &dsRegistroF551455.mvnb11);<br/>        MathCopy(&lpDS-&gtmnOrcadoDezembro, &dsRegistroF551455.mvnb12);<br/>        //<br/>        MathCopy(&lpDS-&gtmnSequencia, &dsRegistroF551455.mvbiexseq);<br/><br/>    } else {<br/><br/>        idJDBReturn = JDB_Fetch( hDataSource , (void*)&dsRegistroF551455A, 0 );        <br/>        //<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvbiexano, dsRegistroF551455A.mvbiexano, DIM(dsChaveF551455.mvbiexano));<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvaid, dsRegistroF551455A.mvaid, DIM(dsChaveF551455.mvaid));<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mvsbl, dsRegistroF551455A.mvsbl, DIM(dsChaveF551455.mvsbl));<br/>        jdeStrcpyAndTerminate(dsChaveF551455.mv55modelo, dsRegistroF551455A.mv55modelo, DIM(dsChaveF551455.mv55modelo));<br/>        MathCopy(&dsChaveF551455.mvbiexseq, &dsRegistroF551455A.mvbiexseq);<br/>        //<br/>        jdeStrcpyAndTerminate(lpDS-&gtszConta, dsRegistroF551455A.mvaid, DIM(lpDS-&gtszConta));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszEmpresaOrigem, dsRegistroF551455A.mvsbl, DIM(lpDS-&gtszEmpresaOrigem));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszReservado, dsRegistroF551455A.mvusr2, DIM(lpDS-&gtszReservado));<br/>        //<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista01, dsRegistroF551455A.mv55lst01, DIM(lpDS-&gtszLista01));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista02, dsRegistroF551455A.mv55lst02, DIM(lpDS-&gtszLista02));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista03, dsRegistroF551455A.mv55lst03, DIM(lpDS-&gtszLista03));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista04, dsRegistroF551455A.mv55lst04, DIM(lpDS-&gtszLista04));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista05, dsRegistroF551455A.mv55lst05, DIM(lpDS-&gtszLista05));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszLista06, dsRegistroF551455A.mv55lst06, DIM(lpDS-&gtszLista06));<br/>        //<br/>        MathCopy(&lpDS-&gtmnExecutadoJaneiro, &dsRegistroF551455A.mvba01);<br/>        MathCopy(&lpDS-&gtmnExecutadoFevereiro, &dsRegistroF551455A.mvba02);<br/>        MathCopy(&lpDS-&gtmnExecutadoMarco, &dsRegistroF551455A.mvba03);<br/>        MathCopy(&lpDS-&gtmnExecutadoAbril, &dsRegistroF551455A.mvba04);<br/>        MathCopy(&lpDS-&gtmnExecutadoMaio, &dsRegistroF551455A.mvba05);<br/>        MathCopy(&lpDS-&gtmnExecutadoJunho, &dsRegistroF551455A.mvba06);<br/>        MathCopy(&lpDS-&gtmnExecutadoJulho, &dsRegistroF551455A.mvba07);<br/>        MathCopy(&lpDS-&gtmnExecutadoAgosto, &dsRegistroF551455A.mvba08);<br/>        MathCopy(&lpDS-&gtmnProjetadoSetembro, &dsRegistroF551455A.mvba09);<br/>        MathCopy(&lpDS-&gtmnProjetadoOutubro, &dsRegistroF551455A.mvba10);<br/>        MathCopy(&lpDS-&gtmnProjetadoNovembro, &dsRegistroF551455A.mvba11);<br/>        MathCopy(&lpDS-&gtmnProjetadoDezembro, &dsRegistroF551455A.mvba12);<br/>        //<br/>        MathCopy(&lpDS-&gtmnOrcadoJaneiro, &dsRegistroF551455A.mvnb01);<br/>        MathCopy(&lpDS-&gtmnOrcadoFevereiro, &dsRegistroF551455A.mvnb02);<br/>        MathCopy(&lpDS-&gtmnOrcadoMarco, &dsRegistroF551455A.mvnb03);<br/>        MathCopy(&lpDS-&gtmnOrcadoAbril, &dsRegistroF551455A.mvnb04);<br/>        MathCopy(&lpDS-&gtmnOrcadoMaio, &dsRegistroF551455A.mvnb05);<br/>        MathCopy(&lpDS-&gtmnOrcadoJunho, &dsRegistroF551455A.mvnb06);<br/>        MathCopy(&lpDS-&gtmnOrcadoJulho, &dsRegistroF551455A.mvnb07);<br/>        MathCopy(&lpDS-&gtmnOrcadoAgosto, &dsRegistroF551455A.mvnb08);<br/>        MathCopy(&lpDS-&gtmnOrcadoSetembro, &dsRegistroF551455A.mvnb09);<br/>        MathCopy(&lpDS-&gtmnOrcadoOutubro, &dsRegistroF551455A.mvnb10);<br/>        MathCopy(&lpDS-&gtmnOrcadoNovembro, &dsRegistroF551455A.mvnb11);<br/>        MathCopy(&lpDS-&gtmnOrcadoDezembro, &dsRegistroF551455A.mvnb12);<br/>        //<br/>        MathCopy(&lpDS-&gtmnSequencia, &dsRegistroF551455A.mvbiexseq);<br/>        //<br/>        /*jdeStrcpyAndTerminate(lpDS-&gtszCostCenter, dsRegistroV551455H.gmmcu, DIM(lpDS-&gtszCostCenter));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszObjectAccount, dsRegistroV551455H.gmobj, DIM(lpDS-&gtszObjectAccount));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszSubsidiary, dsRegistroV551455H.gmsub, DIM(lpDS-&gtszSubsidiary));*/<br/>        jdeStrcpyAndTerminate(lpDS-&gtszCostCenter, dsRegistroF551455A.mvmcu, DIM(lpDS-&gtszCostCenter));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszObjectAccount, dsRegistroF551455A.mvobj, DIM(lpDS-&gtszObjectAccount));<br/>        jdeStrcpyAndTerminate(lpDS-&gtszSubsidiary, dsRegistroF551455A.mvsub, DIM(lpDS-&gtszSubsidiary));<br/><br/><br/>    }<br/>      <br/>    if (idJDBReturn != JDEDB_PASSED) <br/>    {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu fazer o fetch !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        JDB_FreeBhvr( hUser );<br/>        return ER_ERROR;<br/><br/>    }<br/><br/>    if ( !jdeIsBlankOrNull( lpDS-&gtszUsuario ) <br/>        &&  jdeIsBlankOrNull( lpDS-&gtszReservado )<br/>        &&  jdestrncmp( lpDS-&gtszUsuario, lpDS-&gtszReservado, DIM(lpDS-&gtszUsuario) ) != 0 ) {<br/><br/>        jdeStrcpyAndTerminate(dsRegistroF551455Up.mvusr2, lpDS-&gtszUsuario, DIM(dsRegistroF551455Up.mvusr2));<br/><br/>        idJDBReturn = JDB_OpenTable(hUser, NID_F551455, 0, NULL, (ushort) 0,  (JCHAR *) NULL, &hDataSourceUp); <br/>        if (idJDBReturn != JDEDB_PASSED) <br/>        {<br/><br/>            lpDS-&gtcErro = _J('S');<br/>            jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu abrir a tabela !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>            JDB_FreeBhvr( hUser );<br/>            return ER_ERROR;<br/><br/>        }<br/>		<br/>       idJDBReturn  = JDB_FetchKeyed(hDataSourceUp, (ID) ID_F551455_CHVPRINCIPAL,<br/>                                 (void *) &dsChaveF551455, (short) 5,<br/>                                 (void *) &dsRegistroF551455, FALSE);<br/><br/>        if ( idJDBReturn == JDEDB_PASSED ) {<br/><br/>            if ( jdeIsBlankOrNull(dsRegistroF551455.mvusr2) ) {                <br/><br/>                idJDBReturn = JDB_UpdateTableCols( hDataSourceUp, NID_F551455, (ID) 0, ID_F551455_CHVPRINCIPAL, (void *)&dsChaveF551455, 5, (void*)&dsRegistroF551455Up, nidColuna, 1);<br/>                if (idJDBReturn != JDEDB_PASSED) <br/>                {<br/><br/>                    lpDS-&gtcErro = _J('S');<br/>                    jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu atualizar a tabela !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>                    JDB_CloseTable ( hDataSourceUp );<br/>                    JDB_FreeBhvr( hUser );<br/>                    return ER_ERROR;<br/><br/>                }<br/><br/>                jdeStrcpyAndTerminate(lpDS-&gtszReservado, lpDS-&gtszUsuario, DIM(lpDS-&gtszReservado));<br/><br/>            } else {<br/><br/>                jdeStrcpyAndTerminate(lpDS-&gtszReservado, dsRegistroF551455.mvusr2, DIM(lpDS-&gtszReservado));<br/><br/>            }<br/><br/>            <br/><br/>        }<br/><br/>        JDB_CloseTable ( hDataSourceUp );<br/><br/>    }<br/> <br/>   /************************************************************************ <br/>    * Function Clean Up <br/>    ************************************************************************/ <br/>    JDB_FreeBhvr( hUser );<br/>    return ER_SUCCESS;<br/> <br/>} <br/><br/>JDEBFRTN (ID) JDEBFWINAPI DesbloqueioUsuario          (LPBHVRCOM lpBhvrCom, LPVOID lpVoid, LPDSD551455B lpDS){<br/>/************************************************************************ <br/>    *  Variable declarations <br/>    ************************************************************************/ <br/>    HUSER				hUser							= (HUSER)NULL;<br/>    ID					idJDBReturn		            	= JDEDB_PASSED;<br/>    HREQUEST		    hDataSource    	     			= (HREQUEST)NULL;    <br/>    KEY6_F551455        dsChaveF551455                  = {0};<br/>    DSF551455Up         dsRegistroF551455Up             = {0};<br/>    NID					nidColuna[1]				    = {	NID_USR2 };<br/><br/>   /************************************************************************ <br/>    * Check for NULL pointers <br/>    ************************************************************************/ <br/>   if ((lpBhvrCom == (LPBHVRCOM) NULL) || <br/>       (lpVoid    == (LPVOID)    NULL) || <br/>       (lpDS      == (LPDSD551455B)	NULL)) <br/>   { <br/>     jdeErrorSet (lpBhvrCom, lpVoid, (ID) 0, _J("4363"), (LPVOID) NULL); <br/>     return ER_ERROR; <br/>   } <br/><br/>   /************************************************************************ <br/>    * Main Processing <br/>    ************************************************************************/ <br/>    idJDBReturn = JDB_InitBhvr( lpBhvrCom , &hUser , NULL , JDEDB_COMMIT_AUTO );<br/><br/>    if (idJDBReturn != JDEDB_PASSED) <br/>    {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu inicializar o ambiente !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        return ER_ERROR;<br/><br/>    }<br/><br/>	idJDBReturn = JDB_OpenTable(hUser, NID_F551455, 0, NULL, (ushort) 0,  (JCHAR *) NULL, &hDataSource); <br/>    if (idJDBReturn != JDEDB_PASSED) <br/>    {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu abrir a tabela !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        JDB_FreeBhvr( hUser );<br/>        return ER_ERROR;<br/><br/>    }<br/>	<br/>	//<br/>    jdeStrcpyAndTerminate(dsChaveF551455.mvbiexano, lpDS-&gtszAno, DIM(dsChaveF551455.mvbiexano));<br/>    jdeStrcpyAndTerminate(dsChaveF551455.mv55modelo, lpDS-&gtszModelo, DIM(dsChaveF551455.mv55modelo));<br/>    jdeStrcpyAndTerminate(dsChaveF551455.mvusr2, lpDS-&gtszReservado, DIM(dsChaveF551455.mvusr2));<br/>    //<br/>	jdeStrcpyAndTerminate(dsRegistroF551455Up.mvusr2, _J(" "), DIM(dsRegistroF551455Up.mvusr2));<br/>	//<br/><br/>    idJDBReturn = JDB_UpdateTableCols( hDataSource, NID_F551455, (ID) 0, ID_F551455_USUARIORESERVADO, (void *)&dsChaveF551455, 3, (void*)&dsRegistroF551455Up, nidColuna, 1);<br/>    if (idJDBReturn != JDEDB_PASSED) <br/>    {<br/><br/>        lpDS-&gtcErro = _J('S');<br/>        jdeStrcpyAndTerminate(lpDS-&gtszMsgRetorno, _J("Não conseguiu atualizar a tabela !!!"), DIM(lpDS-&gtszMsgRetorno));<br/>        JDB_CloseTable ( hDataSource );<br/>        JDB_FreeBhvr( hUser );<br/>        return ER_ERROR;<br/><br/>    }<br/><br/>    JDB_CloseTable ( hDataSource );<br/>	JDB_FreeBhvr( hUser );<br/>    return ER_SUCCESS;<br/><br/><br/>}<br/> <br/>/* Internal function comment block */<br/>/**************************************************************************<br/> *   Function:  Ixxxxxxx_a   // Replace "xxxxxxx" with source file number<br/> *                           // and "a" with the function name<br/> *      Notes:<br/> *<br/> *    Returns:<br/> *<br/> * Parameters:<br/> **************************************************************************/<br/><br/></pre></div></div><div class='section'>EVENTS<div class='objectheader'>C Function: Funções Auxiliares P551455 - [DesbloqueioUsuario]</div><div class='er'><div class='dstrmembers'><B>Data Structure: D551455B - Estrutura de dados da BSFN B551455                          </B><BR>BF cErro [EV01]<BR>BF szMsgRetorno [CF500]<BR>BF szReservado [USR2]<BR>BF szModelo [55MODELO]<BR>BF szAno [BIEXANO]<BR></div></div></div></body></html>