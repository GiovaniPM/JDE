<!DOCTYPE html><html lang = "en"><head><meta charset = "utf-8"><meta name = "viewport" content = "width=device-width, initial-scale=1"><title>JDE Object Browser HTML Extract</title>
<style type='text/css'>body,th{font-family: Courier New, Courier, mono;font-size: 12px; width:auto}
.section{font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width: 100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.objectheader {font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width:auto;background-color: #FFFFCC;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.details{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px;box-sizing: border-box }
.er {background-color: #FFFFFF;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal; border: thin solid #CCCCCC; width:auto; padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.dstrmembers {background-color: #FFFDDD;font-family: Courier New, Courier, mono;font-size: 12px;border: thin groove #CC9966;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.disabled {font-family: Courier New, Courier, mono;font-size: 12px;	font-style: italic; color:#CC9933}
.parameters {font-family: Courier New, Courier, mono;font-size: 12px; color:#3333FF}
.comment {font-family: Courier New, Courier, mono;font-size: 12px;	color: #339933}
.subtable {font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;width:100%}
.lineno {color:#6E6E6E;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.iokey {color:#FF6905;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.logicline {color:#000000;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.versionoverride {background-color: #FFCC99;}
.overrideflags{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:auto;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; background-color: #FFCC99; box-sizing: border-box }
.bsfnprops {font-family: Courier New, Courier, mono;font-size: 12px; color:#E01B4C}
.searchresult {font-family: Courier New, Courier, mono;font-size: 12px; font-weight: bold; background-color:#8BF3A0}
.expand {font-family: Courier New, Courier, mono;font-size: 11px; font-weight: bold; cursor:pointer; border: 1px solid gray; position: relative; left: -3px; display:inline; line-height:8px;}
.expand2 { display:inline; cursor:pointer; font-size: 9px; border: 1px solid gray; position: relative; left: -3px;}
</style>
<script type='text/javascript'>function load(){location.href = '#result';}</script>
<script language='JavaScript' type='text/javascript'>function ExpandCollapse(ElementId){ var ClickedElement = document.getElementById(ElementId); var SectionName = ElementId + ':hide'; var Section = document.getElementById(SectionName); if (ClickedElement.innerHTML == '-') { 	 ClickedElement.innerHTML = '+';	Section.style.display = 'none'; }  else  { 		ClickedElement.innerHTML = '-'; 	Section.style.display = 'inline';}} </script>
<base target = "_parent"></head><body onload='load()'>
<div class ='objectheader'>Business Function: N5503S02 - Site - Lista Faturas<BR>Function Type: NER</div><div class='section'>EVENTS<div class='objectheader'>NER: ListaFaturas <BR>Event GUID: c39334d8-16da-41af-bf0c-c7ad3a4604e3</div><div class='er'><div class='dstrmembers'><B>Data Structure: D5503S02 - Lista Faturas                                               </B><BR>BF szTaxId [TAX]<BR>BF szEmailAddressow [EMAL]<BR>BF mnSessao [UKID]<BR>BF CodMSGErro [AA03]<BR>BF MSGErro [XMLCMPST]<BR>BF idCursorFaturas [GENLNG]<BR>BF CodMSGFat [AA03]<BR>BF FATDocumentType [DCT]<BR>BF FATDocVoucherInvoiceE [DOC]<BR>BF FATDocumentPayItem [SFX]<BR>BF FATCompanyKey [KCO]<BR>BF FATNomeVeiculo [DL01]<BR>BF FATCategoria [AA10]<BR>BF BOLBanco [AA05]<BR>BF BOLLinhaDigitavel [EMSG]<BR>BF BOLBDL [AA07]<BR>BF BOLDtVenc [DTI2]<BR>BF BOLCedente [TXT3]<BR>BF BOLCodCedente [AA20]<BR>BF BOLDtDoc [DTI1]<BR>BF BOLNumDoc [AA13]<BR>BF BOLDtProc [DTI3]<BR>BF BOLNossoNum [AA20]<BR>BF BOLCarteira [AA03]<BR>BF BOLValorDoc [AA15]<BR>BF BOLLinha1 [DCRC]<BR>BF BOLLinha2 [DCRC]<BR>BF BOLLinha3 [DCRC]<BR>BF BOLLinha4 [DCRC]<BR>BF BOLLinha5 [DCRC]<BR>BF BOLLinha6 [DCRC]<BR>BF BOLLinha7 [DCRC]<BR>BF BOLLinha8 [DCRC]<BR>BF BOLNomeSacado [ALP1]<BR>BF BOLCNPJSacado [LGL5]<BR>BF BOLEndSacado [ADD2]<BR>BF BOLCEP [AA12]<BR>BF BOLCidade [VINV]<BR>BF BOLUF [URC1]<BR>BF BOLSacador [RMK]<BR>BF BOLCodBarras [AA112]<BR>BF Negociacao [UKID]<BR>BF MSGFat [TXPP]<BR>BF FATNomeCliente [ALPH]<BR>BF FATCNPJCliente [TAX]<BR>BF FATDtEmissao [AA10]<BR>BF FATDtVencimento [AA10]<BR>BF szBOLConstante1 [C9DSC]<BR>BF FATValorAberto [AA15]<BR>BF szTemFatura [FUF3]<BR>BF FATValorBruto [AA15]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_TaxIdRaiz [TAX]<br>evt_CNPJRaiz [AA08]<br>evt_ErroUDC [EV01]<br>evt_AddressNumber [AN8]<br>evt_AmountOpen [AAP]<br>evt_ARReportingCode10 [AR10]<br>evt_DocumentType [DCT]<br>evt_DocVoucherInvoiceE [DOC]<br>evt_Company [CO]<br>evt_UserDefinedCode [KY]<br>evt_AddressNumberParent [PA8]<br>evt_LineNumberID [IDLN]<br>evt_ElectronicAddressType [ETP]<br>evt_EmailCorresponde [EV01]<br>evt_DateDueJulian [DDJ]<br>evt_DataUtil [DDJ]<br>evt_DiaUtil [EV01]<br>evt_Mensagem [ABNAME]<br>evt_TemFatura [EV01]<br>evt_PayorAddressNumber [PYR]<br>evt_DocumentPayItem [SFX]<br>evt_PayStatusCode [PST]<br>evt_PaymentInstrumentA [RYIN]<br>evt_DateInvoiceJ [DIVJ]<br>evt_Digito [EV01]<br>evt_NomeAssessoria [DL01]<br>evt_FoneAssessoria [DTA1]<br>evt_EmailAssessoria [EMAL]<br>evt_Description01002 [DL02]<br>evt_MostraFatura [EV01]<br>evt_Fatura_AS2 [AS2]<br>evt_Produto_PRDC [PRDC]<br>evt_CodProduto [CODPRODU]<br>evt_BankCode [BKCD]<br>evt_AcctNoInputMode [ANI]<br>evt_AlphaSpecData25 [AA25]<br>evt_FillerForVertexFil12 [Q012]<br>evt_Description001 [DL01]<br>evt_jdDataFatura_TRDJ [TRDJ]<br>evt_AmountGross [AG]<br>evt_szTempJuro_DL01 [DL01]<br>evt_mnTamanhoJuro_CNTF [CNTF]<br>evt_mnTamanho_CNTF [CNTF]<br>evt_cTipo_AT1 [AT1]<br>evt_szEmailCadastro_EMAL [EMAL]<br>----------------------------------------</BR>  BF CodMSGFat [AA03] = &#60;NULL&#62;<br>  BF MSGFat [TXPP] = &#60;NULL&#62;<br>  BF CodMSGErro [AA03] = &#60;NULL&#62;<br>  BF MSGErro [XMLCMPST] = &#60;NULL&#62;<br>  BF FATDocumentType [DCT] = &#60;NULL&#62;<br>  BF FATDocVoucherInvoiceE [DOC] = &#60;NULL&#62;<br>  BF FATDocumentPayItem [SFX] = &#60;NULL&#62;<br>  BF FATCompanyKey [KCO] = &#60;NULL&#62;<br>  BF FATNomeVeiculo [DL01] = &#60;NULL&#62;<br>  BF FATNomeCliente [ALPH] = &#60;NULL&#62;<br>  BF FATCNPJCliente [TAX] = &#60;NULL&#62;<br>  BF FATValorAberto [AA15] = &#60;NULL&#62;<br>  BF FATValorBruto [AA15] = &#60;NULL&#62;<br>  BF FATCategoria [AA10] = &#60;NULL&#62;<br>  BF FATDtEmissao [AA10] = &#60;NULL&#62;<br>  BF FATDtVencimento [AA10] = &#60;NULL&#62;<br>  BF BOLBanco [AA05] = &#60;NULL&#62;<br>  BF BOLLinhaDigitavel [EMSG] = &#60;NULL&#62;<br>  BF BOLBDL [AA07] = &#60;NULL&#62;<br>  BF BOLDtVenc [DTI2] = &#60;NULL&#62;<br>  BF BOLCedente [TXT3] = &#60;NULL&#62;<br>  BF BOLCodCedente [AA20] = &#60;NULL&#62;<br>  BF BOLDtDoc [DTI1] = &#60;NULL&#62;<br>  BF BOLNumDoc [AA13] = &#60;NULL&#62;<br>  BF BOLDtProc [DTI3] = &#60;NULL&#62;<br>  BF BOLNossoNum [AA20] = &#60;NULL&#62;<br>  BF BOLCarteira [AA03] = &#60;NULL&#62;<br>  BF BOLValorDoc [AA15] = &#60;NULL&#62;<br>  BF BOLLinha1 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha2 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha3 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha4 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha5 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha6 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha7 [DCRC] = &#60;NULL&#62;<br>  BF BOLLinha8 [DCRC] = &#60;NULL&#62;<br>  BF BOLNomeSacado [ALP1] = &#60;NULL&#62;<br>  BF BOLCNPJSacado [LGL5] = &#60;NULL&#62;<br>  BF BOLEndSacado [ADD2] = &#60;NULL&#62;<br>  BF BOLCEP [AA12] = &#60;NULL&#62;<br>  BF BOLCidade [VINV] = &#60;NULL&#62;<br>  BF BOLUF [URC1] = &#60;NULL&#62;<br>  BF BOLSacador [RMK] = &#60;NULL&#62;<br>  BF BOLCodBarras [AA112] = &#60;NULL&#62;<br>  BF Negociacao [UKID] = "0"<br>  BF szTemFatura [FUF3] = "N"<br>  VA evt_szEmailCadastro_EMAL [EMAL] = &#60;NULL&#62;<span class='comment'><br>  //</span><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:49' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF idCursorFaturas [GENLNG] is equal to "0"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:49:hide' style='display: inline;'><br>       VA evt_mnTamanho_CNTF [CNTF] = length([BF szTaxId [TAX]])<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:51' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnTamanho_CNTF [CNTF] is greater than "11"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:51:hide' style='display: inline;'><br>            VA evt_CNPJRaiz [AA08] = substr([BF szTaxId [TAX]], "0", "8")<span class='comment'><br>            // 57/EE - CNPJ Exceção - 2ª Via Faturas</span><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:54' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetUDCDescription(N0800031.GetUDCDescription)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:54:hide' style='display: inline;'><span class='parameters'><br>                 "57" -&#62; szSystemCode [SY]<br>                 "EE" -&#62; szUserDefinedCodes [RT]<br>                 VA evt_CNPJRaiz [AA08] -&#62; szUserDefinedCode [KY]<br>                 VA evt_ErroUDC [EV01] &#60;- cErrorCode [ERRC]</span></div></div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:55' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:55:hide' style='display: inline;'><br>            VA evt_ErroUDC [EV01] = "0"</div><br>       End If<br>       VA evt_EmailCorresponde [EV01] = "S"<br>       VA evt_LineNumberID [IDLN] = "0"<br>       VA evt_ElectronicAddressType [ETP] = "E"<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:62' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_ErroUDC [EV01] is equal to "0"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:62:hide' style='display: inline;'><span class='comment'><br>            // Busca o AN8 pelo CNPJ completo</span><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:64' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0101.Select  [Index 4: Tax Id]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:64:hide' style='display: inline;'><br>                 <span class='iokey'>BF szTaxId [TAX] = TK Tax ID [TAX]</span></div></div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:65' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:65:hide' style='display: inline;'><span class='comment'><br>            // Busca o AN8 pelo CNPJ raiz e tipo C - cliente</span><br>            VA evt_cTipo_AT1 [AT1] = "C"<br>            VA evt_TaxIdRaiz [TAX] = concat([VA evt_CNPJRaiz [AA08]], "%")<br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:69' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0101.Select  [Index 4: Tax Id]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:69:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_TaxIdRaiz [TAX] Is Like TK Tax ID [TAX]</span><br>                 <span class='iokey'>VA evt_cTipo_AT1 [AT1] = TK Search Type [AT1]</span></div></div><br>       End If<span class='comment'><br>       // Busca o pai na VA evt_AddressNumberParent [PA8]</span><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:72' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0101.FetchNext  [Index 4: Tax Id]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:72:hide' style='display: inline;'><br>            VA evt_AddressNumberParent [PA8] &#60;- TK Address Number [AN8]</div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:73' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:73:hide' style='display: inline;'><span class='comment'><br>            // CNPJ/CPF não cadastrado</span><br>            BF CodMSGErro [AA03] = "03"</div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:76' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:76:hide' style='display: inline;'><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:77' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:77:hide' style='display: inline;'><span class='comment'><br>                 // Busca o filho na VA evt_AddressNumber [AN8]</span><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:79' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0150.Select  [Index 3: Parent Number]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:79:hide' style='display: inline;'><br>                      <span class='iokey'>VA evt_AddressNumberParent [PA8] = TK Address Number - Parent [PA8]</span></div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:80' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0150.FetchNext  [Index 3: Parent Number]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:80:hide' style='display: inline;'><br>                      VA evt_AddressNumber [AN8] &#60;- TK Address Number [AN8]</div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:81' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:81:hide' style='display: inline;'><span class='comment'><br>                      // não encontrou, logo, é pai</span><span class='comment'><br>                      // Verifica / Carrega Cliente</span><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:92' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.FetchSingle  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:92:hide' style='display: inline;'><br>                           <span class='iokey'>BF mnSessao [UKID] = TK Unique Key ID (Internal) [UKID]</span><br>                           <span class='iokey'>VA evt_AddressNumberParent [PA8] = TK Address Number [AN8]</span></div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:93' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:93:hide' style='display: inline;'><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:94' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.Insert  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:94:hide' style='display: inline;'><br>                                BF mnSessao [UKID] -&#62; TK Unique Key ID (Internal) [UKID]<br>                                VA evt_AddressNumberParent [PA8] -&#62; TK Address Number [AN8]<br>                                SL DateToday -&#62; TK Date - Updated [UPMJ]</div></div><br>                      End If</div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:96' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:96:hide' style='display: inline;'><span class='comment'><br>                      // encontrou, então, varre todos os filhos</span><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:98' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:98:hide' style='display: inline;'><span class='comment'><br>                           // Verifica e-Mail</span><span class='comment'><br>                           // Verifica / Carrega Cliente</span><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:101' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.FetchSingle  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:101:hide' style='display: inline;'><br>                                <span class='iokey'>BF mnSessao [UKID] = TK Unique Key ID (Internal) [UKID]</span><br>                                <span class='iokey'>VA evt_AddressNumber [AN8] = TK Address Number [AN8]</span></div><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:102' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:102:hide' style='display: inline;'><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:103' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.Insert  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:103:hide' style='display: inline;'><br>                                     BF mnSessao [UKID] -&#62; TK Unique Key ID (Internal) [UKID]<br>                                     VA evt_AddressNumber [AN8] -&#62; TK Address Number [AN8]<br>                                     SL DateToday -&#62; TK Date - Updated [UPMJ]</div></div><br>                           End If<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:105' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0150.FetchNext  [Index 3: Parent Number]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:105:hide' style='display: inline;'><br>                                VA evt_AddressNumber [AN8] &#60;- TK Address Number [AN8]</div></div><br>                      End While<br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:115' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.FetchSingle  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:115:hide' style='display: inline;'><br>                           <span class='iokey'>BF mnSessao [UKID] = TK Unique Key ID (Internal) [UKID]</span><br>                           <span class='iokey'>VA evt_AddressNumberParent [PA8] = TK Address Number [AN8]</span></div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:116' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:116:hide' style='display: inline;'><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:117' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW1.Insert  [Index 1: UKID]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:117:hide' style='display: inline;'><br>                                BF mnSessao [UKID] -&#62; TK Unique Key ID (Internal) [UKID]<br>                                VA evt_AddressNumberParent [PA8] -&#62; TK Address Number [AN8]<br>                                SL DateToday -&#62; TK Date - Updated [UPMJ]</div></div><br>                      End If</div><br>                 End If<br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:120' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0101.FetchNext  [Index 4: Tax Id]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:120:hide' style='display: inline;'><br>                      VA evt_AddressNumberParent [PA8] &#60;- TK Address Number [AN8]</div></div><br>            End While<br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:122' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_EmailCorresponde [EV01] is equal to "N"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:122:hide' style='display: inline;'><span class='comment'><br>                 // CNPJ/CPF cadastrado - Email não cadastrado</span><br>                 BF CodMSGErro [AA03] = "21"</div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:125' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:125:hide' style='display: inline;'><span class='comment'><br>                 // CNPJ/CPF cadastrado - Email cadastrado</span><br>                 BF CodMSGErro [AA03] = "01"</div><br>            End If</div><br>       End If</div><br>  End If<span class='comment'><br>  //</span><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:132' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>SelecionaFaturasV5503SW1(B5503S1A.SelecionaFaturasV5503SW1)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:132:hide' style='display: inline;'><span class='parameters'><br>       VA evt_AddressNumber [AN8] &#60;- mnCliente [AN8]<br>       VA evt_DateDueJulian [DDJ] &#60;- jdDataVencimento [DDJ]<br>       VA evt_AmountOpen [AAP] &#60;- mnValorAberto [AAP]<br>       VA evt_ARReportingCode10 [AR10] &#60;- szCarteira [AR10]<br>       VA evt_PayStatusCode [PST] &#60;- cStatus [PST]<br>       VA evt_PaymentInstrumentA [RYIN] &#60;- cInstrumentoPagamento [RYIN]<br>       VA evt_DateInvoiceJ [DIVJ] &#60;- jdDataEmissao [DIVJ]<br>       VA evt_PayorAddressNumber [PYR] &#60;- mnPagador [PYR]<br>       VA evt_DocVoucherInvoiceE [DOC] &#60;- mnNumeroFatura [DOC]<br>       VA evt_DocumentType [DCT] &#60;- szTipoFatura [DCT]<br>       VA evt_Company [CO] &#60;- szCompanhia [KCO]<br>       VA evt_DocumentPayItem [SFX] &#60;- szSequencia [SFX]<br>       BF mnSessao [UKID] -&#62; mnIdentificador [UKID]<br>       BF idCursorFaturas [GENLNG] &#60;&#62; idCursor [GENLNG]<br>       VA evt_TemFatura [EV01] &#60;- cTemFatura [EV01]<br>       VA evt_AmountGross [AG] &#60;- mnValorBruto [AG]</span></div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:133' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_TemFatura [EV01] is equal to "S"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:133:hide' style='display: inline;'><br>       BF szTemFatura [FUF3] = "S"<br>       VA evt_MostraFatura [EV01] = "S"<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:136' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF CodMSGErro [AA03] is equal to "21"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:136:hide' style='display: inline;'><br>            BF CodMSGErro [AA03] = "22"</div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:138' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:138:hide' style='display: inline;'><br>            BF CodMSGErro [AA03] = "00"</div><br>       End If<br>       VA evt_DiaUtil [EV01] = &#60;NULL&#62;<br>       VA evt_DataUtil [DDJ] = SL DateToday<br>       VA evt_DataUtil [DDJ] = add_days([VA evt_DataUtil [DDJ]], "-1")<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:144' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>IsDateAWorkDate(B0000149.IsDateAWorkDate)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:144:hide' style='display: inline;'><span class='parameters'><br>            VA evt_DataUtil [DDJ] -&#62; jdDate [DATE01]<br>            "         053" -&#62; szCostCenter [MMCU]<br>            VA evt_DiaUtil [EV01] &#60;- cWorkDayFlag [EV01]</span></div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:145' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While VA evt_DiaUtil [EV01] is equal to "0"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:145:hide' style='display: inline;'><br>            VA evt_DataUtil [DDJ] = add_days([VA evt_DataUtil [DDJ]], "-1")<br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:147' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>IsDateAWorkDate(B0000149.IsDateAWorkDate)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:147:hide' style='display: inline;'><span class='parameters'><br>                 VA evt_DataUtil [DDJ] -&#62; jdDate [DATE01]<br>                 "         053" -&#62; szCostCenter [MMCU]<br>                 VA evt_DiaUtil [EV01] &#60;- cWorkDayFlag [EV01]</span></div></div><br>       End While<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:149' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_DateDueJulian [DDJ] is greater than VA evt_DataUtil [DDJ]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:149:hide' style='display: inline;'><br>            BF FATCategoria [AA10] = "AVENCER"<br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:151' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_PaymentInstrumentA [RYIN] is equal to "1"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:151:hide' style='display: inline;'><br>                 BF CodMSGFat [AA03] = "902"<span class='comment'><br>                 // Descomentar Depois</span><span class='comment'><br>                 // Descomentar Depois</span></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:156' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:156:hide' style='display: inline;'><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:157' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570112.FetchSingle  [Index 4: Veiculo]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:157:hide' style='display: inline;'><br>                      VA evt_CodProduto [CODPRODU] &#60;- TK Código do Produto [CODPRODU]<br>                      <span class='iokey'>VA evt_DocumentType [DCT] = TK EDI - Document Type [EDCT]</span></div><br>                 VA evt_Produto_PRDC [PRDC] = lpad([VA evt_CodProduto [CODPRODU]], "0", "4")<br>                 VA evt_Fatura_AS2 [AS2] = [VA evt_DocVoucherInvoiceE [DOC]]<br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:160' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570117E.FetchSingle  [Index 4: Prod,Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:160:hide' style='display: inline;'><br>                      VA evt_AlphaSpecData25 [AA25] &#60;- TK Alpha Spec. Data 25 [AA25]<br>                      BF BOLNumDoc [AA13] &#60;- TK Alpha Spec. Data 13 [AA13]<br>                      VA evt_FillerForVertexFil12 [Q012] &#60;- TK Filler for Vertex File [Q012]<br>                      BF BOLDtDoc [DTI1] &#60;- TK Data Item 1 [DTI1]<br>                      BF BOLDtVenc [DTI2] &#60;- TK Data Item 2 [DTI2]<br>                      BF BOLDtProc [DTI3] &#60;- TK Data Item 3 [DTI3]<br>                      BF BOLValorDoc [AA15] &#60;- TK Alpha Spec. Data 15 [AA15]<br>                      BF BOLNomeSacado [ALP1] &#60;- TK Secondary Alpha Name [ALP1]<br>                      BF BOLEndSacado [ADD2] &#60;- TK Address Line 2 [ADD2]<br>                      BF BOLCidade [VINV] &#60;- TK Supplier Invoice Number [VINV]<br>                      BF BOLUF [URC1] &#60;- TK User Reserved Code [URC1]<br>                      BF BOLCEP [AA12] &#60;- TK Alpha Spec. Data 12 [AA12]<br>                      BF BOLCarteira [AA03] &#60;- TK Alpha Spec. Data 03 [AA03]<br>                      BF BOLSacador [RMK] &#60;- TK Name - Remark [RMK]<br>                      BF BOLLinha1 [DCRC] &#60;- TK Description - Compressed [DC]<br>                      BF BOLCodBarras [AA112] &#60;- TK Alpha Spec. Data 112 [AA112]<br>                      BF BOLLinhaDigitavel [EMSG] &#60;- TK Error Message - PC Batch Edit [EMSG]<br>                      BF BOLLinha3 [DCRC] &#60;- TK Description 01 [LGL1]<br>                      BF BOLLinha4 [DCRC] &#60;- TK Description 03 [LGL3]<br>                      BF BOLCNPJSacado [LGL5] &#60;- TK Description 05 [LGL5]<br>                      BF BOLCedente [TXT3] &#60;- TK Processing Option Text3 [TXT3]<br>                      BF BOLLinha7 [DCRC] &#60;- TK Processing Option Text4 [TXT4]<br>                      VA evt_BankCode [BKCD] &#60;- TK Bank Code [BKCD]<br>                      <span class='iokey'>VA evt_Produto_PRDC [PRDC] = TK Product Code [PRDC]</span><br>                      <span class='iokey'>VA evt_Fatura_AS2 [AS2] = TK Serial Number [AS2]</span><br>                      VA evt_AcctNoInputMode [ANI] &#60;- TK Account Number - Input (Mode Unknown) [ANI]</div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:161' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:161:hide' style='display: inline;'><span class='comment'><br>                      // Trata Juros</span><br>                      VA evt_szTempJuro_DL01 [DL01] = substr(rtrim([BF BOLLinha1 [DCRC]], &#60;Blank&#62;), "0", "17")<br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:164' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_szTempJuro_DL01 [DL01] is equal to "Juros de 1 dia : "<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:164:hide' style='display: inline;'><span class='comment'><br>                           //</span><br>                           VA evt_szTempJuro_DL01 [DL01] = substr(rtrim([BF BOLLinha1 [DCRC]], &#60;Blank&#62;), (length(rtrim([BF BOLLinha1 [DCRC]], &#60;Blank&#62;))-11), length(rtrim([BF BOLLinha1 [DCRC]], &#60;Blank&#62;)))<br>                           VA evt_szTempJuro_DL01 [DL01] = ltrim([VA evt_szTempJuro_DL01 [DL01]], "0")<br>                           VA evt_mnTamanhoJuro_CNTF [CNTF] = length([VA evt_szTempJuro_DL01 [DL01]])<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:169' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnTamanhoJuro_CNTF [CNTF] is equal to "2"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:169:hide' style='display: inline;'><br>                                VA evt_szTempJuro_DL01 [DL01] = concat("0.", [VA evt_szTempJuro_DL01 [DL01]])</div><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:171' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:171:hide' style='display: inline;'><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:172' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnTamanhoJuro_CNTF [CNTF] is equal to "1"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:172:hide' style='display: inline;'><br>                                     VA evt_szTempJuro_DL01 [DL01] = concat("0.", concat([VA evt_szTempJuro_DL01 [DL01]], "0"))</div><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:174' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:174:hide' style='display: inline;'><br>                                    <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:175' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnTamanhoJuro_CNTF [CNTF] is greater than "2"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:175:hide' style='display: inline;'><br>                                          VA evt_szTempJuro_DL01 [DL01] = concat(concat(substr([VA evt_szTempJuro_DL01 [DL01]], "0", (length([VA evt_szTempJuro_DL01 [DL01]])-2)), "."), substr([VA evt_szTempJuro_DL01 [DL01]], (length([VA evt_szTempJuro_DL01 [DL01]])-2), length([VA evt_szTempJuro_DL01 [DL01]])))</div><br>                                     End If</div><br>                                End If</div><br>                           End If<span class='comment'><br>                           //</span><br>                           BF BOLLinha1 [DCRC] = concat(concat("Juros de 1 dia : R$ ", [VA evt_szTempJuro_DL01 [DL01]]), " (por dia de atraso)")</div><br>                      End If<span class='comment'><br>                      // Trata Juros</span><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:184' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertStringToDateUsingMask(B74I0010.ConvertStringToDateUsingMask)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:184:hide' style='display: inline;'><span class='parameters'><br>                           VA evt_jdDataFatura_TRDJ [TRDJ] &#60;- ConvertedDate [DRQJ]<br>                           BF BOLDtVenc [DTI2] -&#62; StringToConvert [VC10A]<br>                           "ASOSE" -&#62; FormatMask [VC09A]</span></div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:185' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_DateDueJulian [DDJ] is less than VA evt_DataUtil [DDJ]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:185:hide' style='display: inline;'><br>                           BF CodMSGFat [AA03] = "23"<br>                           BF FATCategoria [AA10] = "ANEGOCIAR"<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:188' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW2.FetchSingle  [Index 1: UKID, Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:188:hide' style='display: inline;'><br>                                <span class='iokey'>BF mnSessao [UKID] = TK Unique Key ID (Internal) [UKID]</span><br>                                <span class='iokey'>VA evt_Company [CO] = TK Document Company [KCO]</span><br>                                <span class='iokey'>VA evt_DocumentType [DCT] = TK Document Type [DCT]</span><br>                                <span class='iokey'>VA evt_DocVoucherInvoiceE [DOC] = TK Document (Voucher, Invoice, etc.) [DOC]</span><br>                                <span class='iokey'>VA evt_DocumentPayItem [SFX] = TK Document Pay Item [SFX]</span></div><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:189' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:189:hide' style='display: inline;'><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:190' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW2.Insert  [Index 1: UKID, Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:190:hide' style='display: inline;'><br>                                     BF mnSessao [UKID] -&#62; TK Unique Key ID (Internal) [UKID]<br>                                     VA evt_Company [CO] -&#62; TK Document Company [KCO]<br>                                     VA evt_DocumentType [DCT] -&#62; TK Document Type [DCT]<br>                                     VA evt_DocVoucherInvoiceE [DOC] -&#62; TK Document (Voucher, Invoice, etc.) [DOC]<br>                                     VA evt_DocumentPayItem [SFX] -&#62; TK Document Pay Item [SFX]<br>                                     VA evt_AmountOpen [AAP] -&#62; TK Amount Open [AAP]<br>                                     VA evt_PayorAddressNumber [PYR] -&#62; TK Payor Address Number [PYR]<br>                                     VA evt_AddressNumber [AN8] -&#62; TK Address Number [AN8]<br>                                     BF szTaxId [TAX] -&#62; TK Tax ID [TAX]<br>                                     BF szEmailAddressow [EMAL] -&#62; TK Electronic Address [EMAL]<br>                                     SL DateToday -&#62; TK Date - Updated [UPMJ]<br>                                     VA evt_DateDueJulian [DDJ] -&#62; TK Date - Net Due [DDJ]</div></div><br>                           End If</div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:192' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:192:hide' style='display: inline;'><span class='comment'><br>                           //</span><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:194' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetUDCDescription(N0800031.GetUDCDescription)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:194:hide' style='display: inline;'><span class='parameters'><br>                                "55" -&#62; szSystemCode [SY]<br>                                "4S" -&#62; szUserDefinedCodes [RT]<br>                                "BOL1" -&#62; szUserDefinedCode [KY]<br>                                VA evt_Description001 [DL01] &#60;- szDescription01 [DL01]<br>                                VA evt_Description01002 [DL02] &#60;- szDescription02 [DL02]<br>                                VA evt_ErroUDC [EV01] &#60;- cErrorCode [ERRC]</span></div><br>                           BF szBOLConstante1 [C9DSC] = concat([VA evt_Description001 [DL01]], [VA evt_Description01002 [DL02]])<br>                           BF BOLLinha2 [DCRC] = "Sr.Caixa não receber em cheque"<br>                           BF BOLLinha6 [DCRC] = "APOS VCTO, CRÉDITO SUJEITO A BLOQUEIO E PROTESTO"<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:198' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_BankCode [BKCD] is equal to ("041","S03")<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:198:hide' style='display: inline;'><br>                                BF BOLBanco [AA05] = "041-8"<br>                                BF BOLBDL [AA07] = "BDL-CCB"<br>                                BF BOLCodCedente [AA20] = concat(substr([VA evt_AcctNoInputMode [ANI]], "0", "3"), concat(".", concat(substr([VA evt_AcctNoInputMode [ANI]], "3", "2"), concat(&#60;Blank&#62;, concat(substr([VA evt_AlphaSpecData25 [AA25]], "3", "6"), concat(".", concat(substr([VA evt_AlphaSpecData25 [AA25]], "9", "1"), concat(".", substr([VA evt_AlphaSpecData25 [AA25]], "10", "2")))))))))<br>                                BF BOLNossoNum [AA20] = VA evt_FillerForVertexFil12 [Q012]<br>                                BF BOLCarteira [AA03] = "-"</div><br>                           End If<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:205' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_BankCode [BKCD] is equal to ("237","S23")<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:205:hide' style='display: inline;'><br>                                BF BOLBanco [AA05] = "237-2"<br>                                BF BOLCodCedente [AA20] = concat(substr([VA evt_AcctNoInputMode [ANI]], "0", "4"), concat("-", concat(substr([VA evt_AcctNoInputMode [ANI]], "4", "1"), concat(" / ", concat(substr([VA evt_AlphaSpecData25 [AA25]], "0", "7"), concat("-", substr([VA evt_AlphaSpecData25 [AA25]], "7", "1")))))))<br>                                BF BOLNossoNum [AA20] = concat(substr([BF BOLCarteira [AA03]], "1", "2"), concat("/", concat(substr([VA evt_FillerForVertexFil12 [Q012]], "0", "11"), concat("-", substr([VA evt_FillerForVertexFil12 [Q012]], "11", "1")))))</div><br>                           End If<br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:210' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF BOLBanco [AA05] is equal to ("748","S74")<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:210:hide' style='display: inline;'><br>                                BF BOLBanco [AA05] = "748-X"<br>                                BF BOLCodCedente [AA20] = concat(substr([VA evt_AcctNoInputMode [ANI]], "0", "4"), concat(".", concat(substr([VA evt_AcctNoInputMode [ANI]], "4", "2"), concat(".", substr([VA evt_AlphaSpecData25 [AA25]], "0", "5")))))<br>                                BF BOLNossoNum [AA20] = concat(substr([VA evt_FillerForVertexFil12 [Q012]], "0", "2"), concat("/", concat(substr([VA evt_FillerForVertexFil12 [Q012]], "2", "6"), concat("-", substr([VA evt_FillerForVertexFil12 [Q012]], "8", "1")))))<br>                                BF BOLCarteira [AA03] = &#60;NULL&#62;</div><br>                           End If<span class='comment'><br>                           //</span></div><br>                      End If<span class='comment'><br>                      //</span></div><br>                 End If</div><br>            End If</div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:221' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:221:hide' style='display: inline;'><br>            VA evt_Digito [EV01] = substr([VA evt_ARReportingCode10 [AR10]], "2", "1")<br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:223' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_Digito [EV01] is equal to "X"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:223:hide' style='display: inline;'><br>                 BF FATCategoria [AA10] = "EMNEGOCIA"<br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:225' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S05.FetchSingle  [Index 2: Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:225:hide' style='display: inline;'><br>                      BF Negociacao [UKID] &#60;- TK Unique Key ID (Internal) [UKID]<br>                      <span class='iokey'>VA evt_Company [CO] = TK Document Company [KCO]</span><br>                      <span class='iokey'>VA evt_DocumentType [DCT] = TK Document Type [DCT]</span><br>                      <span class='iokey'>VA evt_DocVoucherInvoiceE [DOC] = TK Document (Voucher, Invoice, etc.) [DOC]</span><br>                      <span class='iokey'>VA evt_DocumentPayItem [SFX] = TK Document Pay Item [SFX]</span></div></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:226' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:226:hide' style='display: inline;'><br>                 VA evt_UserDefinedCode [KY] = [VA evt_PaymentInstrumentA [RYIN]]<br>                 VA evt_Description01002 [DL02] = &#60;NULL&#62;<br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:229' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetUDCDescription(N0800031.GetUDCDescription)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:229:hide' style='display: inline;'><span class='parameters'><br>                      "00" -&#62; szSystemCode [SY]<br>                      "PY" -&#62; szUserDefinedCodes [RT]<br>                      VA evt_UserDefinedCode [KY] -&#62; szUserDefinedCode [KY]<br>                      VA evt_Description01002 [DL02] &#60;- szDescription02 [DL02]<br>                      VA evt_ErroUDC [EV01] &#60;- cErrorCode [ERRC]</span></div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:230' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_ARReportingCode10 [AR10] is greater than or equal to "900"<br>                 And VA evt_ARReportingCode10 [AR10] is less than or equal to "999"<br>                 Or VA evt_PayStatusCode [PST] is equal to "1"<br>                 And VA evt_Description01002 [DL02] is equal to "Protestar"<br>                 Or VA evt_ARReportingCode10 [AR10] is equal to "209"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:230:hide' style='display: inline;'><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:231' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_ARReportingCode10 [AR10] is equal to "209"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:231:hide' style='display: inline;'><br>                           BF CodMSGFat [AA03] = "902"<span class='comment'><br>                           // Descomentar Depois</span><span class='comment'><br>                           // Descomentar Depois</span></div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:236' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:236:hide' style='display: inline;'><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:237' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_ARReportingCode10 [AR10] is greater than or equal to "900"<br>                           And VA evt_ARReportingCode10 [AR10] is less than or equal to "999"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:237:hide' style='display: inline;'><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:238' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S02.FetchSingle  [Index 1: AR10]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:238:hide' style='display: inline;'><br>                                     <span class='iokey'>VA evt_ARReportingCode10 [AR10] = TK A/R Reporting Code 10 [AR10]</span><br>                                     VA evt_NomeAssessoria [DL01] &#60;- TK Description [DL01]<br>                                     VA evt_FoneAssessoria [DTA1] &#60;- TK Data Field 1 [DTA1]<br>                                     VA evt_EmailAssessoria [EMAL] &#60;- TK Electronic Address [EMAL]</div><br>                               <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:239' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:239:hide' style='display: inline;'><br>                                     BF MSGFat [TXPP] = concat("Contatar com assessoria : ", concat(rtrim(ltrim([VA evt_NomeAssessoria [DL01]], &#60;Blank&#62;), &#60;Blank&#62;), concat(" Fone: ", concat(rtrim(ltrim([VA evt_FoneAssessoria [DTA1]], &#60;Blank&#62;), &#60;Blank&#62;), concat(" E-mail: ", rtrim(ltrim([VA evt_EmailAssessoria [EMAL]], &#60;Blank&#62;), &#60;Blank&#62;))))))</div><br>                                End If</div><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:242' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:242:hide' style='display: inline;'></div><br>                           End If</div><br>                      End If<br>                      BF FATCategoria [AA10] = "NAONEGOCIA"</div><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:246' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:246:hide' style='display: inline;'><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:247' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW2.FetchSingle  [Index 1: UKID, Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:247:hide' style='display: inline;'><br>                           <span class='iokey'>BF mnSessao [UKID] = TK Unique Key ID (Internal) [UKID]</span><br>                           <span class='iokey'>VA evt_Company [CO] = TK Document Company [KCO]</span><br>                           <span class='iokey'>VA evt_DocumentType [DCT] = TK Document Type [DCT]</span><br>                           <span class='iokey'>VA evt_DocVoucherInvoiceE [DOC] = TK Document (Voucher, Invoice, etc.) [DOC]</span><br>                           <span class='iokey'>VA evt_DocumentPayItem [SFX] = TK Document Pay Item [SFX]</span></div><br>                     <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:248' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO ERROR<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:248:hide' style='display: inline;'><br>                          <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:249' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503SW2.Insert  [Index 1: UKID, Fatura]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:249:hide' style='display: inline;'><br>                                BF mnSessao [UKID] -&#62; TK Unique Key ID (Internal) [UKID]<br>                                VA evt_Company [CO] -&#62; TK Document Company [KCO]<br>                                VA evt_DocumentType [DCT] -&#62; TK Document Type [DCT]<br>                                VA evt_DocVoucherInvoiceE [DOC] -&#62; TK Document (Voucher, Invoice, etc.) [DOC]<br>                                VA evt_DocumentPayItem [SFX] -&#62; TK Document Pay Item [SFX]<br>                                VA evt_AmountOpen [AAP] -&#62; TK Amount Open [AAP]<br>                                VA evt_PayorAddressNumber [PYR] -&#62; TK Payor Address Number [PYR]<br>                                VA evt_AddressNumber [AN8] -&#62; TK Address Number [AN8]<br>                                BF szTaxId [TAX] -&#62; TK Tax ID [TAX]<br>                                BF szEmailAddressow [EMAL] -&#62; TK Electronic Address [EMAL]<br>                                SL DateToday -&#62; TK Date - Updated [UPMJ]<br>                                VA evt_DateDueJulian [DDJ] -&#62; TK Date - Net Due [DDJ]</div></div><br>                      End If<br>                      BF FATCategoria [AA10] = "ANEGOCIAR"</div><br>                 End If</div><br>            End If</div><br>       End If<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:255' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_MostraFatura [EV01] is equal to "S"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:255:hide' style='display: inline;'><br>            BF FATDocumentType [DCT] = VA evt_DocumentType [DCT]<br>            BF FATDocVoucherInvoiceE [DOC] = VA evt_DocVoucherInvoiceE [DOC]<br>            BF FATDocumentPayItem [SFX] = VA evt_DocumentPayItem [SFX]<br>            BF FATCompanyKey [KCO] = VA evt_Company [CO]<span class='comment'><br>            // Nome Veículo</span><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:261' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetUDCDescription(N0800031.GetUDCDescription)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:261:hide' style='display: inline;'><span class='parameters'><br>                 "00" -&#62; szSystemCode [SY]<br>                 "DT" -&#62; szUserDefinedCodes [RT]<br>                 VA evt_DocumentType [DCT] -&#62; szUserDefinedCode [KY]<br>                 BF FATNomeVeiculo [DL01] &#60;- szDescription01 [DL01]<br>                 VA evt_ErroUDC [EV01] &#60;- cErrorCode [ERRC]</span></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:262' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertandFormatDatas(N5576B02.ConvertandFormatDatas)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:262:hide' style='display: inline;'><span class='parameters'><br>                 BF FATDtEmissao [AA10] &#60;- szStringOut [DS02]<br>                 VA evt_DateInvoiceJ [DIVJ] -&#62; jdDateIn [BRADLJ]<br>                 "B" -&#62; cTypeIn [ER001]</span></div><span class='comment'><br>            // Data Vencimento</span><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:264' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertandFormatDatas(N5576B02.ConvertandFormatDatas)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:264:hide' style='display: inline;'><span class='parameters'><br>                 BF FATDtVencimento [AA10] &#60;- szStringOut [DS02]<br>                 VA evt_DateDueJulian [DDJ] -&#62; jdDateIn [BRADLJ]<br>                 "B" -&#62; cTypeIn [ER001]</span></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:265' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF FATCategoria [AA10] is equal to "NAONEGOCIA"<br>            And VA evt_ARReportingCode10 [AR10] is equal to "209"<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:265:hide' style='display: inline;'><span class='comment'><br>                 // Valor Aberto = Valor Bruto</span><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:267' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertandFormatDatas(N5576B02.ConvertandFormatDatas)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:267:hide' style='display: inline;'><span class='parameters'><br>                      BF FATValorAberto [AA15] &#60;- szStringOut [DS02]<br>                      "2" -&#62; mnNumDecimals [ITM]<br>                      "15" -&#62; mnSize [ITM]<br>                      "N" -&#62; cTypeIn [ER001]<br>                      VA evt_AmountGross [AG] -&#62; mnNumberIn [MN29D9]</span></div></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:268' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:268:hide' style='display: inline;'><span class='comment'><br>                 // Valor Aberto</span><br>                <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:270' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertandFormatDatas(N5576B02.ConvertandFormatDatas)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:270:hide' style='display: inline;'><span class='parameters'><br>                      BF FATValorAberto [AA15] &#60;- szStringOut [DS02]<br>                      "2" -&#62; mnNumDecimals [ITM]<br>                      "15" -&#62; mnSize [ITM]<br>                      "N" -&#62; cTypeIn [ER001]<br>                      VA evt_AmountOpen [AAP] -&#62; mnNumberIn [MN29D9]</span></div></div><br>            End If<span class='comment'><br>            // Valor Bruto</span><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:273' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertandFormatDatas(N5576B02.ConvertandFormatDatas)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:273:hide' style='display: inline;'><span class='parameters'><br>                 BF FATValorBruto [AA15] &#60;- szStringOut [DS02]<br>                 "2" -&#62; mnNumDecimals [ITM]<br>                 "15" -&#62; mnSize [ITM]<br>                 "N" -&#62; cTypeIn [ER001]<br>                 VA evt_AmountGross [AG] -&#62; mnNumberIn [MN29D9]</span></div><br>           <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:274' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0101.FetchSingle  [Index 1: Address #]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:274:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_AddressNumber [AN8] = TK Address Number [AN8]</span><br>                 BF FATCNPJCliente [TAX] &#60;- TK Tax ID [TAX]<br>                 BF FATNomeCliente [ALPH] &#60;- TK Name - Alpha [ALPH]</div></div><br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:275' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:275:hide' style='display: inline;'></div><br>       End If</div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:277' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:277:hide' style='display: inline;'><br>       BF szTemFatura [FUF3] = "N"</div><br>  End If<br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:280' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.Select  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:280:hide' style='display: inline;'><br>       <span class='iokey'>BF CodMSGErro [AA03] = TK Alpha Spec. Data 03 [AA03]</span></div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:281' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.FetchNext  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:281:hide' style='display: inline;'><br>       VA evt_Mensagem [ABNAME] &#60;- TK Descricao [DCRC]</div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:282' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:282:hide' style='display: inline;'><br>       VA evt_Mensagem [ABNAME] = ltrim(rtrim([VA evt_Mensagem [ABNAME]], &#60;Blank&#62;), &#60;Blank&#62;)<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:284' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>AddCarrigeReturnString(B559861.AddCarrigeReturnString)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:284:hide' style='display: inline;'><span class='parameters'><br>            VA evt_Mensagem [ABNAME] &#60;&#62; szString [ABNAME]</span></div><br>       BF MSGErro [XMLCMPST] = concat([BF MSGErro [XMLCMPST]], [VA evt_Mensagem [ABNAME]])<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:286' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.FetchNext  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:286:hide' style='display: inline;'><br>            VA evt_Mensagem [ABNAME] &#60;- TK Descricao [DCRC]</div></div><br>  End While<br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:288' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.Select  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:288:hide' style='display: inline;'><br>       <span class='iokey'>BF CodMSGFat [AA03] = TK Alpha Spec. Data 03 [AA03]</span></div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:289' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.FetchNext  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:289:hide' style='display: inline;'><br>       VA evt_Mensagem [ABNAME] &#60;- TK Descricao [DCRC]</div><br> <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:290' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:290:hide' style='display: inline;'><br>       VA evt_Mensagem [ABNAME] = ltrim(rtrim([VA evt_Mensagem [ABNAME]], &#60;Blank&#62;), &#60;Blank&#62;)<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:292' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>AddCarrigeReturnString(B559861.AddCarrigeReturnString)<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:292:hide' style='display: inline;'><span class='parameters'><br>            VA evt_Mensagem [ABNAME] &#60;&#62; szString [ABNAME]</span></div><br>       BF MSGFat [TXPP] = concat([BF MSGFat [TXPP]], [VA evt_Mensagem [ABNAME]])<br>      <div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:294' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F5503S01.FetchNext  [Index 1: Erro, Linha]<div id='c39334d8-16da-41af-bf0c-c7ad3a4604e3:294:hide' style='display: inline;'><br>            VA evt_Mensagem [ABNAME] &#60;- TK Descricao [DCRC]</div></div><br>  End While</div></div></body></html>