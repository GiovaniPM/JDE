<!DOCTYPE html><html lang = "en"><head><meta charset = "utf-8"><meta name = "viewport" content = "width=device-width, initial-scale=1"><title>JDE Object Browser HTML Extract</title>
<style type='text/css'>body,th{font-family: Courier New, Courier, mono;font-size: 12px; width:auto}
.section{font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width: 100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.objectheader {font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width:auto;background-color: #FFFFCC;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.details{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px;box-sizing: border-box }
.er {background-color: #FFFFFF;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal; border: thin solid #CCCCCC; width:auto; padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.dstrmembers {background-color: #FFFDDD;font-family: Courier New, Courier, mono;font-size: 12px;border: thin groove #CC9966;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.disabled {font-family: Courier New, Courier, mono;font-size: 12px;	font-style: italic; color:#CC9933}
.parameters {font-family: Courier New, Courier, mono;font-size: 12px; color:#3333FF}
.comment {font-family: Courier New, Courier, mono;font-size: 12px;	color: #339933}
.subtable {font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;width:100%}
.lineno {color:#6E6E6E;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.iokey {color:#FF6905;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.logicline {color:#000000;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.versionoverride {background-color: #FFCC99;}
.overrideflags{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:auto;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; background-color: #FFCC99; box-sizing: border-box }
.bsfnprops {font-family: Courier New, Courier, mono;font-size: 12px; color:#E01B4C}
.searchresult {font-family: Courier New, Courier, mono;font-size: 12px; font-weight: bold; background-color:#8BF3A0}
.expand {font-family: Courier New, Courier, mono;font-size: 11px; font-weight: bold; cursor:pointer; border: 1px solid gray; position: relative; left: -3px; display:inline; line-height:8px;}
.expand2 { display:inline; cursor:pointer; font-size: 9px; border: 1px solid gray; position: relative; left: -3px;}
</style>
<script type='text/javascript'>function load(){location.href = '#result';}</script>
<script language='JavaScript' type='text/javascript'>function ExpandCollapse(ElementId){ var ClickedElement = document.getElementById(ElementId); var SectionName = ElementId + ':hide'; var Section = document.getElementById(SectionName); if (ClickedElement.innerHTML == '-') { 	 ClickedElement.innerHTML = '+';	Section.style.display = 'none'; }  else  { 		ClickedElement.innerHTML = '-'; 	Section.style.display = 'inline';}} </script>
<base target = "_parent"></head><body onload='load()'>
<div class ='objectheader'>Business Function: N570860B - Recalcula Arvore Gerencia<BR>Function Type: NER</div><div class='section'>EVENTS<div class='objectheader'>NER: CaminhoCalculoGerencia <BR>Event GUID: 5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860BC - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cCaminho [ERRC]<BR>BF szQualificadorGerente [CODDES]<BR>BF szExecutivos [BSDO]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_cParou_EV01 [EV01]<br>evt_szProdutos_CRSREF01 [CRSREF01]<br>evt_szOrigens_CRSREF01 [CRSREF01]<br>evt_szCentroCusto_CRSREF01 [CRSREF01]<br>evt_szRetranca_CRSREF01 [CRSREF01]<br>evt_szDiretoria_CRSREF01 [CRSREF01]<br>evt_szTipoAnunc_CRSREF01 [CRSREF01]<br>evt_szExecutivos_BSDO [BSDO]<br>----------------------------------------</BR>  VA evt_cParou_EV01 [EV01] = "N"<br>  BF cCaminho [ERRC] = "1"<br> <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Select  [Index 1: PK]<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:3:hide' style='display: inline;'><br>       <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#60;= TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#62;= TK Ano/mês de Emissão [ANMEEMI]</span></div><br> <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:4:hide' style='display: inline;'><br>       VA evt_szProdutos_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 01 [CRSREF01]<br>       VA evt_szOrigens_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 02 [CRSREF02]<br>       VA evt_szCentroCusto_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 03 [CRSREF03]<br>       VA evt_szRetranca_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 04 [CRSREF04]<br>       VA evt_szDiretoria_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 05 [CRSREF05]<br>       VA evt_szTipoAnunc_CRSREF01 [CRSREF01] &#60;- TK Block 02 String [BLOCK02]<br>       VA evt_szExecutivos_BSDO [BSDO] &#60;- TK Based On [BSDO]</div><br> <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<br>  And VA evt_cParou_EV01 [EV01] is equal to "N"<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:5:hide' style='display: inline;'><span class='comment'><br>       //</span><br>       VA evt_szCentroCusto_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szCentroCusto_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szDiretoria_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szDiretoria_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szOrigens_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szOrigens_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szProdutos_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szProdutos_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szRetranca_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szRetranca_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szTipoAnunc_CRSREF01 [CRSREF01] = rtrim(ltrim([VA evt_szTipoAnunc_CRSREF01 [CRSREF01]], &#60;Blank&#62;), &#60;Blank&#62;)<br>       VA evt_szExecutivos_BSDO [BSDO] = rtrim(ltrim([VA evt_szExecutivos_BSDO [BSDO]], &#60;Blank&#62;), &#60;Blank&#62;)<br>      <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_szCentroCusto_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<br>       And VA evt_szDiretoria_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<br>       And VA evt_szOrigens_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<br>       And VA evt_szProdutos_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<br>       And VA evt_szRetranca_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<br>       And VA evt_szTipoAnunc_CRSREF01 [CRSREF01] is equal to or empty &#60;Blank&#62;<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:14:hide' style='display: inline;'></div><br>      <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:15' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:15:hide' style='display: inline;'><br>            BF cCaminho [ERRC] = "2"<br>            VA evt_cParou_EV01 [EV01] = "S"</div><br>       End If<span class='comment'><br>       //</span><br>      <div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:20' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='5f4428a6-4aaf-49d5-9ee0-1bad45c97b8e:20:hide' style='display: inline;'><br>            VA evt_szProdutos_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 01 [CRSREF01]<br>            VA evt_szOrigens_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 02 [CRSREF02]<br>            VA evt_szCentroCusto_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 03 [CRSREF03]<br>            VA evt_szRetranca_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 04 [CRSREF04]<br>            VA evt_szDiretoria_CRSREF01 [CRSREF01] &#60;- TK Cross Reference Field 05 [CRSREF05]<br>            VA evt_szTipoAnunc_CRSREF01 [CRSREF01] &#60;- TK Block 02 String [BLOCK02]<br>            VA evt_szExecutivos_BSDO [BSDO] &#60;- TK Based On [BSDO]</div></div><br>  End While</div></div><div class='section'>EVENTS<div class='objectheader'>NER: RecalculaArvoreGerencia <BR>Event GUID: 3463ae9b-bb3e-444f-a1ef-5faf7eac07a0</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860B - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cErrorCode [ERRC]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnAnoMesEntrada_ANMESENT [ANMESENT]<br>evt_szUnidadeCorrente_UNID1 [UNID1]<br>evt_szUnidadePai_UNID2 [UNID2]<br>evt_szOrigemCorrente_CUP [CUP]<br>evt_szOrigemPai_A801 [A801]<br>evt_mnNivelCorrente_NIVC [NIVC]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_szQualficador_CODDES [CODDES]<br>evt_szUnidadeGerencia_UNID1 [UNID1]<br>evt_szUsuario_USERID [USER]<br>evt_szMaquina_JOBN [JOBN]<br>evt_szQualificadGerente_CODDES [CODDES]<br>evt_mnVlrMeta_VLRMETA [VLRMETA]<br>evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]<br>evt_mnVlrMetaFilho_VLRMETA [VLRMETA]<br>evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]<br>evt_mnNivelPaiEmProc_NIVP [NIVP]<br>evt_mnNivelAtualEmProc_NIVC [NIVC]<br>evt_szUnidadeAtualEmProc_UNID1 [UNID1]<br>evt_szOrigemAtualEmProc_CUP [CUP]<br>evt_szUnidadePaiEmProc_UNID2 [UNID2]<br>evt_szOrigemPaiEmProc_A801 [A801]<br>evt_szUniFilho_UNID1 [UNID1]<br>evt_szOrigFilho_CUP [CUP]<br>evt_szUnidFilhoPai_UNID2 [UNID2]<br>evt_szOrigFilhoPai_A801 [A801]<br>evt_mnNivFilho_NIVC [NIVC]<br>evt_mnNivPai_NIVP [NIVP]<br>evt_mnValorMetaGerente_VLRMETA [VLRMETA]<br>evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI]<br>evt_szUnidGerente_UNID1 [UNID1]<br>evt_szOrigemGerente_CUP [CUP]<br>evt_mnGerente_NIVC [NIVC]<br>evt_szUnidGerentePai_UNID2 [UNID2]<br>evt_szOrigemGerentePai_A801 [A801]<br>evt_mnGerentePai_NIVP [NIVP]<br>evt_mnZero_VLRTOTLI [VLRTOTLI]<br>evt_szUnidGerenteAnt_UNID1 [UNID1]<br>evt_szOriGerAnt_CUP [CUP]<br>evt_szUnidGerPaiAnt_UNID2 [UNID2]<br>evt_szOrigGerPaiAnt_A801 [A801]<br>evt_mnGerenteAnt_NIVC [NIVC]<br>evt_szGerentePaiAnt_NIVP [NIVP]<br>evt_mnMetaMinima_VLRMETA [VLRMETA]<br>evt_mnMetaF570863_VLRMETA [VLRMETA]<br>evt_mnPercentualF570864_ANPR [ANPR]<br>evt_mnPaiZero_NIVP [NIVP]<br>evt_cEvento_JDEEVNT [JDEEVNT]<br>evt_mnRegra1_ASC [ASC]<br>evt_mnRegra2_ASC [ASC2]<br>evt_mnRegra3_ASC [ASC3]<br>evt_mnComissao1_CMPCT [CMPCT]<br>evt_mnComissao2_CMPCT2 [CMPCT2]<br>evt_mnComissao3_CMPCT3 [CMPCT3]<br>evt_mnMetaAjuste_VLRMETA [VLRMETA]<br>evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI]<br>evt_cGeracaoVerba_EV05 [EV05]<br>evt_jdDataAtualizacao_UPMJ [UPMJ]<br>evt_mnHoraAtualizacao_UPMT [UPMT]<br>evt_szPrograma_PID [PID]<br>evt_cTipoAjuste_EV02 [EV02]<br>evt_szProdutos_CRSREF01 [CRSREF01]<br>evt_szRetrancas_CRSREF01 [CRSREF01]<br>evt_szDiretorias_CRSREF01 [CRSREF01]<br>evt_szBranco_HT01 [HT01]<br>evt_szOrigem_CODORIGE [CODORIGE]<br>evt_szFilial_MCU [MCU]<br>evt_szDiretoria_RP05 [RP05]<br>evt_szRetranca_RETRANCA [RETRANCA]<br>evt_cValida_EV01 [EV01]<br>evt_cCaminho_EV01 [EV01]<br>evt_szExecutivos_BSDO [BSDO]<br>----------------------------------------</BR><span class='comment'>  //</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetAuditInfo(B9800100.GetAuditInfo)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:2:hide' style='display: inline;'><span class='parameters'><br>       VA evt_szUsuario_USERID [USER] &#60;- szUserName [USER]<br>       VA evt_jdDataAtualizacao_UPMJ [UPMJ] &#60;- jdDate [DTE]<br>       VA evt_mnHoraAtualizacao_UPMT [UPMT] &#60;- mnTime [TME0]<br>       VA evt_szMaquina_JOBN [JOBN] &#60;- szWorkstation_UserId [JOBN]</span></div><br>  VA evt_szPrograma_PID [PID] = "N570860B"<span class='comment'><br>  //</span><span class='comment'><br>  // Zera os qualficadores de gerencia da arvore</span><br>  VA evt_szBranco_HT01 [HT01] = &#60;NULL&#62;<br>  VA evt_mnPaiZero_NIVP [NIVP] = "0"<br>  VA evt_mnVlrMeta_VLRMETA [VLRMETA] = 0<br>  VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = 0<br>  VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI] = "0"<br>  VA evt_mnMetaMinima_VLRMETA [VLRMETA] = "0"<br>  VA evt_mnValorMetaGerente_VLRMETA [VLRMETA] = "0"<br>  VA evt_mnZero_VLRTOTLI [VLRTOTLI] = "0"<br>  VA evt_szUnidadeGerencia_UNID1 [UNID1] = "GER"<br>  VA evt_cEvento_JDEEVNT [JDEEVNT] = &#60;NULL&#62;<br>  VA evt_mnMetaAjuste_VLRMETA [VLRMETA] = "0"<br>  VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] = "0"<span class='comment'><br>  // Deleta a Tabela Temporaria</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:19' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:19:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span></div><span class='comment'><br>  //</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:21' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>RefazArvore(N570860B.RefazArvore)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:21:hide' style='display: inline;'><span class='parameters'><br>       BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]</span></div><span class='comment'><br>  // Ajusta os qualficadores da Arvore de gerencia - Fim</span><span class='comment'><br>  //</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:24' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetAuditInfo(B9800100.GetAuditInfo)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:24:hide' style='display: inline;'><span class='parameters'><br>       VA evt_szUsuario_USERID [USER] &#60;- szUserName [USER]<br>       UNDEFINED &#60;&#62; jdDate [DTE]<br>       UNDEFINED &#60;&#62; mnTime [TME0]<br>       VA evt_szMaquina_JOBN [JOBN] &#60;- szWorkstation_UserId [JOBN]</span></div><span class='comment'><br>  // Busca os Qualificadores de Gerencia</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:26' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 3: Pai,Filho]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:26:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span></div><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:27' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 3: Pai,Filho]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:27:hide' style='display: inline;'><br>       VA evt_mnAnoMesEntrada_ANMESENT [ANMESENT] &#60;- TK Ano e Mês de Entrada [ANMESENT]<br>       VA evt_szUnidGerente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>       VA evt_szOrigemGerente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>       VA evt_szQualificadGerente_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>       VA evt_mnGerente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>       VA evt_mnGerentePai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>       VA evt_szUnidGerentePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>       VA evt_szOrigemGerentePai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><span class='comment'><br>  // Guarda os valores para quebra</span><br>  VA evt_szGerentePaiAnt_NIVP [NIVP] = VA evt_mnGerentePai_NIVP [NIVP]<br>  VA evt_mnGerenteAnt_NIVC [NIVC] = VA evt_mnGerente_NIVC [NIVC]<br>  VA evt_szOrigGerPaiAnt_A801 [A801] = VA evt_szOrigemGerentePai_A801 [A801]<br>  VA evt_szUnidGerPaiAnt_UNID2 [UNID2] = VA evt_szUnidGerentePai_UNID2 [UNID2]<br>  VA evt_szOriGerAnt_CUP [CUP] = VA evt_szOrigemGerente_CUP [CUP]<br>  VA evt_szUnidGerenteAnt_UNID1 [UNID1] = VA evt_szUnidGerente_UNID1 [UNID1]<span class='comment'><br>  //</span><br> <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:36' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:36:hide' style='display: inline;'><span class='comment'><br>       //</span><br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:38' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CaminhoCalculoGerencia(N570860B.CaminhoCalculoGerencia)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:38:hide' style='display: inline;'><span class='parameters'><br>            BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]<br>            VA evt_cCaminho_EV01 [EV01] &#60;- cCaminho [ERRC]<br>            VA evt_szQualificadGerente_CODDES [CODDES] -&#62; szQualificadorGerente [CODDES]<br>            VA evt_szExecutivos_BSDO [BSDO] &#60;- szExecutivos [BSDO]</span></div><br>       VA evt_szExecutivos_BSDO [BSDO] = ltrim(rtrim([VA evt_szExecutivos_BSDO [BSDO]], &#60;Blank&#62;), &#60;Blank&#62;)<br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:40' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cCaminho_EV01 [EV01] is equal to "1"<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:40:hide' style='display: inline;'><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:41' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>SomaQualificadoresGerencia(N570860B.SomaQualificadoresGerencia)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:41:hide' style='display: inline;'><span class='parameters'><br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]<br>                 VA evt_szQualificadGerente_CODDES [CODDES] -&#62; szQualificadorGerente [CODDES]<br>                 VA evt_mnVlrMeta_VLRMETA [VLRMETA] &#60;- mnVlrMeta [VLRMETA]<br>                 VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] &#60;- mnVlrTotalLiquido [VLRTOTLI]<br>                 VA evt_szUnidGerente_UNID1 [UNID1] -&#62; szUnidadeGerente [UNID1]<br>                 VA evt_szOrigemGerente_CUP [CUP] -&#62; szOrigemGerente [CUP]<br>                 VA evt_mnGerente_NIVC [NIVC] -&#62; mnGerente [NIVC]<br>                 VA evt_mnGerentePai_NIVP [NIVP] -&#62; mnGerentePai [NIVP]<br>                 VA evt_szUnidGerentePai_UNID2 [UNID2] -&#62; szUnidadeGerentePai [UNID2]<br>                 VA evt_szOrigemGerentePai_A801 [A801] -&#62; szOrigemGerentePai [A801]</span></div></div><br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:42' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:42:hide' style='display: inline;'><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:43' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cCaminho_EV01 [EV01] is equal to "2"<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:43:hide' style='display: inline;'><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:44' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>SomaPedidosQualficadoresGerencia(N570860B.SomaPedidosQualficadoresGerencia)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:44:hide' style='display: inline;'><span class='parameters'><br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]<br>                      VA evt_szQualificadGerente_CODDES [CODDES] -&#62; szQualificadorGerente [CODDES]<br>                      VA evt_mnVlrMeta_VLRMETA [VLRMETA] &#60;- mnVlrMeta [VLRMETA]<br>                      VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] &#60;- mnVlrTotalLiquido [VLRTOTLI]<br>                      VA evt_szUnidGerente_UNID1 [UNID1] -&#62; szUnidadeGerente [UNID1]<br>                      VA evt_szOrigemGerente_CUP [CUP] -&#62; szOrigemGerente [CUP]<br>                      VA evt_mnGerente_NIVC [NIVC] -&#62; mnGerente [NIVC]<br>                      VA evt_mnGerentePai_NIVP [NIVP] -&#62; mnGerentePai [NIVP]<br>                      VA evt_szUnidGerentePai_UNID2 [UNID2] -&#62; szUnidadeGerentePai [UNID2]<br>                      VA evt_szOrigemGerentePai_A801 [A801] -&#62; szOrigemGerentePai [A801]</span></div><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:45' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:45:hide' style='display: inline;'><br>                      <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                      <span class='iokey'>VA evt_szUnidGerente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                      <span class='iokey'>VA evt_szOrigemGerente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                      <span class='iokey'>VA evt_szQualificadGerente_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>VA evt_mnGerente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                      <span class='iokey'>VA evt_mnGerentePai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                      VA evt_mnVlrMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                      VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                      VA evt_szUsuario_USERID [USER] -&#62; TK User ID [USER]<br>                      VA evt_szMaquina_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                      VA evt_mnHoraAtualizacao_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                      VA evt_jdDataAtualizacao_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]<br>                      <span class='iokey'>VA evt_szUnidGerentePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                      <span class='iokey'>VA evt_szOrigemGerentePai_A801 [A801] = TK Generic 8 String 01 [A801]</span></div></div><br>            End If</div><br>       End If<span class='comment'><br>       //</span><br>       VA evt_cGeracaoVerba_EV05 [EV05] = &#60;NULL&#62;<br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:50' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F57080D.FetchSingle  [Index 1: Primary]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:50:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szQualificadGerente_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>            VA evt_cGeracaoVerba_EV05 [EV05] &#60;- TK EnterpriseOne Point 05 [EV05]</div><br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:51' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cGeracaoVerba_EV05 [EV05] is equal to "S"<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:51:hide' style='display: inline;'><br>            VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI] = [VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI]]+[VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]]<br>            VA evt_mnValorMetaGerente_VLRMETA [VLRMETA] = [VA evt_mnValorMetaGerente_VLRMETA [VLRMETA]]+[VA evt_mnVlrMeta_VLRMETA [VLRMETA]]</div><br>       End If<br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:55' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 3: Pai,Filho]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:55:hide' style='display: inline;'><br>            VA evt_mnAnoMesEntrada_ANMESENT [ANMESENT] &#60;- TK Ano e Mês de Entrada [ANMESENT]<br>            VA evt_szUnidGerente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_szOrigemGerente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_szQualificadGerente_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>            VA evt_mnGerente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>            VA evt_mnGerentePai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidGerentePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemGerentePai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:56' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:56:hide' style='display: inline;'><span class='comment'><br>            //</span><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:58' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnGerente_NIVC [NIVC] is not equal to VA evt_mnGerenteAnt_NIVC [NIVC]<br>            Or VA evt_mnGerentePai_NIVP [NIVP] is not equal to VA evt_szGerentePaiAnt_NIVP [NIVP]<br>            Or VA evt_szOrigemGerente_CUP [CUP] is not equal to VA evt_szOriGerAnt_CUP [CUP]<br>            Or VA evt_szUnidGerente_UNID1 [UNID1] is not equal to VA evt_szUnidGerenteAnt_UNID1 [UNID1]<br>            Or VA evt_szUnidGerentePai_UNID2 [UNID2] is not equal to VA evt_szUnidGerPaiAnt_UNID2 [UNID2]<br>            Or VA evt_szOrigemGerentePai_A801 [A801] is not equal to VA evt_szOrigGerPaiAnt_A801 [A801]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:58:hide' style='display: inline;'><span class='comment'><br>                 //</span><span class='comment'><br>                 // Atualiza o Cabeçalho</span><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:61' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570871.FetchSingle  [Index 1: Primary]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:61:hide' style='display: inline;'><br>                      <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                      VA evt_mnRegra1_ASC [ASC] &#60;- TK Sales Associate Number [ASC]<br>                      VA evt_mnRegra2_ASC [ASC2] &#60;- TK Sales Associate Number 2 [ASC2]<br>                      VA evt_mnRegra3_ASC [ASC3] &#60;- TK Sales Associate Number 3 [ASC3]</div><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:62' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:62:hide' style='display: inline;'><span class='parameters'><br>                      VA evt_mnRegra1_ASC [ASC] -&#62; mnRegra_NUMB [NUMB]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                      VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                      VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                      VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                      VA evt_mnComissao1_CMPCT [CMPCT] &#60;- mnValorPagamento_CLA [CLA]</span></div><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:63' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:63:hide' style='display: inline;'><span class='parameters'><br>                      VA evt_mnRegra2_ASC [ASC2] -&#62; mnRegra_NUMB [NUMB]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                      VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                      VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                      VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                      VA evt_mnComissao2_CMPCT2 [CMPCT2] &#60;- mnValorPagamento_CLA [CLA]</span></div><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:64' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:64:hide' style='display: inline;'><span class='parameters'><br>                      VA evt_mnRegra3_ASC [ASC3] -&#62; mnRegra_NUMB [NUMB]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                      VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                      VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                      VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                      VA evt_mnComissao3_CMPCT3 [CMPCT3] &#60;- mnValorPagamento_CLA [CLA]</span></div><span class='comment'><br>                 //</span><br>                <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:66' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:66:hide' style='display: inline;'><br>                      <span class='iokey'>VA evt_mnAnoMesEntrada_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                      <span class='iokey'>VA evt_szUnidGerenteAnt_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                      <span class='iokey'>VA evt_mnGerenteAnt_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                      <span class='iokey'>VA evt_szGerentePaiAnt_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                      <span class='iokey'>VA evt_szOriGerAnt_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                      VA evt_mnValorMetaGerente_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                      VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                      VA evt_mnComissao1_CMPCT [CMPCT] -&#62; TK Commission Percentage [CMPCT]<br>                      VA evt_mnComissao2_CMPCT2 [CMPCT2] -&#62; TK Commission Percentage 2 [CMPCT2]<br>                      VA evt_mnComissao3_CMPCT3 [CMPCT3] -&#62; TK Commission Percentage 3 [CMPCT3]<br>                      VA evt_szPrograma_PID [PID] -&#62; TK Program ID [PID]<br>                      VA evt_szUsuario_USERID [USER] -&#62; TK User ID [USER]<br>                      VA evt_szMaquina_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                      VA evt_mnHoraAtualizacao_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                      VA evt_jdDataAtualizacao_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]<br>                      <span class='iokey'>VA evt_szUnidGerPaiAnt_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                      <span class='iokey'>VA evt_szOrigGerPaiAnt_A801 [A801] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>                 // Guarda os valores para quebra</span><br>                 VA evt_szGerentePaiAnt_NIVP [NIVP] = VA evt_mnGerentePai_NIVP [NIVP]<br>                 VA evt_mnGerenteAnt_NIVC [NIVC] = VA evt_mnGerente_NIVC [NIVC]<br>                 VA evt_szOrigGerPaiAnt_A801 [A801] = VA evt_szOrigemGerentePai_A801 [A801]<br>                 VA evt_szUnidGerPaiAnt_UNID2 [UNID2] = VA evt_szUnidGerentePai_UNID2 [UNID2]<br>                 VA evt_szOriGerAnt_CUP [CUP] = VA evt_szOrigemGerente_CUP [CUP]<br>                 VA evt_szUnidGerenteAnt_UNID1 [UNID1] = VA evt_szUnidGerente_UNID1 [UNID1]<br>                 VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI] = "0"<br>                 VA evt_mnValorMetaGerente_VLRMETA [VLRMETA] = "0"<span class='comment'><br>                 //</span></div><br>            End If<span class='comment'><br>            //</span></div><br>      <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:79' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:79:hide' style='display: inline;'><span class='comment'><br>            //</span><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:81' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570871.FetchSingle  [Index 1: Primary]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:81:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 VA evt_mnRegra1_ASC [ASC] &#60;- TK Sales Associate Number [ASC]<br>                 VA evt_mnRegra2_ASC [ASC2] &#60;- TK Sales Associate Number 2 [ASC2]<br>                 VA evt_mnRegra3_ASC [ASC3] &#60;- TK Sales Associate Number 3 [ASC3]</div><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:82' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:82:hide' style='display: inline;'><span class='parameters'><br>                 VA evt_mnRegra1_ASC [ASC] -&#62; mnRegra_NUMB [NUMB]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                 VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                 VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                 VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                 VA evt_mnComissao1_CMPCT [CMPCT] &#60;- mnValorPagamento_CLA [CLA]</span></div><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:83' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:83:hide' style='display: inline;'><span class='parameters'><br>                 VA evt_mnRegra2_ASC [ASC2] -&#62; mnRegra_NUMB [NUMB]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                 VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                 VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                 VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                 VA evt_mnComissao2_CMPCT2 [CMPCT2] &#60;- mnValorPagamento_CLA [CLA]</span></div><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:84' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>CalculaPagamento(B570870.CalculaPagamento)<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:84:hide' style='display: inline;'><span class='parameters'><br>                 VA evt_mnRegra3_ASC [ASC3] -&#62; mnRegra_NUMB [NUMB]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesRegra_ANMESENT [ANMESENT]<br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesPlacar_ANMESENT [ANMESENT]<br>                 VA evt_szUnidGerenteAnt_UNID1 [UNID1] -&#62; szUnidadePlacar_UNID1 [UNID1]<br>                 VA evt_szOriGerAnt_CUP [CUP] -&#62; szOrigemPlacar_CUP [CUP]<br>                 VA evt_mnGerenteAnt_NIVC [NIVC] -&#62; mnExecutivoPacar_NIVC [NIVC]<br>                 VA evt_mnComissao3_CMPCT3 [CMPCT3] &#60;- mnValorPagamento_CLA [CLA]</span></div><span class='comment'><br>            //</span><span class='comment'><br>            // Atualiza o Cabeçalho</span><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:87' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:87:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_mnAnoMesEntrada_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>VA evt_szUnidGerente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>VA evt_mnGerente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>VA evt_szGerentePaiAnt_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_szOrigemGerente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 VA evt_mnValorMetaGerente_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                 VA evt_mnExecutadoGerente_VLRTOTL [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                 VA evt_mnComissao1_CMPCT [CMPCT] -&#62; TK Commission Percentage [CMPCT]<br>                 VA evt_mnComissao2_CMPCT2 [CMPCT2] -&#62; TK Commission Percentage 2 [CMPCT2]<br>                 VA evt_mnComissao3_CMPCT3 [CMPCT3] -&#62; TK Commission Percentage 3 [CMPCT3]<br>                 VA evt_szPrograma_PID [PID] -&#62; TK Program ID [PID]<br>                 VA evt_szUsuario_USERID [USER] -&#62; TK User ID [USER]<br>                 VA evt_szMaquina_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                 VA evt_mnHoraAtualizacao_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                 VA evt_jdDataAtualizacao_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]<br>                 <span class='iokey'>VA evt_szUnidGerentePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>VA evt_szOrigemGerentePai_A801 [A801] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>            //</span><span class='comment'><br>            // so pra dar erro</span><br>           <div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:90' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 3: Pai,Filho]<div id='3463ae9b-bb3e-444f-a1ef-5faf7eac07a0:90:hide' style='display: inline;'><br>                 VA evt_mnAnoMesEntrada_ANMESENT [ANMESENT] &#60;- TK Ano e Mês de Entrada [ANMESENT]<br>                 VA evt_szUnidGerente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>                 VA evt_szOrigemGerente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>                 VA evt_szQualificadGerente_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>                 VA evt_mnGerente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                 VA evt_mnGerentePai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_szUnidGerentePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>                 VA evt_szOrigemGerentePai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><span class='comment'><br>            //</span></div><br>       End If</div><br>  End While<span class='comment'><br>  //</span></div></div><div class='section'>EVENTS<div class='objectheader'>NER: RefazArvore <BR>Event GUID: 891d221a-d20c-4649-8e81-a01d3b702b16</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860B - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cErrorCode [ERRC]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_szUnidadeGerencia_UNID1 [UNID1]<br>evt_mnZero_VLRTOTLI [VLRTOTLI]<br>evt_szOrigemCorrente_CUP [CUP]<br>evt_mnNivelCorrente_NIVC [NIVC]<br>evt_szQualficador_CODDES [CODDES]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_szUnidadePai_UNID2 [UNID2]<br>evt_szOrigemPai_A801 [A801]<br>evt_szUnidadeCorrente_UNID1 [UNID1]<br>evt_mnVlrMeta_VLRMETA [VLRMETA]<br>evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]<br>evt_cEvento_JDEEVNT [JDEEVNT]<br>evt_mnVlrMetaFilho_VLRMETA [VLRMETA]<br>evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]<br>evt_szBranco_HT03 [HT03]<br>----------------------------------------</BR>  VA evt_mnZero_VLRTOTLI [VLRTOTLI] = "0"<br>  VA evt_szUnidadeGerencia_UNID1 [UNID1] = "GER"<br>  VA evt_szBranco_HT03 [HT03] = &#60;Blank&#62;<span class='comment'><br>  //</span><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:5:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Valor da Meta [VLRMETA]<br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]</div><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:6:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Valor da Meta [VLRMETA]<br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Commission Percentage [CMPCT]<br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Commission Percentage 2 [CMPCT2]<br>       VA evt_mnZero_VLRTOTLI [VLRTOTLI] -&#62; TK Commission Percentage 3 [CMPCT3]</div><span class='comment'><br>  //</span><span class='comment'><br>  // Deleto os Qualificadores Existentes na Gerencia - vindos da arvore de</span><span class='comment'><br>  // hierarquia</span><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.Select<div id='891d221a-d20c-4649-8e81-a01d3b702b16:10:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570861.0]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] &#60;&#62; TK Unidade de produto 1 [UNID1][F570861.0]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2][F570861.0]</span></div><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:11' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='891d221a-d20c-4649-8e81-a01d3b702b16:11:hide' style='display: inline;'><br>       VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570861.0]<br>       VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570861.0]<br>       VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>       VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570861.0]<br>       VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP][F570861.0]<br>       VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2][F570861.0]<br>       VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801][F570861.0]</div><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:12' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='891d221a-d20c-4649-8e81-a01d3b702b16:12:hide' style='display: inline;'><span class='comment'><br>       //</span><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Delete  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:14:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>            <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidadePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigemPai_A801 [A801] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>       //</span><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:16' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='891d221a-d20c-4649-8e81-a01d3b702b16:16:hide' style='display: inline;'><br>            VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570861.0]<br>            VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570861.0]<br>            VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>            VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570861.0]<br>            VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP][F570861.0]<br>            VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2][F570861.0]<br>            VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801][F570861.0]</div></div><br>  End While<span class='comment'><br>  //</span><span class='comment'><br>  // Ajusta os qualficadores da Arvore de gerencia - Inicio</span><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:20' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Select  [Index 1: PK]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:20:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] &#60;&#62; TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>VA evt_szUnidadeGerencia_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span></div><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:21' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:21:hide' style='display: inline;'><br>       VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>       VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>       VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>       VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>       VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>       VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><br> <div id='891d221a-d20c-4649-8e81-a01d3b702b16:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='891d221a-d20c-4649-8e81-a01d3b702b16:22:hide' style='display: inline;'><br>       VA evt_mnVlrMeta_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = "0"<br>       VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] = "0"<span class='comment'><br>       //</span><span class='comment'><br>       // Busco os qualficadores existentes na hierarquia</span><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:29' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:29:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] &#60;&#62; TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:30' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:30:hide' style='display: inline;'><br>            VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>            VA evt_cEvento_JDEEVNT [JDEEVNT] &#60;- TK Event [JDEEVNT]<br>            VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>            VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:31' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='891d221a-d20c-4649-8e81-a01d3b702b16:31:hide' style='display: inline;'><span class='comment'><br>            //</span><br>            VA evt_mnVlrMeta_VLRMETA [VLRMETA] = [VA evt_mnVlrMeta_VLRMETA [VLRMETA]]+[VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA]]<br>            VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = [VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]]+[VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]]<br>           <div id='891d221a-d20c-4649-8e81-a01d3b702b16:35' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Insert  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:35:hide' style='display: inline;'><br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>                 VA evt_szUnidadeCorrente_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>                 VA evt_szOrigemCorrente_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>                 VA evt_szQualficador_CODDES [CODDES] -&#62; TK Código do Destino [CODDES]<br>                 VA evt_mnNivelCorrente_NIVC [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]<br>                 VA evt_mnNivelPai_NIVP [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_cEvento_JDEEVNT [JDEEVNT] -&#62; TK Event [JDEEVNT]<br>                 VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                 VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                 VA evt_szUnidadePai_UNID2 [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>                 VA evt_szOrigemPai_A801 [A801] -&#62; TK Generic 8 String 01 [A801]</div><span class='comment'><br>            //</span><br>            VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] = "0"<br>            VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] = "0"<br>           <div id='891d221a-d20c-4649-8e81-a01d3b702b16:39' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:39:hide' style='display: inline;'><br>                 VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>                 VA evt_cEvento_JDEEVNT [JDEEVNT] &#60;- TK Event [JDEEVNT]<br>                 VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                 VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div></div><br>       End While<span class='comment'><br>       //</span><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:42' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:42:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnVlrMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>            VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>            <span class='iokey'>VA evt_szUnidadePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigemPai_A801 [A801] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>       //</span><br>      <div id='891d221a-d20c-4649-8e81-a01d3b702b16:44' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='891d221a-d20c-4649-8e81-a01d3b702b16:44:hide' style='display: inline;'><br>            VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>            VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div></div><br>  End While<span class='comment'><br>  // Ajusta os qualficadores da Arvore de gerencia - Fim</span></div></div><div class='section'>EVENTS<div class='objectheader'>NER: SomaPedidosQualficadoresGerencia <BR>Event GUID: 3062a3b1-bbbe-44d1-ad9b-d8f492cdc668</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860BB - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cErrorCode [ERRC]<BR>BF szQualificadorGerente [CODDES]<BR>BF mnVlrMeta [VLRMETA]<BR>BF mnVlrTotalLiquido [VLRTOTLI]<BR>BF szUnidadeGerente [UNID1]<BR>BF szOrigemGerente [CUP]<BR>BF mnGerente [NIVC]<BR>BF mnGerentePai [NIVP]<BR>BF szUnidadeGerentePai [UNID2]<BR>BF szOrigemGerentePai [A801]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_szUnidadeAtual_UNID1 [UNID1]<br>evt_szOrigenAtual_CUP [CUP]<br>evt_mnNivelAtual_NIVC [NIVC]<br>evt_mnNivelPaiAtual_NIVP [NIVP]<br>evt_szUnidadePaiAtual_UNID2 [UNID2]<br>evt_szOrigemPaiAtual_A801 [A801]<br>evt_szUnidadeGerente_UNID1 [UNID1]<br>evt_mnValorMeta_VLRMETA [VLRMETA]<br>evt_mnValorExecutado_VLRTOTLI [VLRTOTLI]<br>evt_szQualificador_CODDES [CODDES]<br>evt_mnValorMetaExec_VLRMETA [VLRMETA]<br>evt_mnExecutadoExec_VLRTOTLI [VLRTOTLI]<br>evt_mnMetaMinima_VLRMETA [VLRMETA]<br>evt_cTipoAjuste_EV01 [EV01]<br>evt_szBlank_DL01 [DL01]<br>evt_szProcessado_USER [USER]<br>evt_mnInicio_ANMESENT [ANMESENT]<br>evt_mnFim_ANMESENT [ANMESENT]<br>evt_szProductCode_SY [SY]<br>evt_szUserDefinedCodes_RT [RT]<br>evt_szUserDefinedCode_KY [KY]<br>evt_mnZero_NIVC [NIVC]<br>----------------------------------------</BR><span class='comment'>  // Busca os filhos do qualficador/gerente</span><br>  VA evt_szProcessado_USER [USER] = "P"<br>  VA evt_mnZero_NIVC [NIVC] = "0"<br>  BF mnVlrMeta [VLRMETA] = "0"<br>  BF mnVlrTotalLiquido [VLRTOTLI] = "0"<br>  VA evt_szUnidadeGerente_UNID1 [UNID1] = "GER"<br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:7:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span></div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:8:hide' style='display: inline;'><br>       BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>       BF szUnidadeGerentePai [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>       BF szOrigemGerentePai [A801] -&#62; TK Generic 8 String 01 [A801]<br>       BF mnGerentePai [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>       BF szUnidadeGerente [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>       BF szOrigemGerente [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>       BF mnGerente [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div><span class='comment'><br>  //</span><br>  VA evt_szUnidadeAtual_UNID1 [UNID1] = BF szUnidadeGerente [UNID1]<br>  VA evt_szOrigenAtual_CUP [CUP] = BF szOrigemGerente [CUP]<br>  VA evt_mnNivelAtual_NIVC [NIVC] = BF mnGerente [NIVC]<span class='comment'><br>  // Pega todos os executivos abaixo qualficiador de gerencia</span><span class='comment'><br>  // UNID2 != GER</span><span class='comment'><br>  // vou descendo</span><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:16' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:16:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span></div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:17' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:17:hide' style='display: inline;'><br>       VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>       VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>       VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>       VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>       VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>       VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:18' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:18:hide' style='display: inline;'><span class='comment'><br>       // Verifico se é fonados, se for insere</span><br>       VA evt_szProductCode_SY [SY] = "57"<br>       VA evt_szUserDefinedCodes_RT [RT] = "CF"<br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertMath_NumericToString(B8000094.ConvertMath_NumericToString)<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:22:hide' style='display: inline;'><span class='parameters'><br>            VA evt_mnNivelAtual_NIVC [NIVC] -&#62; mnMathNumeric01 [MATH01]<br>            VA evt_szUserDefinedCode_KY [KY] &#60;- szString [PV01]</span></div><br>       VA evt_szUserDefinedCode_KY [KY] = lpad(lpad([VA evt_szUserDefinedCode_KY [KY]], "0", "8"), &#60;Blank&#62;, "10")<br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:24' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0005.FetchSingle  [Index 1: System, Type, Code]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:24:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szProductCode_SY [SY] = TK Product Code [SY]</span><br>            <span class='iokey'>VA evt_szUserDefinedCodes_RT [RT] = TK User Defined Codes [RT]</span><br>            <span class='iokey'>VA evt_szUserDefinedCode_KY [KY] = TK User Defined Code [KY]</span></div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:25' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:25:hide' style='display: inline;'><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:26' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:26:hide' style='display: inline;'><br>                 BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>                 VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; TK Unidade de produto 2 [UNID2]<br>                 VA evt_szOrigenAtual_CUP [CUP] -&#62; TK Generic 8 String 01 [A801]<br>                 VA evt_mnZero_NIVC [NIVC] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>                 VA evt_szOrigenAtual_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>                 VA evt_mnNivelAtual_NIVC [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div></div><br>       End If<span class='comment'><br>       // Deleto executivo em processamento</span><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:29' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:29:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadePaiAtual_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigemPaiAtual_A801 [A801] = TK Generic 8 String 01 [A801]</span><br>            <span class='iokey'>VA evt_mnNivelPaiAtual_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidadeAtual_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigenAtual_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>VA evt_mnNivelAtual_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span></div><br>       VA evt_szProcessado_USER [USER] = "P"<span class='comment'><br>       //</span><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:32' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:32:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_mnNivelAtual_NIVC [NIVC] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidadeAtual_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigenAtual_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:33' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:33:hide' style='display: inline;'><br>            VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>            VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:34' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:34:hide' style='display: inline;'><span class='comment'><br>            //</span><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:36' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:36:hide' style='display: inline;'><span class='comment'><br>                 // guarda os filhos para processamento</span><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:38' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:38:hide' style='display: inline;'><br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>                      VA evt_szUnidadePaiAtual_UNID2 [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>                      VA evt_szOrigemPaiAtual_A801 [A801] -&#62; TK Generic 8 String 01 [A801]<br>                      VA evt_mnNivelPaiAtual_NIVP [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>                      VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>                      VA evt_szOrigenAtual_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>                      VA evt_mnNivelAtual_NIVC [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:39' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_szUnidadePaiAtual_UNID2 [UNID2] is not equal to "GER"<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:39:hide' style='display: inline;'><span class='comment'><br>                      // Pega os filhos caso não seja GER - arrumar depois</span><br>                     <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:41' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570860.Select<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:41:hide' style='display: inline;'><br>                           <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570860.0]</span><br>                           <span class='iokey'>VA evt_mnNivelAtual_NIVC [NIVC] = TK Nível Pai  Árvore Premiações [NIVP][F570860.0]</span><br>                           <span class='iokey'>VA evt_szUnidadeAtual_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2][F570860.0]</span><br>                           <span class='iokey'>VA evt_szOrigenAtual_CUP [CUP] = TK Generic 8 String 01 [A801][F570860.0]</span></div><br>                     <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:42' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570860.FetchNext<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:42:hide' style='display: inline;'><br>                           VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570860.0]<br>                           VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570860.0]<br>                           VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570860.0]<br>                           VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP][F570860.0]<br>                           VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2][F570860.0]<br>                           VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801][F570860.0]</div><br>                     <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:43' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:43:hide' style='display: inline;'><span class='comment'><br>                           //</span><br>                          <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:45' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:45:hide' style='display: inline;'><br>                                BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>                                VA evt_szUnidadePaiAtual_UNID2 [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>                                VA evt_szOrigemPaiAtual_A801 [A801] -&#62; TK Generic 8 String 01 [A801]<br>                                VA evt_mnNivelPaiAtual_NIVP [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>                                VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>                                VA evt_szOrigenAtual_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>                                VA evt_mnNivelAtual_NIVC [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div><span class='comment'><br>                           //</span><br>                          <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:47' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570860.FetchNext<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:47:hide' style='display: inline;'><br>                                VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570860.0]<br>                                VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570860.0]<br>                                VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570860.0]<br>                                VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP][F570860.0]<br>                                VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2][F570860.0]<br>                                VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801][F570860.0]</div></div><br>                      End While</div><br>                 End If<span class='comment'><br>                 //</span><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:51' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:51:hide' style='display: inline;'><br>                      VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>                      VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                      VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                      VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>                      VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>                      VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div></div><br>            End While<span class='comment'><br>            //</span></div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:54' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:54:hide' style='display: inline;'><span class='comment'><br>            //</span><span class='comment'><br>            //</span></div><br>       End If<span class='comment'><br>       //</span><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:63' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:63:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadeGerente_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span></div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:64' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:64:hide' style='display: inline;'><br>            VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>            VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div></div><br>  End While<span class='comment'><br>  // Processa todos os executivos</span><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:67' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:67:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidadeGerente_UNID1 [UNID1] &#60;&#62; TK Unidade de produto 2 [UNID2]</span></div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:68' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:68:hide' style='display: inline;'><br>       VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>       VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>       VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>       VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>       VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>       VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:69' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:69:hide' style='display: inline;'><span class='comment'><br>       //</span><br>       VA evt_mnValorMeta_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] = "0"<br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:73' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 1: Pk]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:73:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidadeAtual_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigenAtual_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>VA evt_mnNivelAtual_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_mnNivelPaiAtual_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidadePaiAtual_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigemPaiAtual_A801 [A801] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:74' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:74:hide' style='display: inline;'><br>            VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]</div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:75' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:75:hide' style='display: inline;'><span class='comment'><br>            //</span><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:77' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:77:hide' style='display: inline;'><br>                 <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Regra [REGRA]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Cross Reference Field 01 [CRSREF01]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Cross Reference Field 02 [CRSREF02]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Cross Reference Field 03 [CRSREF03]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Cross Reference Field 04 [CRSREF04]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Cross Reference Field 05 [CRSREF05]</span><br>                 <span class='iokey'>VA evt_szBlank_DL01 [DL01] = TK Block 02 String [BLOCK02]</span><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#60;= TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#62;= TK Ano/mês de Emissão [ANMEEMI]</span></div><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:78' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:78:hide' style='display: inline;'><br>                 VA evt_mnFim_ANMESENT [ANMESENT] &#60;- TK Ano e Mês de Entrada [ANMESENT]<br>                 VA evt_mnInicio_ANMESENT [ANMESENT] &#60;- TK Ano/mês de Emissão [ANMEEMI]</div><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:79' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:79:hide' style='display: inline;'><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:80' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Close<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:80:hide' style='display: inline;'><br>                      </div><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:81' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ValorPedidosGerencia(N570860B.ValorPedidosGerencia)<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:81:hide' style='display: inline;'><span class='parameters'><br>                      BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]<br>                      BF szQualificadorGerente [CODDES] -&#62; szQualificadorGerente [CODDES]<br>                      VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- mnVlrMeta [VLRMETA]<br>                      VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] &#60;- mnVlrTotalLiquido [VLRTOTLI]<br>                      VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificadorExecutivo [REGRA]<br>                      VA evt_mnNivelAtual_NIVC [NIVC] -&#62; mnExecutivo [NIVC]<br>                      VA evt_mnNivelPaiAtual_NIVP [NIVP] -&#62; mnNivelPai [NIVP]<br>                      VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                      VA evt_szOrigenAtual_CUP [CUP] -&#62; szOrigem [CUP]<br>                      "N" -&#62; cParam [EV01]</span></div></div><br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:82' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:82:hide' style='display: inline;'><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:83' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Select  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:83:hide' style='display: inline;'><br>                      <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Regra [REGRA]</span><br>                      <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#60;= TK Ano e Mês de Entrada [ANMESENT]</span><br>                      <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] &#62;= TK Ano/mês de Emissão [ANMEEMI]</span></div><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:84' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:84:hide' style='display: inline;'><br>                      VA evt_mnFim_ANMESENT [ANMESENT] &#60;- TK Ano e Mês de Entrada [ANMESENT]<br>                      VA evt_mnInicio_ANMESENT [ANMESENT] &#60;- TK Ano/mês de Emissão [ANMEEMI]</div><br>                <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:85' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:85:hide' style='display: inline;'><br>                     <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:86' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Close<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:86:hide' style='display: inline;'><br>                           </div><br>                     <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:87' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ValorPedidosGerencia(N570860B.ValorPedidosGerencia)<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:87:hide' style='display: inline;'><span class='parameters'><br>                           BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMesEntrada [ANMESENT]<br>                           BF szQualificadorGerente [CODDES] -&#62; szQualificadorGerente [CODDES]<br>                           VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- mnVlrMeta [VLRMETA]<br>                           VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] &#60;- mnVlrTotalLiquido [VLRTOTLI]<br>                           VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificadorExecutivo [REGRA]<br>                           VA evt_mnNivelAtual_NIVC [NIVC] -&#62; mnExecutivo [NIVC]<br>                           VA evt_mnNivelPaiAtual_NIVP [NIVP] -&#62; mnNivelPai [NIVP]<br>                           VA evt_szUnidadeAtual_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                           VA evt_szOrigenAtual_CUP [CUP] -&#62; szOrigem [CUP]<br>                           "S" -&#62; cParam [EV01]</span></div></div><br>                 End If</div><br>            End If<br>            VA evt_mnValorMetaExec_VLRMETA [VLRMETA] = [VA evt_mnValorMetaExec_VLRMETA [VLRMETA]]+[VA evt_mnValorMeta_VLRMETA [VLRMETA]]<br>            VA evt_mnExecutadoExec_VLRTOTLI [VLRTOTLI] = [VA evt_mnExecutadoExec_VLRTOTLI [VLRTOTLI]]+[VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI]]<span class='comment'><br>            //</span><br>            VA evt_mnValorMeta_VLRMETA [VLRMETA] = "0"<br>            VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] = "0"<br>           <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:95' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:95:hide' style='display: inline;'><br>                 VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]</div></div><br>       End While<span class='comment'><br>       //</span><br>       BF mnVlrMeta [VLRMETA] = [BF mnVlrMeta [VLRMETA]]+[VA evt_mnValorMetaExec_VLRMETA [VLRMETA]]<br>       BF mnVlrTotalLiquido [VLRTOTLI] = [BF mnVlrTotalLiquido [VLRTOTLI]]+[VA evt_mnExecutadoExec_VLRTOTLI [VLRTOTLI]]<br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:100' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:100:hide' style='display: inline;'><br>            VA evt_szUnidadePaiAtual_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemPaiAtual_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>            VA evt_mnNivelPaiAtual_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidadeAtual_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_szOrigenAtual_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_mnNivelAtual_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div><br>       VA evt_mnValorMetaExec_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnExecutadoExec_VLRTOTLI [VLRTOTLI] = "0"</div><br>  End While<br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:104' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:104:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span></div><span class='comment'><br>  //</span><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:106' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570807.FetchSingle  [Index 1: PK]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:106:hide' style='display: inline;'><br>       <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>       <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       VA evt_mnMetaMinima_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:107' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF mnVlrMeta [VLRMETA] is less than VA evt_mnMetaMinima_VLRMETA [VLRMETA]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:107:hide' style='display: inline;'><br>       BF mnVlrMeta [VLRMETA] = VA evt_mnMetaMinima_VLRMETA [VLRMETA]</div><br>  End If<span class='comment'><br>  //</span><span class='comment'><br>  // Verifica se teve ajuste manual</span><br>  VA evt_cTipoAjuste_EV01 [EV01] = "M"<br>  VA evt_mnValorMeta_VLRMETA [VLRMETA] = "0"<br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:114' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:114:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>       <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>       <span class='iokey'>VA evt_cTipoAjuste_EV01 [EV01] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>       <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>       <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:115' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:115:hide' style='display: inline;'><br>       VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>       VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:116' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:116:hide' style='display: inline;'><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:117' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:117:hide' style='display: inline;'><br>            </div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:118' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnValorMeta_VLRMETA [VLRMETA] is not equal to "0"<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:118:hide' style='display: inline;'><br>            BF mnVlrMeta [VLRMETA] = VA evt_mnValorMeta_VLRMETA [VLRMETA]</div><br>       End If</div><br>  End If<br>  VA evt_cTipoAjuste_EV01 [EV01] = "E"<br>  VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] = "0"<br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:124' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:124:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>       <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>       <span class='iokey'>VA evt_cTipoAjuste_EV01 [EV01] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>       <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>       <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:125' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:125:hide' style='display: inline;'><br>       VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>       VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br> <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:126' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:126:hide' style='display: inline;'><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:127' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:127:hide' style='display: inline;'><br>            </div><br>      <div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:128' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI] is not equal to "0"<div id='3062a3b1-bbbe-44d1-ad9b-d8f492cdc668:128:hide' style='display: inline;'><br>            BF mnVlrTotalLiquido [VLRTOTLI] = VA evt_mnValorExecutado_VLRTOTLI [VLRTOTLI]</div><br>       End If</div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: SomaQualificadoresGerencia <BR>Event GUID: 72506add-5904-442c-8dd9-3e8e9008beb0</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860BB - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cErrorCode [ERRC]<BR>BF szQualificadorGerente [CODDES]<BR>BF mnVlrMeta [VLRMETA]<BR>BF mnVlrTotalLiquido [VLRTOTLI]<BR>BF szUnidadeGerente [UNID1]<BR>BF szOrigemGerente [CUP]<BR>BF mnGerente [NIVC]<BR>BF mnGerentePai [NIVP]<BR>BF szUnidadeGerentePai [UNID2]<BR>BF szOrigemGerentePai [A801]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnVlrMeta_VLRMETA [VLRMETA]<br>evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]<br>evt_mnMetaMinima_VLRMETA [VLRMETA]<br>evt_mnMetaAjuste_VLRMETA [VLRMETA]<br>evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI]<br>evt_szUnidadePai_UNID2 [UNID2]<br>evt_szOrigemPai_A801 [A801]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_szUnidadeCorrente_UNID1 [UNID1]<br>evt_szOrigemCorrente_CUP [CUP]<br>evt_mnNivelCorrente_NIVC [NIVC]<br>evt_mnNivFilho_NIVC [NIVC]<br>evt_mnNivPai_NIVP [NIVP]<br>evt_szOrigFilho_CUP [CUP]<br>evt_szUnidFilhoPai_UNID2 [UNID2]<br>evt_szOrigFilhoPai_A801 [A801]<br>evt_szUniFilho_UNID1 [UNID1]<br>evt_szQualficador_CODDES [CODDES]<br>evt_mnVlrMetaFilho_VLRMETA [VLRMETA]<br>evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]<br>evt_mnPaiZero_NIVP [NIVP]<br>evt_szBranco_HT01 [HT01]<br>evt_mnMetaF570863_VLRMETA [VLRMETA]<br>evt_mnPercentualF570864_ANPR [ANPR]<br>evt_cTipoAjuste_EV02 [EV02]<br>evt_szExecutivos_BSDO [BSDO]<br>evt_cAchou_EV01 [EV01]<br>evt_szExecutivo_DL01 [DL01]<br>evt_cSinalGerencia_EV07 [EV07]<br>----------------------------------------</BR><span class='comment'>  // Busca os filhos do qualficador/gerente</span><br>  BF mnVlrMeta [VLRMETA] = "0"<br>  BF mnVlrTotalLiquido [VLRTOTLI] = "0"<br> <div id='72506add-5904-442c-8dd9-3e8e9008beb0:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:4:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span></div><br> <div id='72506add-5904-442c-8dd9-3e8e9008beb0:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:5:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span></div><br> <div id='72506add-5904-442c-8dd9-3e8e9008beb0:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:6:hide' style='display: inline;'><span class='comment'><br>       // Tem Filho Gerente, insere na pilha</span><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:8:hide' style='display: inline;'><br>            BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>            BF szUnidadeGerentePai [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>            BF szOrigemGerentePai [A801] -&#62; TK Generic 8 String 01 [A801]<br>            BF mnGerentePai [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>            BF szUnidadeGerente [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>            BF szOrigemGerente [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>            BF mnGerente [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div><span class='comment'><br>       //</span><br>       VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] = "0"<br>       VA evt_mnMetaAjuste_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnMetaMinima_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnVlrMeta_VLRMETA [VLRMETA] = "0"<br>       VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = "0"<span class='comment'><br>       //</span><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:16' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.SelectAll<div id='72506add-5904-442c-8dd9-3e8e9008beb0:16:hide' style='display: inline;'><br>            </div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:17' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:17:hide' style='display: inline;'><br>            VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>            VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>            VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>            VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>            VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:18' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:18:hide' style='display: inline;'><span class='comment'><br>            //</span><span class='comment'><br>            // deleta o filho atual, para não processa-lo de novo</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:21' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Delete  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:21:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>VA evt_szUnidadePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>VA evt_szOrigemPai_A801 [A801] = TK Generic 8 String 01 [A801]</span><br>                 <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span></div><span class='comment'><br>            // vou descendo</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:23' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Select  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:23:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:24' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:24:hide' style='display: inline;'><br>                 VA evt_szUniFilho_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>                 VA evt_mnNivFilho_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                 VA evt_mnNivPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_szOrigFilho_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>                 VA evt_szUnidFilhoPai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>                 VA evt_szOrigFilhoPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:25' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:25:hide' style='display: inline;'><span class='comment'><br>                 // guarda os filhos para processamento</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:27' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_szUnidFilhoPai_UNID2 [UNID2] is equal to "GER"<div id='72506add-5904-442c-8dd9-3e8e9008beb0:27:hide' style='display: inline;'><br>                     <div id='72506add-5904-442c-8dd9-3e8e9008beb0:28' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.Insert  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:28:hide' style='display: inline;'><br>                           BF mnAnoMesEntrada [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>                           VA evt_szUnidFilhoPai_UNID2 [UNID2] -&#62; TK Unidade de produto 2 [UNID2]<br>                           VA evt_szOrigFilhoPai_A801 [A801] -&#62; TK Generic 8 String 01 [A801]<br>                           VA evt_mnNivPai_NIVP [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>                           VA evt_szUniFilho_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>                           VA evt_szOrigFilho_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]<br>                           VA evt_mnNivFilho_NIVC [NIVC] -&#62; TK Nível Corrente Árvore Premiações [NIVC]</div></div><br>                 End If<span class='comment'><br>                 //</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:31' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:31:hide' style='display: inline;'><br>                      VA evt_szUniFilho_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>                      VA evt_mnNivFilho_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                      VA evt_mnNivPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                      VA evt_szOrigFilho_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>                      VA evt_szUnidFilhoPai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>                      VA evt_szOrigFilhoPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]</div></div><br>            End While<span class='comment'><br>            //</span><span class='comment'><br>            // processa os qualificadores do nivel atual</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:35' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertMath_NumericToString(B8000094.ConvertMath_NumericToString)<div id='72506add-5904-442c-8dd9-3e8e9008beb0:35:hide' style='display: inline;'><span class='parameters'><br>                 VA evt_mnNivelCorrente_NIVC [NIVC] -&#62; mnMathNumeric01 [MATH01]<br>                 VA evt_szExecutivo_DL01 [DL01] &#60;- szString [PV01]</span></div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:36' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.Select<div id='72506add-5904-442c-8dd9-3e8e9008beb0:36:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570861.0]</span><br>                 <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1][F570861.0]</span><br>                 <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP][F570861.0]</span><br>                 <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC][F570861.0]</span><br>                 <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP][F570861.0]</span><br>                 <span class='iokey'>VA evt_szUnidadePai_UNID2 [UNID2] = TK Unidade de produto 2 [UNID2][F570861.0]</span><br>                 <span class='iokey'>VA evt_szOrigemPai_A801 [A801] = TK Generic 8 String 01 [A801][F570861.0]</span></div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:37' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='72506add-5904-442c-8dd9-3e8e9008beb0:37:hide' style='display: inline;'><br>                 VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>                 VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA][F570861.0]<br>                 VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570861.0]</div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:38' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:38:hide' style='display: inline;'><span class='comment'><br>                 //</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:40' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Select  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:40:hide' style='display: inline;'><br>                      <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Regra [REGRA]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 01 [CRSREF01]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 02 [CRSREF02]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 03 [CRSREF03]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 04 [CRSREF04]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 05 [CRSREF05]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Block 02 String [BLOCK02]</span></div><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:41' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:41:hide' style='display: inline;'><br>                      VA evt_szExecutivos_BSDO [BSDO] &#60;- TK Based On [BSDO]<br>                      VA evt_cSinalGerencia_EV07 [EV07] &#60;- TK EnterpriseOne Point 07 [EV07]</div><br>                 VA evt_szExecutivos_BSDO [BSDO] = ltrim(rtrim([VA evt_szExecutivos_BSDO [BSDO]], &#60;Blank&#62;), &#60;Blank&#62;)<br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:43' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PesquisaStringLista(B57SSTR.PesquisaStringLista)<div id='72506add-5904-442c-8dd9-3e8e9008beb0:43:hide' style='display: inline;'><span class='parameters'><br>                      VA evt_szExecutivos_BSDO [BSDO] -&#62; szLista [CF500]<br>                      VA evt_szExecutivo_DL01 [DL01] -&#62; szItem [AA30]<br>                      VA evt_cAchou_EV01 [EV01] &#60;- cAchou [EV01]</span></div><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:44' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<br>                 And VA evt_cAchou_EV01 [EV01] is equal to "S"<br>                 And VA evt_cSinalGerencia_EV07 [EV07] is equal to "+"<br>                 Or SV File_IO_Status is equal to CO SUCCESS<br>                 And VA evt_cAchou_EV01 [EV01] is equal to "N"<br>                 And VA evt_cSinalGerencia_EV07 [EV07] is equal to "-"<br>                 Or SV File_IO_Status is equal to CO SUCCESS<br>                 And VA evt_szExecutivos_BSDO [BSDO] is equal to or empty &#60;Blank&#62;<div id='72506add-5904-442c-8dd9-3e8e9008beb0:44:hide' style='display: inline;'><span class='comment'><br>                      // Busca meta minima</span><span class='comment'><br>                      //</span><span class='comment'><br>                      // Verifica se era gerente na arvore de hierarquia</span><br>                     <div id='72506add-5904-442c-8dd9-3e8e9008beb0:48' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:48:hide' style='display: inline;'><br>                           <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                           <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                           <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                           <span class='iokey'>VA evt_mnPaiZero_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                           <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                           <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                           <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>                     <div id='72506add-5904-442c-8dd9-3e8e9008beb0:49' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:49:hide' style='display: inline;'><span class='comment'><br>                           //</span><br>                          <div id='72506add-5904-442c-8dd9-3e8e9008beb0:51' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570807.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:51:hide' style='display: inline;'><br>                                <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                VA evt_mnMetaMinima_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br>                          <div id='72506add-5904-442c-8dd9-3e8e9008beb0:52' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] is equal to VA evt_mnMetaMinima_VLRMETA [VLRMETA]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:52:hide' style='display: inline;'><br>                               <div id='72506add-5904-442c-8dd9-3e8e9008beb0:53' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570863.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:53:hide' style='display: inline;'><br>                                     <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                     <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                     <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                     <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                     VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div></div><br>                           End If<span class='comment'><br>                           //</span></div><br>                     <div id='72506add-5904-442c-8dd9-3e8e9008beb0:56' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='72506add-5904-442c-8dd9-3e8e9008beb0:56:hide' style='display: inline;'><span class='comment'><br>                           //</span><br>                          <div id='72506add-5904-442c-8dd9-3e8e9008beb0:58' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570807.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:58:hide' style='display: inline;'><br>                                <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                VA evt_mnMetaMinima_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br>                          <div id='72506add-5904-442c-8dd9-3e8e9008beb0:59' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] is equal to VA evt_mnMetaMinima_VLRMETA [VLRMETA]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:59:hide' style='display: inline;'><span class='comment'><br>                                // se a meta for igual a meta minima, pega o valor original da meta.</span><br>                               <div id='72506add-5904-442c-8dd9-3e8e9008beb0:61' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570863.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:61:hide' style='display: inline;'><br>                                     <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                     <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                     <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                     <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                     VA evt_mnMetaF570863_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><span class='comment'><br>                                //</span><br>                               <div id='72506add-5904-442c-8dd9-3e8e9008beb0:63' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:63:hide' style='display: inline;'><span class='comment'><br>                                     //</span><br>                                    <div id='72506add-5904-442c-8dd9-3e8e9008beb0:65' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570864.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:65:hide' style='display: inline;'><br>                                          <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                          <span class='iokey'>VA evt_szUnidadeCorrente_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                          <span class='iokey'>VA evt_mnNivelCorrente_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                                          <span class='iokey'>VA evt_szOrigemCorrente_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                          <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                          VA evt_mnPercentualF570864_ANPR [ANPR] &#60;- TK Annual Percentage Rate [ANPR]</div><span class='comment'><br>                                     //</span><br>                                    <div id='72506add-5904-442c-8dd9-3e8e9008beb0:67' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:67:hide' style='display: inline;'><span class='comment'><br>                                          //</span><br>                                          VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] = round((([VA evt_mnMetaF570863_VLRMETA [VLRMETA]]*[VA evt_mnPercentualF570864_ANPR [ANPR]])/100), "2")<span class='comment'><br>                                          //</span></div><br>                                     End If<span class='comment'><br>                                     //</span></div><br>                                End If<span class='comment'><br>                                //</span></div><br>                           End If<span class='comment'><br>                           //</span></div><br>                      End If<span class='comment'><br>                      //</span><br>                      VA evt_mnVlrMeta_VLRMETA [VLRMETA] = [VA evt_mnVlrMeta_VLRMETA [VLRMETA]]+[VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA]]<br>                      VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = [VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]]+[VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]]<span class='comment'><br>                      //</span></div><br>                 End If<span class='comment'><br>                 //</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:84' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='72506add-5904-442c-8dd9-3e8e9008beb0:84:hide' style='display: inline;'><br>                      VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>                      VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA][F570861.0]<br>                      VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570861.0]</div></div><br>            End While<span class='comment'><br>            //</span><span class='comment'><br>            // pega o proximo da pilha</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:88' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.SelectAll<div id='72506add-5904-442c-8dd9-3e8e9008beb0:88:hide' style='display: inline;'><br>                 </div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:89' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860T.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:89:hide' style='display: inline;'><br>                 VA evt_szUnidadePai_UNID2 [UNID2] &#60;- TK Unidade de produto 2 [UNID2]<br>                 VA evt_szOrigemPai_A801 [A801] &#60;- TK Generic 8 String 01 [A801]<br>                 VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_szUnidadeCorrente_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1]<br>                 VA evt_szOrigemCorrente_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP]<br>                 VA evt_mnNivelCorrente_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]</div></div><br>       End While<span class='comment'><br>       // atualiza o qualificador sendo processado</span><span class='comment'><br>       //</span><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:93' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570807.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:93:hide' style='display: inline;'><br>            <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>            <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnMetaMinima_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:94' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnVlrMeta_VLRMETA [VLRMETA] is less than VA evt_mnMetaMinima_VLRMETA [VLRMETA]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:94:hide' style='display: inline;'><br>            VA evt_mnVlrMeta_VLRMETA [VLRMETA] = VA evt_mnMetaMinima_VLRMETA [VLRMETA]</div><br>       End If<span class='comment'><br>       //</span><span class='comment'><br>       // Verifica se teve ajuste manual</span><br>       VA evt_cTipoAjuste_EV02 [EV02] = "M"<br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:100' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:100:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>            <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_cTipoAjuste_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>            <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:101' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:101:hide' style='display: inline;'><br>            VA evt_mnMetaAjuste_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>            VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:102' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:102:hide' style='display: inline;'><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:103' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='72506add-5904-442c-8dd9-3e8e9008beb0:103:hide' style='display: inline;'><br>                 </div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:104' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnMetaAjuste_VLRMETA [VLRMETA] is not equal to "0"<div id='72506add-5904-442c-8dd9-3e8e9008beb0:104:hide' style='display: inline;'><br>                 VA evt_mnVlrMeta_VLRMETA [VLRMETA] = VA evt_mnMetaAjuste_VLRMETA [VLRMETA]</div><br>            End If</div><br>       End If<br>       VA evt_cTipoAjuste_EV02 [EV02] = "E"<br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:109' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:109:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>            <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_cTipoAjuste_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>            <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:110' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:110:hide' style='display: inline;'><br>            VA evt_mnMetaAjuste_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>            VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:111' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:111:hide' style='display: inline;'><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:112' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='72506add-5904-442c-8dd9-3e8e9008beb0:112:hide' style='display: inline;'><br>                 </div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:113' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] is not equal to "0"<div id='72506add-5904-442c-8dd9-3e8e9008beb0:113:hide' style='display: inline;'><br>                 VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI]</div><br>            End If</div><br>       End If<span class='comment'><br>       //</span><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:118' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:118:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>            <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            VA evt_mnVlrMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>            VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>            <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>       //</span></div><br> <div id='72506add-5904-442c-8dd9-3e8e9008beb0:120' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='72506add-5904-442c-8dd9-3e8e9008beb0:120:hide' style='display: inline;'><span class='comment'><br>       //</span><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:122' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.Select<div id='72506add-5904-442c-8dd9-3e8e9008beb0:122:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570861.0]</span><br>            <span class='iokey'>BF mnGerente [NIVC] = TK Nível Pai  Árvore Premiações [NIVP][F570861.0]</span><br>            <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2][F570861.0]</span><br>            <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801][F570861.0]</span></div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:123' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='72506add-5904-442c-8dd9-3e8e9008beb0:123:hide' style='display: inline;'><br>            VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>            VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA][F570861.0]<br>            VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570861.0]</div><br>      <div id='72506add-5904-442c-8dd9-3e8e9008beb0:124' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:124:hide' style='display: inline;'><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:125' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:125:hide' style='display: inline;'><span class='comment'><br>                 //</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:127' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.Select  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:127:hide' style='display: inline;'><br>                      <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>VA evt_szQualficador_CODDES [CODDES] = TK Regra [REGRA]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 01 [CRSREF01]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 02 [CRSREF02]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 03 [CRSREF03]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 04 [CRSREF04]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Cross Reference Field 05 [CRSREF05]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Block 02 String [BLOCK02]</span><br>                      <span class='iokey'>VA evt_szBranco_HT01 [HT01] = TK Based On [BSDO]</span></div><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:128' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570806B.FetchNext  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:128:hide' style='display: inline;'><br>                      VA evt_szBranco_HT01 [HT01] &#60;- TK Cross Reference Field 01 [CRSREF01]</div><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:129' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:129:hide' style='display: inline;'><span class='comment'><br>                      //</span><br>                      VA evt_mnVlrMeta_VLRMETA [VLRMETA] = [VA evt_mnVlrMeta_VLRMETA [VLRMETA]]+[VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA]]<br>                      VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = [VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]]+[VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI]]<span class='comment'><br>                      //</span></div><br>                 End If<span class='comment'><br>                 //</span><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:136' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570861C.FetchNext<div id='72506add-5904-442c-8dd9-3e8e9008beb0:136:hide' style='display: inline;'><br>                      VA evt_szQualficador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES][F570861.0]<br>                      VA evt_mnVlrMetaFilho_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA][F570861.0]<br>                      VA evt_mnVlTotalLiqFilho_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570861.0]</div></div><br>            End While<span class='comment'><br>            //</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:139' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570807.FetchSingle  [Index 1: PK]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:139:hide' style='display: inline;'><br>                 <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 VA evt_mnMetaMinima_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:140' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnVlrMeta_VLRMETA [VLRMETA] is less than VA evt_mnMetaMinima_VLRMETA [VLRMETA]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:140:hide' style='display: inline;'><br>                 VA evt_mnVlrMeta_VLRMETA [VLRMETA] = VA evt_mnMetaMinima_VLRMETA [VLRMETA]</div><br>            End If<span class='comment'><br>            // Verifica se teve ajuste manual</span><br>            VA evt_cTipoAjuste_EV02 [EV02] = "M"<br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:145' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:145:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_cTipoAjuste_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>                 <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:146' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:146:hide' style='display: inline;'><br>                 VA evt_mnMetaAjuste_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                 VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:147' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:147:hide' style='display: inline;'><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:148' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='72506add-5904-442c-8dd9-3e8e9008beb0:148:hide' style='display: inline;'><br>                      </div><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:149' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnMetaAjuste_VLRMETA [VLRMETA] is not equal to "0"<div id='72506add-5904-442c-8dd9-3e8e9008beb0:149:hide' style='display: inline;'><br>                      VA evt_mnVlrMeta_VLRMETA [VLRMETA] = VA evt_mnMetaAjuste_VLRMETA [VLRMETA]</div><br>                 End If</div><br>            End If<br>            VA evt_cTipoAjuste_EV02 [EV02] = "E"<br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:154' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:154:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_cTipoAjuste_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>                 <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:155' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:155:hide' style='display: inline;'><br>                 VA evt_mnMetaAjuste_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                 VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:156' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='72506add-5904-442c-8dd9-3e8e9008beb0:156:hide' style='display: inline;'><br>                <div id='72506add-5904-442c-8dd9-3e8e9008beb0:157' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI] is not equal to "0"<div id='72506add-5904-442c-8dd9-3e8e9008beb0:157:hide' style='display: inline;'><br>                      VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] = VA evt_mnExecutadoAjuste_VLRTOTLI [VLRTOTLI]</div><br>                 End If</div><br>            End If<span class='comment'><br>            //</span><br>           <div id='72506add-5904-442c-8dd9-3e8e9008beb0:162' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='72506add-5904-442c-8dd9-3e8e9008beb0:162:hide' style='display: inline;'><br>                 <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>BF szUnidadeGerente [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>BF szOrigemGerente [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>BF szQualificadorGerente [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>BF mnGerente [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>BF mnGerentePai [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 VA evt_mnVlrMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                 VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                 <span class='iokey'>BF szUnidadeGerentePai [UNID2] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>BF szOrigemGerentePai [A801] = TK Generic 8 String 01 [A801]</span></div></div><br>       End If<span class='comment'><br>       //</span></div><br>  End If<span class='comment'><br>  //</span><br>  BF mnVlrMeta [VLRMETA] = VA evt_mnVlrMeta_VLRMETA [VLRMETA]<br>  BF mnVlrTotalLiquido [VLRTOTLI] = VA evt_mnVlrTotalLiquido_VLRTOTLI [VLRTOTLI]<span class='comment'><br>  //</span></div></div><div class='section'>EVENTS<div class='objectheader'>NER: ValorPedidosGerencia <BR>Event GUID: 5beafc8d-9ec8-4e27-a720-34b8c8116349</div><div class='er'><div class='dstrmembers'><B>Data Structure: D570860BA - Estrutura de dados da NER N570860B                          </B><BR>BF mnAnoMesEntrada [ANMESENT]<BR>BF cErrorCode [ERRC]<BR>BF szQualificadorGerente [CODDES]<BR>BF mnVlrMeta [VLRMETA]<BR>BF mnVlrTotalLiquido [VLRTOTLI]<BR>BF szQualificadorExecutivo [REGRA]<BR>BF mnExecutivo [NIVC]<BR>BF mnNivelPai [NIVP]<BR>BF szUnidade [UNID1]<BR>BF szOrigem [CUP]<BR>BF cParam [EV01]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnProduto_CODPRODU [CODPRODU]<br>evt_szOrigem_CODORIGE [CODORIGE]<br>evt_szFilial_MCU [MCU]<br>evt_szDiretoria_RP05 [RP05]<br>evt_szTipoOperacao_AA03 [AA03]<br>evt_szRetranca_RETRANCA [RETRANCA]<br>evt_mnValorMetaSemestr_VLRMETA [VLRMETA]<br>evt_mnExecutado_VLRTOTLI [VLRTOTLI]<br>evt_cValida_EV01 [EV01]<br>evt_mnExecutivo_NIVC [NIVC]<br>evt_NrPedido [NRPEDIDO]<br>evt_mnPeriodo_IA05 [IA05]<br>evt_mnValorMetaTrimest_VLRMETA [VLRMETA]<br>evt_mnValorMeta [VLRMETA]<br>evt_mnValorMetaOriginal_VLRMET [VLRMETA]<br>evt_mnMetaQualificador_VLRMETA [VLRMETA]<br>evt_mnPeso_ANPR [ANPR]<br>evt_mnMetaOriginal_VLRMETA [VLRMETA]<br>evt_mnPesoOriginal_ANPR [ANPR]<br>evt_mnValorPedido_VLRMETA [VLRMETA]<br>evt_mnNovoPesoTri_ANPR [ANPR]<br>evt_mnNovoPesoSem_ANPR [ANPR]<br>evt_mnValorTrimestre_VLRTOTLI [VLRTOTLI]<br>evt_mnValorSemestre_VLRTOTLi [VLRTOTLI]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_mnCemMeta_ANPR [ANPR]<br>evt_mnCem_ANPR [ANPR]<br>evt_cTipoAjuste_EV01 [EV01]<br>evt_mnAjusteMeta_VLRMETA [VLRMETA]<br>----------------------------------------</BR>  BF mnVlrTotalLiquido [VLRTOTLI] = 0<br>  BF mnVlrMeta [VLRMETA] = 0<br>  VA evt_mnExecutado_VLRTOTLI [VLRTOTLI] = "0"<br>  VA evt_mnCem_ANPR [ANPR] = "100"<br>  VA evt_mnNivelPai_NIVP [NIVP] = "0"<br>  VA evt_mnValorMetaSemestr_VLRMETA [VLRMETA] = "0"<br>  VA evt_mnValorMetaTrimest_VLRMETA [VLRMETA] = "0"<br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570862C.Select<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:8:hide' style='display: inline;'><br>       <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1][F570862.0]</span><br>       <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP][F570862.0]</span><br>       <span class='iokey'>BF mnExecutivo [NIVC] = TK Nível Corrente Árvore Premiações [NIVC][F570862.0]</span><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570862.0]</span><br>       <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES][F570862.0]</span></div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570862C.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:9:hide' style='display: inline;'><br>       VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570862.0]<br>       VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570862.0]<br>       VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570862.0]<br>       VA evt_mnExecutado_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570862.0]<br>       VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570811.0]<br>       VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570811.0]<br>       VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570811.0]<br>       VA evt_szRetranca_RETRANCA [RETRANCA] &#60;- TK Retranca [RETRANCA][F570811.0]<br>       VA evt_szDiretoria_RP05 [RP05] &#60;- TK Department Type [RP05][F570811.0]<br>       VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570811.0]</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:10:hide' style='display: inline;'><span class='comment'><br>       //</span><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:12' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>VerificaRegraDestinoGerencia(N570801.VerificaRegraDestinoGerencia)<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:12:hide' style='display: inline;'><span class='parameters'><br>            BF szQualificadorGerente [CODDES] -&#62; szQualificadorGerente [CODDES]<br>            VA evt_cValida_EV01 [EV01] &#60;- cPassou [EV01]<br>            VA evt_mnProduto_CODPRODU [CODPRODU] -&#62; mnCodProduto [CODPRODU]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] -&#62; szCodOrigem [CODORIGE]<br>            VA evt_szFilial_MCU [MCU] -&#62; szCentroCusto [MCU]<br>            VA evt_szDiretoria_RP05 [RP05] -&#62; szDiretoria [RP05]<br>            VA evt_szTipoOperacao_AA03 [AA03] -&#62; szTipoAnuncio [TPANUNC]<br>            VA evt_szRetranca_RETRANCA [RETRANCA] -&#62; szRetranca [RETRANCA]<br>            BF szQualificadorExecutivo [REGRA] -&#62; szQualificadorExecutivo [REGRA]<br>            VA evt_mnExecutivo_NIVC [NIVC] -&#62; mnExecutivo [AN8]<br>            BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>            BF mnNivelPai [NIVP] -&#62; mnNivelPai [NIVP]</span></div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:13' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cValida_EV01 [EV01] is equal to "S"<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:13:hide' style='display: inline;'><br>            BF mnVlrTotalLiquido [VLRTOTLI] = [BF mnVlrTotalLiquido [VLRTOTLI]]+[VA evt_mnExecutado_VLRTOTLI [VLRTOTLI]]</div><br>       End If<span class='comment'><br>       //</span><br>       VA evt_szFilial_MCU [MCU] = &#60;NULL&#62;<br>       VA evt_szOrigem_CODORIGE [CODORIGE] = &#60;NULL&#62;<br>       VA evt_szTipoOperacao_AA03 [AA03] = &#60;NULL&#62;<br>       VA evt_szRetranca_RETRANCA [RETRANCA] = &#60;NULL&#62;<br>       VA evt_szDiretoria_RP05 [RP05] = &#60;NULL&#62;<br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570862C.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:22:hide' style='display: inline;'><br>            VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570862.0]<br>            VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570862.0]<br>            VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570862.0]<br>            VA evt_mnExecutado_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI][F570862.0]<br>            VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570811.0]<br>            VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570811.0]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570811.0]<br>            VA evt_szRetranca_RETRANCA [RETRANCA] &#60;- TK Retranca [RETRANCA][F570811.0]<br>            VA evt_szDiretoria_RP05 [RP05] &#60;- TK Department Type [RP05][F570811.0]<br>            VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570811.0]</div></div><br>  End While<span class='comment'><br>  //</span><br>  VA evt_mnPeriodo_IA05 [IA05] = "1"<br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:26' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.Select<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:26:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570865.0]</span><br>       <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1][F570865.0]</span><br>       <span class='iokey'>BF mnExecutivo [NIVC] = TK Nível Corrente Árvore Premiações [NIVC][F570865.0]</span><br>       <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES][F570865.0]</span><br>       <span class='iokey'>VA evt_mnPeriodo_IA05 [IA05] = TK Numeric Spec. Data 05 [IA05][F570865.0]</span><br>       <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP][F570865.0]</span></div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:27' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:27:hide' style='display: inline;'><br>       VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570865.0]<br>       VA evt_NrPedido [NRPEDIDO] &#60;- TK Número do Pedido [NRPEDIDO][F570865.0]<br>       VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570865.0]<br>       VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570865.0]<br>       VA evt_mnValorPedido_VLRMETA [VLRMETA] &#60;- TK Valor Total Líquido [VLRTOTLI][F570865.0]<br>       VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570865.0]<br>       VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570116.0]<br>       VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570116.0]<br>       VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570116.0]</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:28' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:28:hide' style='display: inline;'><span class='comment'><br>       //</span><span class='comment'><br>       // Busca Retranca</span><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:31' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570120.FetchSingle  [Index 1: CodProduto,NrPedido,AnoMesEnt]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:31:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnProduto_CODPRODU [CODPRODU] = TK Código do Produto [CODPRODU]</span><br>            <span class='iokey'>VA evt_NrPedido [NRPEDIDO] = TK Número do Pedido [NRPEDIDO]</span><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            VA evt_szRetranca_RETRANCA [RETRANCA] &#60;- TK Retranca [RETRANCA]</div><span class='comment'><br>       // Busca Diretoria</span><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:33' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0006.FetchSingle  [Index 1: Cost Center]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:33:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szFilial_MCU [MCU] = TK Business Unit [MCU]</span><br>            VA evt_szDiretoria_RP05 [RP05] &#60;- TK Department Type [RP05]</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:34' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>VerificaRegraDestinoGerencia(N570801.VerificaRegraDestinoGerencia)<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:34:hide' style='display: inline;'><span class='parameters'><br>            BF szQualificadorGerente [CODDES] -&#62; szQualificadorGerente [CODDES]<br>            VA evt_cValida_EV01 [EV01] &#60;- cPassou [EV01]<br>            VA evt_mnProduto_CODPRODU [CODPRODU] -&#62; mnCodProduto [CODPRODU]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] -&#62; szCodOrigem [CODORIGE]<br>            VA evt_szFilial_MCU [MCU] -&#62; szCentroCusto [MCU]<br>            VA evt_szDiretoria_RP05 [RP05] -&#62; szDiretoria [RP05]<br>            VA evt_szTipoOperacao_AA03 [AA03] -&#62; szTipoAnuncio [TPANUNC]<br>            VA evt_szRetranca_RETRANCA [RETRANCA] -&#62; szRetranca [RETRANCA]<br>            BF szQualificadorExecutivo [REGRA] -&#62; szQualificadorExecutivo [REGRA]<br>            VA evt_mnExecutivo_NIVC [NIVC] -&#62; mnExecutivo [AN8]<br>            BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>            BF mnNivelPai [NIVP] -&#62; mnNivelPai [NIVP]</span></div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:35' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cValida_EV01 [EV01] is equal to "S"<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:35:hide' style='display: inline;'><br>            VA evt_mnValorMetaSemestr_VLRMETA [VLRMETA] = [VA evt_mnValorMetaSemestr_VLRMETA [VLRMETA]]+[VA evt_mnValorPedido_VLRMETA [VLRMETA]]</div><br>       End If<span class='comment'><br>       //</span><br>       VA evt_szFilial_MCU [MCU] = &#60;NULL&#62;<br>       VA evt_szOrigem_CODORIGE [CODORIGE] = &#60;NULL&#62;<br>       VA evt_szTipoOperacao_AA03 [AA03] = &#60;NULL&#62;<br>       VA evt_szRetranca_RETRANCA [RETRANCA] = &#60;NULL&#62;<br>       VA evt_szDiretoria_RP05 [RP05] = &#60;NULL&#62;<br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:44' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:44:hide' style='display: inline;'><br>            VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570865.0]<br>            VA evt_NrPedido [NRPEDIDO] &#60;- TK Número do Pedido [NRPEDIDO][F570865.0]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570865.0]<br>            VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570865.0]<br>            VA evt_mnValorPedido_VLRMETA [VLRMETA] &#60;- TK Valor Total Líquido [VLRTOTLI][F570865.0]<br>            VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570865.0]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570116.0]<br>            VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570116.0]<br>            VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570116.0]</div></div><br>  End While<span class='comment'><br>  //</span><br>  VA evt_mnPeriodo_IA05 [IA05] = "2"<br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:48' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.Select<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:48:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT][F570865.0]</span><br>       <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1][F570865.0]</span><br>       <span class='iokey'>BF mnExecutivo [NIVC] = TK Nível Corrente Árvore Premiações [NIVC][F570865.0]</span><br>       <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES][F570865.0]</span><br>       <span class='iokey'>VA evt_mnPeriodo_IA05 [IA05] = TK Numeric Spec. Data 05 [IA05][F570865.0]</span><br>       <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP][F570865.0]</span></div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:49' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:49:hide' style='display: inline;'><br>       VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570865.0]<br>       VA evt_NrPedido [NRPEDIDO] &#60;- TK Número do Pedido [NRPEDIDO][F570865.0]<br>       VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570865.0]<br>       VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570865.0]<br>       VA evt_mnValorPedido_VLRMETA [VLRMETA] &#60;- TK Valor Total Líquido [VLRTOTLI][F570865.0]<br>       VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570865.0]<br>       VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570116.0]<br>       VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570116.0]<br>       VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570116.0]</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:50' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:50:hide' style='display: inline;'><span class='comment'><br>       //</span><span class='comment'><br>       // Busca Retranca</span><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:53' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570120.FetchSingle  [Index 1: CodProduto,NrPedido,AnoMesEnt]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:53:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnProduto_CODPRODU [CODPRODU] = TK Código do Produto [CODPRODU]</span><br>            <span class='iokey'>VA evt_NrPedido [NRPEDIDO] = TK Número do Pedido [NRPEDIDO]</span><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            VA evt_szRetranca_RETRANCA [RETRANCA] &#60;- TK Retranca [RETRANCA]</div><span class='comment'><br>       // Busca Diretoria</span><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:55' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F0006.FetchSingle  [Index 1: Cost Center]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:55:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szFilial_MCU [MCU] = TK Business Unit [MCU]</span><br>            VA evt_szDiretoria_RP05 [RP05] &#60;- TK Department Type [RP05]</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:56' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>VerificaRegraDestinoGerencia(N570801.VerificaRegraDestinoGerencia)<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:56:hide' style='display: inline;'><span class='parameters'><br>            BF szQualificadorGerente [CODDES] -&#62; szQualificadorGerente [CODDES]<br>            VA evt_cValida_EV01 [EV01] &#60;- cPassou [EV01]<br>            VA evt_mnProduto_CODPRODU [CODPRODU] -&#62; mnCodProduto [CODPRODU]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] -&#62; szCodOrigem [CODORIGE]<br>            VA evt_szFilial_MCU [MCU] -&#62; szCentroCusto [MCU]<br>            VA evt_szDiretoria_RP05 [RP05] -&#62; szDiretoria [RP05]<br>            VA evt_szTipoOperacao_AA03 [AA03] -&#62; szTipoAnuncio [TPANUNC]<br>            VA evt_szRetranca_RETRANCA [RETRANCA] -&#62; szRetranca [RETRANCA]<br>            BF szQualificadorExecutivo [REGRA] -&#62; szQualificadorExecutivo [REGRA]<br>            VA evt_mnExecutivo_NIVC [NIVC] -&#62; mnExecutivo [AN8]<br>            BF mnAnoMesEntrada [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>            BF mnNivelPai [NIVP] -&#62; mnNivelPai [NIVP]</span></div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:57' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cValida_EV01 [EV01] is equal to "S"<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:57:hide' style='display: inline;'><br>            VA evt_mnValorMetaTrimest_VLRMETA [VLRMETA] = [VA evt_mnValorMetaTrimest_VLRMETA [VLRMETA]]+[VA evt_mnValorPedido_VLRMETA [VLRMETA]]</div><br>       End If<span class='comment'><br>       //</span><br>       VA evt_szFilial_MCU [MCU] = &#60;NULL&#62;<br>       VA evt_szOrigem_CODORIGE [CODORIGE] = &#60;NULL&#62;<br>       VA evt_szTipoOperacao_AA03 [AA03] = &#60;NULL&#62;<br>       VA evt_szRetranca_RETRANCA [RETRANCA] = &#60;NULL&#62;<br>       VA evt_szDiretoria_RP05 [RP05] = &#60;NULL&#62;<br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:66' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>V570865A.FetchNext<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:66:hide' style='display: inline;'><br>            VA evt_mnProduto_CODPRODU [CODPRODU] &#60;- TK Código do Produto [CODPRODU][F570865.0]<br>            VA evt_NrPedido [NRPEDIDO] &#60;- TK Número do Pedido [NRPEDIDO][F570865.0]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;- TK Unidade de produto 1 [UNID1][F570865.0]<br>            VA evt_mnExecutivo_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC][F570865.0]<br>            VA evt_mnValorPedido_VLRMETA [VLRMETA] &#60;- TK Valor Total Líquido [VLRTOTLI][F570865.0]<br>            VA evt_szOrigem_CUP [CUP] &#60;- TK Codigo da Unidade Padrao [CUP][F570865.0]<br>            VA evt_szOrigem_CODORIGE [CODORIGE] &#60;- TK Código de Origem [CODORIGE][F570116.0]<br>            VA evt_szFilial_MCU [MCU] &#60;- TK Business Unit [MCU][F570116.0]<br>            VA evt_szTipoOperacao_AA03 [AA03] &#60;- TK Alpha Spec. Data 03 [AA03][F570116.0]</div></div><br>  End While<span class='comment'><br>  //</span><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:69' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570863.Select  [Index 1: PK]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:69:hide' style='display: inline;'><br>       <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES]</span></div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:70' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570863.FetchNext  [Index 1: PK]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:70:hide' style='display: inline;'><br>       VA evt_mnMetaOriginal_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>       VA evt_mnValorSemestre_VLRTOTLi [VLRTOTLI] &#60;- TK Valor do dia 1 [VLR1]<br>       VA evt_mnValorTrimestre_VLRTOTLI [VLRTOTLI] &#60;- TK Valor do dia 2 [VLR2]</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:71' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570863.Close<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:71:hide' style='display: inline;'><br>       </div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:72' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnValorMetaTrimest_VLRMETA [VLRMETA] is equal to "0"<br>  And BF cParam [EV01] is equal to "N"<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:72:hide' style='display: inline;'><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:73' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570864.FetchSingle  [Index 1: PK]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:73:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF mnExecutivo [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES]</span><br>            VA evt_mnCemMeta_ANPR [ANPR] &#60;- TK Annual Percentage Rate [ANPR]</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:74' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnCemMeta_ANPR [ANPR] is equal to VA evt_mnCem_ANPR [ANPR]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:74:hide' style='display: inline;'><br>            VA evt_mnNovoPesoTri_ANPR [ANPR] = 25</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:76' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:76:hide' style='display: inline;'><br>            VA evt_mnNovoPesoTri_ANPR [ANPR] = 0</div><br>       End If</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:79' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:79:hide' style='display: inline;'><br>       VA evt_mnNovoPesoTri_ANPR [ANPR] = round(((([VA evt_mnValorMetaTrimest_VLRMETA [VLRMETA]]*100)/[VA evt_mnValorTrimestre_VLRTOTLI [VLRTOTLI]])*0.25), "2")</div><br>  End If<br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:82' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnValorMetaSemestr_VLRMETA [VLRMETA] is equal to "0"<br>  And BF cParam [EV01] is equal to "N"<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:82:hide' style='display: inline;'><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:83' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570864.FetchSingle  [Index 1: PK]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:83:hide' style='display: inline;'><br>            <span class='iokey'>BF mnAnoMesEntrada [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF szUnidade [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF mnExecutivo [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF szOrigem [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>BF szQualificadorExecutivo [REGRA] = TK Código do Destino [CODDES]</span><br>            VA evt_mnCemMeta_ANPR [ANPR] &#60;- TK Annual Percentage Rate [ANPR]</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:84' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnCemMeta_ANPR [ANPR] is equal to VA evt_mnCem_ANPR [ANPR]<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:84:hide' style='display: inline;'><br>            VA evt_mnNovoPesoSem_ANPR [ANPR] = 75</div><br>      <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:86' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:86:hide' style='display: inline;'><br>            VA evt_mnNovoPesoSem_ANPR [ANPR] = 0</div><br>       End If</div><br> <div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:89' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='5beafc8d-9ec8-4e27-a720-34b8c8116349:89:hide' style='display: inline;'><br>       VA evt_mnNovoPesoSem_ANPR [ANPR] = round(((([VA evt_mnValorMetaSemestr_VLRMETA [VLRMETA]]*100)/[VA evt_mnValorSemestre_VLRTOTLi [VLRTOTLI]])*0.75), "2")</div><br>  End If<br>  VA evt_mnPeso_ANPR [ANPR] = [VA evt_mnNovoPesoTri_ANPR [ANPR]]+[VA evt_mnNovoPesoSem_ANPR [ANPR]]<br>  BF mnVlrMeta [VLRMETA] = round((([VA evt_mnMetaOriginal_VLRMETA [VLRMETA]]*[VA evt_mnPeso_ANPR [ANPR]])/100), "2")<span class='comment'><br>  //</span></div></div></body></html>