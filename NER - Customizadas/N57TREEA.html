<!DOCTYPE html><html lang = "en"><head><meta charset = "utf-8"><meta name = "viewport" content = "width=device-width, initial-scale=1"><title>JDE Object Browser HTML Extract</title>
<style type='text/css'>body,th{font-family: Courier New, Courier, mono;font-size: 12px; width:auto}
.section{font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width: 100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.objectheader {font-family: Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bold;border: thin groove #CC9966;width:auto;background-color: #FFFFCC;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.details{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:100%;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px;box-sizing: border-box }
.er {background-color: #FFFFFF;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal; border: thin solid #CCCCCC; width:auto; padding-left: 5px;padding-top: 5px;padding-bottom: 5px; padding-right: 5px; box-sizing: border-box }
.dstrmembers {background-color: #FFFDDD;font-family: Courier New, Courier, mono;font-size: 12px;border: thin groove #CC9966;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; box-sizing: border-box }
.disabled {font-family: Courier New, Courier, mono;font-size: 12px;	font-style: italic; color:#CC9933}
.parameters {font-family: Courier New, Courier, mono;font-size: 12px; color:#3333FF}
.comment {font-family: Courier New, Courier, mono;font-size: 12px;	color: #339933}
.subtable {font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;width:100%}
.lineno {color:#6E6E6E;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.iokey {color:#FF6905;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.logicline {color:#000000;font-family: Courier New, Courier, mono;font-size: 12px; font-weight: normal;}
.versionoverride {background-color: #FFCC99;}
.overrideflags{font-family: Arial, Helvetica, sans-serif;font-size: 11px;font-weight: normal;border: thin groove #CC9966;width:auto;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;padding-right: 5px; background-color: #FFCC99; box-sizing: border-box }
.bsfnprops {font-family: Courier New, Courier, mono;font-size: 12px; color:#E01B4C}
.searchresult {font-family: Courier New, Courier, mono;font-size: 12px; font-weight: bold; background-color:#8BF3A0}
.expand {font-family: Courier New, Courier, mono;font-size: 11px; font-weight: bold; cursor:pointer; border: 1px solid gray; position: relative; left: -3px; display:inline; line-height:8px;}
.expand2 { display:inline; cursor:pointer; font-size: 9px; border: 1px solid gray; position: relative; left: -3px;}
</style>
<script type='text/javascript'>function load(){location.href = '#result';}</script>
<script language='JavaScript' type='text/javascript'>function ExpandCollapse(ElementId){ var ClickedElement = document.getElementById(ElementId); var SectionName = ElementId + ':hide'; var Section = document.getElementById(SectionName); if (ClickedElement.innerHTML == '-') { 	 ClickedElement.innerHTML = '+';	Section.style.display = 'none'; }  else  { 		ClickedElement.innerHTML = '-'; 	Section.style.display = 'inline';}} </script>
<base target = "_parent"></head><body onload='load()'>
<div class ='objectheader'>Business Function: N57TREEA - Funções Complemento Arvore<BR>Function Type: NER</div><div class='section'>EVENTS<div class='objectheader'>NER: AtribuiValorCampo <BR>Event GUID: bc5cbfb5-763b-47fc-ae03-59a406a9c272</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEN - Calcula o Valor do Campo a Ser Atualizado                   </B><BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF szNomeCampo [AA20]<BR>BF mnMathNumeric [CNTF]<BR>BF cChar [EV01]<BR>BF szString [BRD60]<BR>BF nInteger [CIP]<BR>BF jdData [UPMJ]<BR>BF mnMathNumericNovo [CNTF]<BR>BF cCharNovo [EV01]<BR>BF szStringNovo [BRD60]<BR>BF nIntegerNovo [CIP]<BR>BF jdDataNovo [UPMJ]<BR></div>  BF mnMathNumeric [CNTF] = BF mnMathNumericNovo [CNTF]</div></div><div class='section'>EVENTS<div class='objectheader'>NER: AtualizaAlturaF570860 <BR>Event GUID: d5098e61-2763-4f7b-8216-87d3f8cfa0e0</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEO - Atualiza tabela a Partir de Nodo da Arvore                  </B><BR>BF idChaves [GENLNG]<BR>BF cCodigoErro [EV02]<BR>BF szDescricaoErro [BRD60]<BR>BF nNumChaves [CIP]<BR>BF szIdItemPai [DTAI]<BR>BF szIdItemFilho [DTAI]<BR>BF idArvore [GENLNG]<BR>BF mnMathNumericPai [CNTF]<BR>BF cCharPai [EV01]<BR>BF szStringPai [BRD60]<BR>BF nIntegerPai [CIP]<BR>BF jdDataPai [UPMJ]<BR>BF mnMathNumericFilho [CNTF]<BR>BF cCharFilho [EV01]<BR>BF nIntegerFilho [CIP]<BR>BF szStringFilho [BRD60]<BR>BF jdDataFilho [UPMJ]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_mnAltura_HLVL [HLVL]<br>----------------------------------------</BR><span class='comment'>  // Busca Altura do Pai</span><br> <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:2:hide' style='display: inline;'><span class='parameters'><br>       BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>       VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>       UNDEFINED &#60;&#62; szString [BRD60]<br>       UNDEFINED &#60;&#62; cChar [EV01]<br>       UNDEFINED &#60;&#62; jdData [UPMJ]<br>       UNDEFINED &#60;- cCodigoErro [EV02]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       "4" -&#62; nNumChaves [CIP]<br>       "0" -&#62; nNumChave [CIP]<br>       "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br> <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:3:hide' style='display: inline;'><span class='parameters'><br>       BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>       UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>       VA evt_szUnidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>       UNDEFINED &#60;&#62; cChar [EV01]<br>       UNDEFINED &#60;&#62; jdData [UPMJ]<br>       UNDEFINED &#60;- cCodigoErro [EV02]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       "4" -&#62; nNumChaves [CIP]<br>       "1" -&#62; nNumChave [CIP]<br>       "UNID1" -&#62; szIdChave [DTAI]</span></div><br> <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:4:hide' style='display: inline;'><span class='parameters'><br>       BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>       UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>       VA evt_szOrigem_CUP [CUP] &#60;&#62; szString [BRD60]<br>       UNDEFINED &#60;&#62; cChar [EV01]<br>       UNDEFINED &#60;&#62; jdData [UPMJ]<br>       UNDEFINED &#60;- cCodigoErro [EV02]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       "4" -&#62; nNumChaves [CIP]<br>       "2" -&#62; nNumChave [CIP]<br>       "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>  // </span><br> <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchSingle  [Index 1: PK]<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:6:hide' style='display: inline;'><br>       <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>       <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span></div><br> <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:7:hide' style='display: inline;'><br>      <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchSingle  [Index 1: PK]<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:8:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnAltura_HLVL [HLVL] &#60;- TK Hierarchical Level [HLVL]</div><br>       VA evt_mnAltura_HLVL [HLVL] = [VA evt_mnAltura_HLVL [HLVL]]+1<br>      <div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='d5098e61-2763-4f7b-8216-87d3f8cfa0e0:10:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnAltura_HLVL [HLVL] -&#62; TK Hierarchical Level [HLVL]</div></div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: AtualizaCamposGerencia <BR>Event GUID: b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEO - Atualiza tabela a Partir de Nodo da Arvore                  </B><BR>BF idChaves [GENLNG]<BR>BF cCodigoErro [EV02]<BR>BF szDescricaoErro [BRD60]<BR>BF nNumChaves [CIP]<BR>BF szIdItemPai [DTAI]<BR>BF szIdItemFilho [DTAI]<BR>BF idArvore [GENLNG]<BR>BF mnMathNumericPai [CNTF]<BR>BF cCharPai [EV01]<BR>BF szStringPai [BRD60]<BR>BF nIntegerPai [CIP]<BR>BF jdDataPai [UPMJ]<BR>BF mnMathNumericFilho [CNTF]<BR>BF cCharFilho [EV01]<BR>BF nIntegerFilho [CIP]<BR>BF szStringFilho [BRD60]<BR>BF jdDataFilho [UPMJ]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_szUser_USER [USER]<br>evt_szPrograma_PID [PID]<br>evt_szMaquina_JOBN [JOBN]<br>evt_jdData_UPMJ [UPMJ]<br>evt_mnHora_UPMT [UPMT]<br>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_nNumCampos_CIP [CIP]<br>evt_nContador_CIP [CIP]<br>evt_szValorRealizado_VLRTOTLI [VLRTOTLI]<br>evt_szQualificador_CODDES [CODDES]<br>evt_mnTotalRealizado_VLRTOTLI [VLRTOTLI]<br>----------------------------------------</BR><span class='comment'>  // </span><br> <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF mnMathNumericPai [CNTF] is equal to "0"<br>  And BF mnMathNumericFilho [CNTF] is equal to "0"<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:2:hide' style='display: inline;'><span class='comment'><br>       // no faz nada</span></div><br> <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:4:hide' style='display: inline;'><br>       VA evt_szValorRealizado_VLRTOTLI [VLRTOTLI] = "0"<br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetAuditInfo(B9800100.GetAuditInfo)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:6:hide' style='display: inline;'><span class='parameters'><br>            VA evt_szUser_USER [USER] &#60;- szUserName [USER]<br>            VA evt_jdData_UPMJ [UPMJ] &#60;- jdDate [DTE]<br>            VA evt_mnHora_UPMT [UPMT] &#60;- mnTime [TME0]<br>            VA evt_szMaquina_JOBN [JOBN] &#60;- szWorkstation_UserId [JOBN]</span></div><br>       VA evt_szPrograma_PID [PID] = "N57TREEA"<span class='comment'><br>       // </span><br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:9:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            UNDEFINED &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "0" -&#62; nNumChave [CIP]<br>            "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:10:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "1" -&#62; nNumChave [CIP]<br>            "UNID1" -&#62; szIdChave [DTAI]</span></div><br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:11' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:11:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szOrigem_CUP [CUP] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "2" -&#62; nNumChave [CIP]<br>            "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>       // Atualiza a Tabela F570861</span><span class='comment'><br>       // Pega total de campos</span><br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoNumCampos(B57TREE.PegaNodoNumCampos)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:14:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            UNDEFINED &#60;- mnNumCampos [CNTF]<br>            VA evt_nNumCampos_CIP [CIP] &#60;- nNumCampos [CIP]</span></div><br>       VA evt_nContador_CIP [CIP] = "0"<br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:16' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While VA evt_nContador_CIP [CIP] is less than VA evt_nNumCampos_CIP [CIP]<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:16:hide' style='display: inline;'><span class='comment'><br>            // Pega Campo Nome e Valor </span><br>           <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:18' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoCampoNum(B57TREE.PegaNodoCampoNum)<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:18:hide' style='display: inline;'><span class='parameters'><br>                 BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>                 UNDEFINED &#60;- cCodigoErro [EV01]<br>                 UNDEFINED &#60;- szDescricaoErro [BRD60]<br>                 "NIVC" -&#62; szDataItemChave [DTAI]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>                 UNDEFINED -&#62; cCharChave [EV01]<br>                 UNDEFINED -&#62; szStringChave [BRD60]<br>                 UNDEFINED -&#62; nIntegerChave [CIP]<br>                 UNDEFINED -&#62; jdDataChave [UPMJ]<br>                 VA evt_nContador_CIP [CIP] -&#62; nNumCampo [CIP]<br>                 VA evt_szValorRealizado_VLRTOTLI [VLRTOTLI] &#60;- mnMathNumericCampo [CNTF]<br>                 UNDEFINED &#60;- cCharCampo [EV01]<br>                 UNDEFINED &#60;- szStringCampo [BRD60]<br>                 UNDEFINED &#60;- nIntegerCampo [CIP]<br>                 UNDEFINED &#60;- jdDataCampo [UPMJ]<br>                 "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>                 VA evt_szQualificador_CODDES [CODDES] &#60;- szNomeCampo [AA11]</span></div><span class='comment'><br>            // </span><br>           <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:20' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570859.FetchSingle  [Index 1: Pk]<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:20:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span></div><span class='comment'><br>            // </span><br>           <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:22:hide' style='display: inline;'><span class='comment'><br>                 // </span><br>                <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:24' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570859.Update  [Index 1: Pk]<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:24:hide' style='display: inline;'><br>                      <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                      <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                      <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                      <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                      VA evt_szValorRealizado_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]</div><span class='comment'><br>                 // </span><br>                 VA evt_mnTotalRealizado_VLRTOTLI [VLRTOTLI] = [VA evt_mnTotalRealizado_VLRTOTLI [VLRTOTLI]]+[VA evt_szValorRealizado_VLRTOTLI [VLRTOTLI]]<span class='comment'><br>                 // </span></div><br>            End If<span class='comment'><br>            // </span><br>            VA evt_nContador_CIP [CIP] = [VA evt_nContador_CIP [CIP]]+1</div><br>       End While<span class='comment'><br>       // Atualiza a Tabela F570860</span><br>      <div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:33' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570858.Update  [Index 1: PK]<div id='b6f80fa6-91c8-4ef0-ab5e-f508c56b8e2e:33:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span></div></div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: AtualizaCamposTabela <BR>Event GUID: cf5fe66d-940f-4118-b7a3-4c0872128a49</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEO - Atualiza tabela a Partir de Nodo da Arvore                  </B><BR>BF idChaves [GENLNG]<BR>BF cCodigoErro [EV02]<BR>BF szDescricaoErro [BRD60]<BR>BF nNumChaves [CIP]<BR>BF szIdItemPai [DTAI]<BR>BF szIdItemFilho [DTAI]<BR>BF idArvore [GENLNG]<BR>BF mnMathNumericPai [CNTF]<BR>BF cCharPai [EV01]<BR>BF szStringPai [BRD60]<BR>BF nIntegerPai [CIP]<BR>BF jdDataPai [UPMJ]<BR>BF mnMathNumericFilho [CNTF]<BR>BF cCharFilho [EV01]<BR>BF nIntegerFilho [CIP]<BR>BF szStringFilho [BRD60]<BR>BF jdDataFilho [UPMJ]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_AnoMes_ANMESENT [ANMESENT]<br>evt_Unidade_UNID1 [UNID1]<br>evt_nNumCampos_CIP [CIP]<br>evt_nContador_CIP [CIP]<br>evt_szQualificador_CODDES [CODDES]<br>evt_mnValor_VLRTOTLI [VLRTOTLI]<br>evt_szUserId_USER [USER]<br>evt_szWorkStationId_JOBN [JOBN]<br>evt_szProgramId_PID [PID]<br>evt_mnHora_UPMT [UPMT]<br>evt_jgData_UPMJ [UPMJ]<br>evt_szCodUnidade_CUP [CUP]<br>evt_mnValorTotal_VLRTOTLI [VLRTOTLI]<br>evt_cGrupo_JDEEVNT [JDEEVNT]<br>evt_mnNivelPai_NIVP [NIVP]<br>----------------------------------------</BR><span class='comment'>  // </span><br> <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF mnMathNumericPai [CNTF] is equal to "0"<br>  And BF mnMathNumericFilho [CNTF] is equal to "0"<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:2:hide' style='display: inline;'><span class='comment'><br>       // no faz nada</span></div><br> <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:4:hide' style='display: inline;'><br>       VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI] = "0"<br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetAuditInfo(B9800100.GetAuditInfo)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:6:hide' style='display: inline;'><span class='parameters'><br>            VA evt_szUserId_USER [USER] &#60;- szUserName [USER]<br>            VA evt_jgData_UPMJ [UPMJ] &#60;- jdDate [DTE]<br>            VA evt_mnHora_UPMT [UPMT] &#60;- mnTime [TME0]<br>            VA evt_szWorkStationId_JOBN [JOBN] &#60;- szWorkstation_UserId [JOBN]</span></div><br>       VA evt_szProgramId_PID [PID] = "N57TREEA"<span class='comment'><br>       // </span><br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:9:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            VA evt_AnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            UNDEFINED &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "0" -&#62; nNumChave [CIP]<br>            "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:10:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_Unidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "1" -&#62; nNumChave [CIP]<br>            "UNID1" -&#62; szIdChave [DTAI]</span></div><br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:11' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:11:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szCodUnidade_CUP [CUP] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "2" -&#62; nNumChave [CIP]<br>            "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>       // Atualiza a Tabela F570861</span><span class='comment'><br>       // Pega total de campos</span><br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoNumCampos(B57TREE.PegaNodoNumCampos)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:14:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            UNDEFINED &#60;- mnNumCampos [CNTF]<br>            VA evt_nNumCampos_CIP [CIP] &#60;- nNumCampos [CIP]</span></div><br>       VA evt_nContador_CIP [CIP] = "0"<br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:16' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While VA evt_nContador_CIP [CIP] is less than VA evt_nNumCampos_CIP [CIP]<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:16:hide' style='display: inline;'><span class='comment'><br>            // Pega Campo Nome e Valor </span><br>           <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:18' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoCampoNum(B57TREE.PegaNodoCampoNum)<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:18:hide' style='display: inline;'><span class='parameters'><br>                 BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>                 UNDEFINED &#60;- cCodigoErro [EV01]<br>                 UNDEFINED &#60;- szDescricaoErro [BRD60]<br>                 "NIVC" -&#62; szDataItemChave [DTAI]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>                 UNDEFINED -&#62; cCharChave [EV01]<br>                 UNDEFINED -&#62; szStringChave [BRD60]<br>                 UNDEFINED -&#62; nIntegerChave [CIP]<br>                 UNDEFINED -&#62; jdDataChave [UPMJ]<br>                 VA evt_nContador_CIP [CIP] -&#62; nNumCampo [CIP]<br>                 VA evt_mnValor_VLRTOTLI [VLRTOTLI] &#60;- mnMathNumericCampo [CNTF]<br>                 UNDEFINED &#60;- cCharCampo [EV01]<br>                 UNDEFINED &#60;- szStringCampo [BRD60]<br>                 UNDEFINED &#60;- nIntegerCampo [CIP]<br>                 UNDEFINED &#60;- jdDataCampo [UPMJ]<br>                 "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>                 VA evt_szQualificador_CODDES [CODDES] &#60;- szNomeCampo [AA11]</span></div><span class='comment'><br>            // </span><br>           <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:20' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchSingle  [Index 1: Pk]<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:20:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_AnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>VA evt_Unidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>VA evt_szCodUnidade_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                 <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                 VA evt_cGrupo_JDEEVNT [JDEEVNT] &#60;- TK Event [JDEEVNT]</div><span class='comment'><br>            // </span><br>           <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:22:hide' style='display: inline;'><br>                <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:23' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cGrupo_JDEEVNT [JDEEVNT] is not equal to "S"<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:23:hide' style='display: inline;'><span class='comment'><br>                      // </span><span class='comment'><br>                      // </span><br>                     <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:27' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:27:hide' style='display: inline;'><br>                           <span class='iokey'>VA evt_AnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                           <span class='iokey'>VA evt_Unidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                           <span class='iokey'>VA evt_szCodUnidade_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                           <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                           <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                           VA evt_mnValor_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                           VA evt_szProgramId_PID [PID] -&#62; TK Program ID [PID]<br>                           VA evt_szUserId_USER [USER] -&#62; TK User ID [USER]<br>                           VA evt_szWorkStationId_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                           VA evt_mnHora_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                           VA evt_jgData_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]</div><span class='comment'><br>                      // </span><span class='comment'><br>                      // </span><br>                      VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI] = [VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI]]+[VA evt_mnValor_VLRTOTLI [VLRTOTLI]]</div><br>                <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:32' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:32:hide' style='display: inline;'><span class='comment'><br>                      // </span><br>                     <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:34' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnNivelPai_NIVP [NIVP] is equal to "0"<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:34:hide' style='display: inline;'><span class='comment'><br>                           // </span><span class='comment'><br>                           // </span><br>                          <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:38' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:38:hide' style='display: inline;'><br>                                <span class='iokey'>VA evt_AnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                <span class='iokey'>VA evt_Unidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                <span class='iokey'>VA evt_szCodUnidade_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                VA evt_mnValor_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]<br>                                VA evt_szProgramId_PID [PID] -&#62; TK Program ID [PID]<br>                                VA evt_szUserId_USER [USER] -&#62; TK User ID [USER]<br>                                VA evt_szWorkStationId_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                                VA evt_mnHora_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                                VA evt_jgData_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]</div><span class='comment'><br>                           // </span><span class='comment'><br>                           // </span><br>                           VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI] = [VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI]]+[VA evt_mnValor_VLRTOTLI [VLRTOTLI]]</div><br>                      End If<span class='comment'><br>                      // </span></div><br>                 End If</div><br>            End If<span class='comment'><br>            // </span><br>            VA evt_nContador_CIP [CIP] = [VA evt_nContador_CIP [CIP]]+1</div><br>       End While<span class='comment'><br>       // Atualiza a Tabela F570860</span><br>      <div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:51' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='cf5fe66d-940f-4118-b7a3-4c0872128a49:51:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_AnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_Unidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_szCodUnidade_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnValorTotal_VLRTOTLI [VLRTOTLI] -&#62; TK Valor Total Líquido [VLRTOTLI]</div></div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: AtualizaCamposTabelaMeta <BR>Event GUID: a4ff3ec8-69aa-488d-9dae-677d1992a0e3</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEO - Atualiza tabela a Partir de Nodo da Arvore                  </B><BR>BF idChaves [GENLNG]<BR>BF cCodigoErro [EV02]<BR>BF szDescricaoErro [BRD60]<BR>BF nNumChaves [CIP]<BR>BF szIdItemPai [DTAI]<BR>BF szIdItemFilho [DTAI]<BR>BF idArvore [GENLNG]<BR>BF mnMathNumericPai [CNTF]<BR>BF cCharPai [EV01]<BR>BF szStringPai [BRD60]<BR>BF nIntegerPai [CIP]<BR>BF jdDataPai [UPMJ]<BR>BF mnMathNumericFilho [CNTF]<BR>BF cCharFilho [EV01]<BR>BF nIntegerFilho [CIP]<BR>BF szStringFilho [BRD60]<BR>BF jdDataFilho [UPMJ]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnValorTotalMeta_VLRMETA [VLRMETA]<br>evt_szUser_USER [USER]<br>evt_szWorkStationId_JOBN [JOBN]<br>evt_szProgramId_PID [PID]<br>evt_jdDateUpdated_UPMJ [UPMJ]<br>evt_mnTimeLastUpdated_UPMT [UPMT]<br>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_nNumCampos_CIP [CIP]<br>evt_nContador_CIP [CIP]<br>evt_szQualificador_CODDES [CODDES]<br>evt_mnValorMeta_VLRMETA [VLRMETA]<br>evt_cGrupo_JDEEVNT [JDEEVNT]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_mnVlrMetaExis_VLRMETA [VLRMETA]<br>evt_mnFilhoUpdate_NIVC [NIVC]<br>evt_cQualificadorReverso_EV01 [EV01]<br>evt_mnSequencia_SEQ [SEQ]<br>evt_cTipoMeta_EV02 [EV02]<br>----------------------------------------</BR><span class='comment'>  // </span><br>  VA evt_cTipoMeta_EV02 [EV02] = "M"<br> <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF mnMathNumericPai [CNTF] is equal to "0"<br>  And BF mnMathNumericFilho [CNTF] is equal to "0"<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:3:hide' style='display: inline;'><span class='comment'><br>       // no faz nada</span></div><br> <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:5:hide' style='display: inline;'><br>       VA evt_mnValorTotalMeta_VLRMETA [VLRMETA] = "0"<br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GetAuditInfo(B9800100.GetAuditInfo)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:7:hide' style='display: inline;'><span class='parameters'><br>            VA evt_szUser_USER [USER] &#60;- szUserName [USER]<br>            VA evt_jdDateUpdated_UPMJ [UPMJ] &#60;- jdDate [DTE]<br>            VA evt_mnTimeLastUpdated_UPMT [UPMT] &#60;- mnTime [TME0]<br>            VA evt_szWorkStationId_JOBN [JOBN] &#60;- szWorkstation_UserId [JOBN]</span></div><br>       VA evt_szProgramId_PID [PID] = "N57TREEA"<span class='comment'><br>       // </span><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:10:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            UNDEFINED &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "0" -&#62; nNumChave [CIP]<br>            "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:11' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:11:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "1" -&#62; nNumChave [CIP]<br>            "UNID1" -&#62; szIdChave [DTAI]</span></div><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:12' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:12:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szOrigem_CUP [CUP] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "2" -&#62; nNumChave [CIP]<br>            "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>       // Atualiza a Tabela F570861</span><span class='comment'><br>       // Pega total de campos</span><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:15' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoNumCampos(B57TREE.PegaNodoNumCampos)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:15:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            UNDEFINED &#60;- mnNumCampos [CNTF]<br>            VA evt_nNumCampos_CIP [CIP] &#60;- nNumCampos [CIP]</span></div><br>       VA evt_nContador_CIP [CIP] = "0"<br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:17' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While VA evt_nContador_CIP [CIP] is less than VA evt_nNumCampos_CIP [CIP]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:17:hide' style='display: inline;'><span class='comment'><br>            // Pega Campo Nome e Valor </span><br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:19' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaNodoCampoNum(B57TREE.PegaNodoCampoNum)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:19:hide' style='display: inline;'><span class='parameters'><br>                 BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>                 UNDEFINED &#60;- cCodigoErro [EV01]<br>                 UNDEFINED &#60;- szDescricaoErro [BRD60]<br>                 "NIVC" -&#62; szDataItemChave [DTAI]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnMathNumericChave [CNTF]<br>                 UNDEFINED -&#62; cCharChave [EV01]<br>                 UNDEFINED -&#62; szStringChave [BRD60]<br>                 UNDEFINED -&#62; nIntegerChave [CIP]<br>                 UNDEFINED -&#62; jdDataChave [UPMJ]<br>                 VA evt_nContador_CIP [CIP] -&#62; nNumCampo [CIP]<br>                 VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- mnMathNumericCampo [CNTF]<br>                 UNDEFINED &#60;- cCharCampo [EV01]<br>                 UNDEFINED &#60;- szStringCampo [BRD60]<br>                 UNDEFINED &#60;- nIntegerCampo [CIP]<br>                 UNDEFINED &#60;- jdDataCampo [UPMJ]<br>                 "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>                 VA evt_szQualificador_CODDES [CODDES] &#60;- szNomeCampo [AA11]</span></div><span class='comment'><br>            // </span><br>            VA evt_cQualificadorReverso_EV01 [EV01] = "N"<br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F57080D.FetchSingle  [Index 1: Primary]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:22:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                 VA evt_cQualificadorReverso_EV01 [EV01] &#60;- TK J.D. EnterpriseOne Event Point 02 [EV02]</div><br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:23' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cQualificadorReverso_EV01 [EV01] is not equal to "S"<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:23:hide' style='display: inline;'><span class='comment'><br>                 // </span><br>                <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:25' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchSingle  [Index 5: pk - nivp]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:25:hide' style='display: inline;'><br>                      <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                      <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                      <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                      <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                      <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                      VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>                      VA evt_cGrupo_JDEEVNT [JDEEVNT] &#60;- TK Event [JDEEVNT]<br>                      VA evt_mnVlrMetaExis_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                      <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                      <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>                <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:26' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:26:hide' style='display: inline;'><br>                     <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:27' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_cGrupo_JDEEVNT [JDEEVNT] is not equal to "S"<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:27:hide' style='display: inline;'><span class='comment'><br>                           // </span><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:29' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:29:hide' style='display: inline;'><span class='parameters'><br>                                "F570861" -&#62; szNomeTabela [OBNM]<br>                                VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                                VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                                "A" -&#62; cAntesDepois [EDTC]<br>                                BF mnMathNumericFilho [CNTF] -&#62; mnNivelFilho [NIVC]<br>                                BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                                VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                                BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                                UNDEFINED &#60;&#62; cFlag [EV01]<br>                                VA evt_mnVlrMetaExis_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                                UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                                UNDEFINED &#60;&#62; szEMail [MLAD]<br>                                VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificador [CODDES]<br>                                UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                                "U" -&#62; cAcao [EDTC]<br>                                VA evt_szUser_USER [USER] -&#62; szUsuario [USER]<br>                                VA evt_szWorkStationId_JOBN [JOBN] -&#62; szMaquina [JOBN]<br>                                VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                                VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                                VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                                UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div><span class='comment'><br>                           // </span><span class='comment'><br>                           // Verifica se tem algum ajuste - se tiver usa valor do ajuste</span><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:32' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:32:hide' style='display: inline;'><br>                                <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                                <span class='iokey'>BF mnMathNumericPai [CNTF] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                                <span class='iokey'>VA evt_cTipoMeta_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>                                <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                                <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:33' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:33:hide' style='display: inline;'><br>                                VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                                VA evt_mnSequencia_SEQ [SEQ] &#60;- TK Sequence Number [SEQ]</div><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:34' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:34:hide' style='display: inline;'><br>                                </div><span class='comment'><br>                           // </span><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:36' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 5: pk - nivp]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:36:hide' style='display: inline;'><br>                                <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                                VA evt_mnValorMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                                VA evt_szProgramId_PID [PID] -&#62; TK Program ID [PID]<br>                                VA evt_szUser_USER [USER] -&#62; TK User ID [USER]<br>                                VA evt_szWorkStationId_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                                VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                                VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]<br>                                <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                                <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>                           // </span><br>                           VA evt_mnValorTotalMeta_VLRMETA [VLRMETA] = [VA evt_mnValorTotalMeta_VLRMETA [VLRMETA]]+[VA evt_mnValorMeta_VLRMETA [VLRMETA]]<span class='comment'><br>                           // </span><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:40' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:40:hide' style='display: inline;'><span class='parameters'><br>                                "F570861" -&#62; szNomeTabela [OBNM]<br>                                VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                                VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                                "D" -&#62; cAntesDepois [EDTC]<br>                                BF mnMathNumericFilho [CNTF] -&#62; mnNivelFilho [NIVC]<br>                                BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                                VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                                BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                                UNDEFINED &#60;&#62; cFlag [EV01]<br>                                VA evt_mnValorMeta_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                                UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                                UNDEFINED &#60;&#62; szEMail [MLAD]<br>                                VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificador [CODDES]<br>                                UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                                "U" -&#62; cAcao [EDTC]<br>                                VA evt_szUser_USER [USER] -&#62; szUsuario [USER]<br>                                VA evt_szWorkStationId_JOBN [JOBN] -&#62; szMaquina [JOBN]<br>                                VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                                VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                                VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                                UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div><span class='comment'><br>                           // </span></div><br>                     <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:42' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:42:hide' style='display: inline;'><span class='comment'><br>                           // </span><br>                          <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:44' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If VA evt_mnNivelPai_NIVP [NIVP] is equal to "0"<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:44:hide' style='display: inline;'><span class='comment'><br>                                // </span><br>                               <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:46' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:46:hide' style='display: inline;'><span class='parameters'><br>                                     "F570861" -&#62; szNomeTabela [OBNM]<br>                                     VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                                     VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                                     "A" -&#62; cAntesDepois [EDTC]<br>                                     BF mnMathNumericFilho [CNTF] -&#62; mnNivelFilho [NIVC]<br>                                     BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                                     VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                                     BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                                     UNDEFINED &#60;&#62; cFlag [EV01]<br>                                     VA evt_mnVlrMetaExis_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                                     UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                                     UNDEFINED &#60;&#62; szEMail [MLAD]<br>                                     VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificador [CODDES]<br>                                     UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                                     "U" -&#62; cAcao [EDTC]<br>                                     VA evt_szUser_USER [USER] -&#62; szUsuario [USER]<br>                                     VA evt_szWorkStationId_JOBN [JOBN] -&#62; szMaquina [JOBN]<br>                                     VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                                     VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                                     VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                                     UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div><span class='comment'><br>                                // </span><br>                               <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:48' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 1: Pk]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:48:hide' style='display: inline;'><br>                                     <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                     <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                     <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                     <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                     <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                                     <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>                               <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:49' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:49:hide' style='display: inline;'><br>                                     VA evt_mnFilhoUpdate_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                                     VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]</div><br>                               <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:50' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:50:hide' style='display: inline;'><span class='comment'><br>                                     // </span><span class='comment'><br>                                     // Verifica se tem algum ajuste - se tiver usa o valor do ajuste</span><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:53' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Select  [Index 3: Seq]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:53:hide' style='display: inline;'><br>                                          <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                          <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                          <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                          <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                          <span class='iokey'>VA evt_mnFilhoUpdate_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                                          <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                                          <span class='iokey'>VA evt_cTipoMeta_EV02 [EV02] = TK J.D. EnterpriseOne Event Point 02 [EV02]</span><br>                                          <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                                          <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:54' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.FetchNext  [Index 3: Seq]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:54:hide' style='display: inline;'><br>                                          VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>                                          VA evt_mnSequencia_SEQ [SEQ] &#60;- TK Sequence Number [SEQ]</div><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:55' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861L.Close<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:55:hide' style='display: inline;'><br>                                          </div><span class='comment'><br>                                     // </span><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:57' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Update  [Index 1: Pk]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:57:hide' style='display: inline;'><br>                                          <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                                          <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                                          <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                                          <span class='iokey'>VA evt_szQualificador_CODDES [CODDES] = TK Código do Destino [CODDES]</span><br>                                          <span class='iokey'>VA evt_mnFilhoUpdate_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                                          <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                                          VA evt_mnValorMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                                          VA evt_szProgramId_PID [PID] -&#62; TK Program ID [PID]<br>                                          VA evt_szUser_USER [USER] -&#62; TK User ID [USER]<br>                                          VA evt_szWorkStationId_JOBN [JOBN] -&#62; TK Work Station ID [JOBN]<br>                                          VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; TK Time - Last Updated [UPMT]<br>                                          VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; TK Date - Updated [UPMJ]<br>                                          <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                                          <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><span class='comment'><br>                                     // </span><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:59' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:59:hide' style='display: inline;'><span class='parameters'><br>                                          "F570861" -&#62; szNomeTabela [OBNM]<br>                                          VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                                          VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                                          "D" -&#62; cAntesDepois [EDTC]<br>                                          VA evt_mnFilhoUpdate_NIVC [NIVC] -&#62; mnNivelFilho [NIVC]<br>                                          BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                                          VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                                          BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                                          UNDEFINED &#60;&#62; cFlag [EV01]<br>                                          VA evt_mnValorMeta_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                                          UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                                          UNDEFINED &#60;&#62; szEMail [MLAD]<br>                                          VA evt_szQualificador_CODDES [CODDES] -&#62; szQualificador [CODDES]<br>                                          UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                                          "U" -&#62; cAcao [EDTC]<br>                                          VA evt_szUser_USER [USER] -&#62; szUsuario [USER]<br>                                          VA evt_szWorkStationId_JOBN [JOBN] -&#62; szMaquina [JOBN]<br>                                          VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                                          VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                                          VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                                          UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div><span class='comment'><br>                                     // </span><span class='comment'><br>                                     // </span><br>                                    <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:62' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:62:hide' style='display: inline;'><br>                                          VA evt_mnFilhoUpdate_NIVC [NIVC] &#60;- TK Nível Corrente Árvore Premiações [NIVC]<br>                                          VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]</div><span class='comment'><br>                                     // </span></div><br>                                End While<span class='comment'><br>                                // </span></div><br>                           End If<span class='comment'><br>                           // </span></div><br>                      End If</div><br>                 End If<span class='comment'><br>                 // </span><span class='comment'><br>                 // </span></div><br>            End If<span class='comment'><br>            // </span><br>            VA evt_nContador_CIP [CIP] = [VA evt_nContador_CIP [CIP]]+1</div><br>       End While<span class='comment'><br>       // Atualiza a Tabela F570860</span><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:77' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.FetchSingle  [Index 5: PK - NIVP]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:77:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            VA evt_mnNivelPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]<br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>            VA evt_mnVlrMetaExis_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]<br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>      <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:78' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If SV File_IO_Status is equal to CO SUCCESS<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:78:hide' style='display: inline;'><br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:79' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:79:hide' style='display: inline;'><span class='parameters'><br>                 "F570860" -&#62; szNomeTabela [OBNM]<br>                 VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                 VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                 "A" -&#62; cAntesDepois [EDTC]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnNivelFilho [NIVC]<br>                 BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                 VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                 UNDEFINED &#60;&#62; cFlag [EV01]<br>                 VA evt_mnVlrMetaExis_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                 UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                 UNDEFINED &#60;&#62; szEMail [MLAD]<br>                 UNDEFINED &#60;&#62; szQualificador [CODDES]<br>                 UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                 "U" -&#62; cAcao [EDTC]<br>                 VA evt_szWorkStationId_JOBN [JOBN] -&#62; szUsuario [USER]<br>                 VA evt_szQualificador_CODDES [CODDES] -&#62; szMaquina [JOBN]<br>                 VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                 VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                 VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                 UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div><br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:80' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570860.Update  [Index 1: PK]<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:80:hide' style='display: inline;'><br>                 <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>                 <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>                 <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>                 <span class='iokey'>VA evt_mnNivelPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>                 <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>                 VA evt_mnValorTotalMeta_VLRMETA [VLRMETA] -&#62; TK Valor da Meta [VLRMETA]<br>                 <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>                 <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br>           <div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:81' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>GravaLog(N570860L.GravaLog)<div id='a4ff3ec8-69aa-488d-9dae-677d1992a0e3:81:hide' style='display: inline;'><span class='parameters'><br>                 "F570860" -&#62; szNomeTabela [OBNM]<br>                 VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; mnAnoMes [ANMESENT]<br>                 VA evt_szUnidade_UNID1 [UNID1] -&#62; szUnidade [UNID1]<br>                 "D" -&#62; cAntesDepois [EDTC]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnNivelFilho [NIVC]<br>                 BF mnMathNumericPai [CNTF] -&#62; mnNivelPai [NIVP]<br>                 VA evt_szOrigem_CUP [CUP] -&#62; szOrigem [CUP]<br>                 BF mnMathNumericFilho [CNTF] -&#62; mnNivelArvore [HLVL]<br>                 UNDEFINED &#60;&#62; cFlag [EV01]<br>                 VA evt_mnValorTotalMeta_VLRMETA [VLRMETA] -&#62; mnVlrMeta [VLRMETA]<br>                 UNDEFINED &#60;&#62; mnVlrExecutado [VLRTOTLI]<br>                 UNDEFINED &#60;&#62; szEMail [MLAD]<br>                 UNDEFINED &#60;&#62; szQualificador [CODDES]<br>                 UNDEFINED &#60;&#62; cQualEvento [JDEEVNT]<br>                 "U" -&#62; cAcao [EDTC]<br>                 VA evt_szUser_USER [USER] -&#62; szUsuario [USER]<br>                 VA evt_szWorkStationId_JOBN [JOBN] -&#62; szMaquina [JOBN]<br>                 VA evt_szProgramId_PID [PID] -&#62; szPrograma [PID]<br>                 VA evt_jdDateUpdated_UPMJ [UPMJ] -&#62; jdData [UPMJ]<br>                 VA evt_mnTimeLastUpdated_UPMT [UPMT] -&#62; mnHora [UPMT]<br>                 UNDEFINED &#60;&#62; mnPeso [CMPCT]</span></div></div><br>       End If</div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: AtualizaOrigemF570810 <BR>Event GUID: 43bea4f7-a272-408b-88c7-eaa83c866229</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEO - Atualiza tabela a Partir de Nodo da Arvore                  </B><BR>BF idChaves [GENLNG]<BR>BF cCodigoErro [EV02]<BR>BF szDescricaoErro [BRD60]<BR>BF nNumChaves [CIP]<BR>BF szIdItemPai [DTAI]<BR>BF szIdItemFilho [DTAI]<BR>BF idArvore [GENLNG]<BR>BF mnMathNumericPai [CNTF]<BR>BF cCharPai [EV01]<BR>BF szStringPai [BRD60]<BR>BF nIntegerPai [CIP]<BR>BF jdDataPai [UPMJ]<BR>BF mnMathNumericFilho [CNTF]<BR>BF cCharFilho [EV01]<BR>BF nIntegerFilho [CIP]<BR>BF szStringFilho [BRD60]<BR>BF jdDataFilho [UPMJ]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_szNovaOrigem_CUP [CUP]<br>evt_szTipoDado_DTAI [DTAI]<br>evt_szNomeCampo_DL01 [DL01]<br>evt_szTemp_DL01 [DL01]<br>evt_mnNovoPai_NIVP [NIVP]<br>----------------------------------------</BR> <div id='43bea4f7-a272-408b-88c7-eaa83c866229:1' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>If BF mnMathNumericPai [CNTF] is equal to "0"<div id='43bea4f7-a272-408b-88c7-eaa83c866229:1:hide' style='display: inline;'><span class='comment'><br>       // Atualiza o Registro (deleta o original e inclui o novo)</span><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:3:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            UNDEFINED &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "0" -&#62; nNumChave [CIP]<br>            "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:4:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "1" -&#62; nNumChave [CIP]<br>            "UNID1" -&#62; szIdChave [DTAI]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:5:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szOrigem_CUP [CUP] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "2" -&#62; nNumChave [CIP]<br>            "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>       // Deleta o Registro Original</span><span class='comment'><br>       // Busca o Pai</span><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.Select  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:8:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.FetchNext  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:9:hide' style='display: inline;'><br>            VA evt_mnNovoPai_NIVP [NIVP] &#60;- TK Nível Pai  Árvore Premiações [NIVP]</div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:10' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.Delete  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:10:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>VA evt_mnNovoPai_NIVP [NIVP] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span></div><span class='comment'><br>       // Insere o Registro Novo </span><br>       VA evt_szTipoDado_DTAI [DTAI] = "CUP"<br>       VA evt_szNomeCampo_DL01 [DL01] = "NOVAORIGEM"<br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570809B.FetchSingle  [Index 1: PK]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:14:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szTipoDado_DTAI [DTAI] = TK Data Item [DTAI]</span><br>            <span class='iokey'>VA evt_szNomeCampo_DL01 [DL01] = TK Name - Field [FDNM]</span><br>            VA evt_szNovaOrigem_CUP [CUP] &#60;- TK Default Value [DFTV]</div><br>       VA evt_szTipoDado_DTAI [DTAI] = "NIVP"<br>       VA evt_szNomeCampo_DL01 [DL01] = "NOVOPAI"<br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:17' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570809B.FetchSingle  [Index 1: PK]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:17:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szTipoDado_DTAI [DTAI] = TK Data Item [DTAI]</span><br>            <span class='iokey'>VA evt_szNomeCampo_DL01 [DL01] = TK Name - Field [FDNM]</span><br>            VA evt_szTemp_DL01 [DL01] &#60;- TK Default Value [DFTV]</div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:18' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>ConvertStringToMathNumeric(B0000580.ConvertStringToMathNumeric)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:18:hide' style='display: inline;'><span class='parameters'><br>            VA evt_szTemp_DL01 [DL01] -&#62; szInputString [AA15]<br>            VA evt_mnNovoPai_NIVP [NIVP] &#60;- mnOutputMathNumeric [MATH01]<br>            UNDEFINED &#60;- cReturnedErrorCode [ERR]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:19' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.Insert  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:19:hide' style='display: inline;'><br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>            BF mnMathNumericFilho [CNTF] -&#62; TK Nível Corrente Árvore Premiações [NIVC]<br>            VA evt_mnNovoPai_NIVP [NIVP] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidade_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>            VA evt_szNovaOrigem_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]</div></div><br> <div id='43bea4f7-a272-408b-88c7-eaa83c866229:20' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>Else<div id='43bea4f7-a272-408b-88c7-eaa83c866229:20:hide' style='display: inline;'><span class='comment'><br>       // Atualiza o Registro (deleta o original e inclui o novo)</span><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:22' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:22:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            UNDEFINED &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "0" -&#62; nNumChave [CIP]<br>            "ANMESENT" -&#62; szIdChave [DTAI]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:23' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:23:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szUnidade_UNID1 [UNID1] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "1" -&#62; nNumChave [CIP]<br>            "UNID1" -&#62; szIdChave [DTAI]</span></div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:24' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoChave(B57TREE.PegaCampoChave)<div id='43bea4f7-a272-408b-88c7-eaa83c866229:24:hide' style='display: inline;'><span class='parameters'><br>            BF idChaves [GENLNG] &#60;&#62; idChaves [GENLNG]<br>            UNDEFINED &#60;&#62; mnMathNumeric [VLRTOTLI]<br>            VA evt_szOrigem_CUP [CUP] &#60;&#62; szString [BRD60]<br>            UNDEFINED &#60;&#62; cChar [EV01]<br>            UNDEFINED &#60;&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV02]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "4" -&#62; nNumChaves [CIP]<br>            "2" -&#62; nNumChave [CIP]<br>            "CUP" -&#62; szIdChave [DTAI]</span></div><span class='comment'><br>       // Deleta o Registro Original</span><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:26' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.Delete  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:26:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>            <span class='iokey'>BF mnMathNumericFilho [CNTF] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>            <span class='iokey'>BF mnMathNumericPai [CNTF] = TK Nível Pai  Árvore Premiações [NIVP]</span><br>            <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>            <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span></div><span class='comment'><br>       // Insere o Registro Novo </span><br>       VA evt_szTipoDado_DTAI [DTAI] = "CUP"<br>       VA evt_szNomeCampo_DL01 [DL01] = "NOVAORIGEM"<br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:30' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570809B.FetchSingle  [Index 1: PK]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:30:hide' style='display: inline;'><br>            <span class='iokey'>VA evt_szTipoDado_DTAI [DTAI] = TK Data Item [DTAI]</span><br>            <span class='iokey'>VA evt_szNomeCampo_DL01 [DL01] = TK Name - Field [FDNM]</span><br>            VA evt_szNovaOrigem_CUP [CUP] &#60;- TK Default Value [DFTV]</div><br>      <div id='43bea4f7-a272-408b-88c7-eaa83c866229:31' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570810.Insert  [Index 1: AnoMes,NivC,NivP,Unid1, Cup]<div id='43bea4f7-a272-408b-88c7-eaa83c866229:31:hide' style='display: inline;'><br>            VA evt_mnAnoMes_ANMESENT [ANMESENT] -&#62; TK Ano e Mês de Entrada [ANMESENT]<br>            BF mnMathNumericFilho [CNTF] -&#62; TK Nível Corrente Árvore Premiações [NIVC]<br>            BF mnMathNumericPai [CNTF] -&#62; TK Nível Pai  Árvore Premiações [NIVP]<br>            VA evt_szUnidade_UNID1 [UNID1] -&#62; TK Unidade de produto 1 [UNID1]<br>            VA evt_szNovaOrigem_CUP [CUP] -&#62; TK Codigo da Unidade Padrao [CUP]</div></div><br>  End If</div></div><div class='section'>EVENTS<div class='objectheader'>NER: CalculaValorCampo <BR>Event GUID: e9e98090-290a-4e8c-89e0-0016c02a55d3</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEN - Calcula o Valor do Campo a Ser Atualizado                   </B><BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF szNomeCampo [AA20]<BR>BF mnMathNumeric [CNTF]<BR>BF cChar [EV01]<BR>BF szString [BRD60]<BR>BF nInteger [CIP]<BR>BF jdData [UPMJ]<BR>BF mnMathNumericNovo [CNTF]<BR>BF cCharNovo [EV01]<BR>BF szStringNovo [BRD60]<BR>BF nIntegerNovo [CIP]<BR>BF jdDataNovo [UPMJ]<BR></div><span class='comment'>  // Calcula o Valor do Campo do Nodo da Arvore</span><br>  BF mnMathNumeric [CNTF] = [BF mnMathNumeric [CNTF]]+[BF mnMathNumericNovo [CNTF]]</div></div><div class='section'>EVENTS<div class='objectheader'>NER: CriaCamposF570810 <BR>Event GUID: 7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEI - Cria Campos                                                 </B><BR>BF idArvore [GENLNG]<BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF idChaves [GENLNG]<BR>BF idTabela [GENLNG]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnNivelFilho_NIVC [NIVC]<br>evt_szOrigem_CUP [CUP]<br>----------------------------------------</BR><span class='comment'>  // Função que cria os nodos da arvore de acordo com a Tabela F570810</span><span class='comment'><br>  // </span><br> <div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:3:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVC" -&#62; szCampo [DTAI]<br>       VA evt_mnNivelFilho_NIVC [NIVC] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570810" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:4:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "CUP" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_szOrigem_CUP [CUP] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570810" -&#62; szIdTabela [DTAI]</span></div><span class='comment'><br>  // </span><span class='comment'><br>  // Adiciono os campos de qualificadores aos nodos da arvore</span><br> <div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>InsereNodoCampo(B57TREE.InsereNodoCampo)<div id='7d74eb16-4ff6-48dc-aa62-0a4fbd71a58b:7:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       "ORIGEM" -&#62; szNomeCampo [AA20]<br>       "CUP" -&#62; szDataItemCampo [DTAI]<br>       UNDEFINED -&#62; mnMathNumeric [CNTF]<br>       UNDEFINED -&#62; cChar [EV01]<br>       VA evt_szOrigem_CUP [CUP] -&#62; szString [BRD60]<br>       UNDEFINED -&#62; nInteger [CIP]<br>       UNDEFINED -&#62; jdData [UPMJ]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       "NIVC" -&#62; szDataItemChave [DTAI]<br>       VA evt_mnNivelFilho_NIVC [NIVC] -&#62; mnMathNumericChave [CNTF]<br>       UNDEFINED -&#62; cCharChave [EV01]<br>       UNDEFINED -&#62; szStringChave [BRD60]<br>       UNDEFINED -&#62; nIntegerChave [CIP]<br>       UNDEFINED -&#62; jdDataChave [UPMJ]<br>       UNDEFINED -&#62; cInserePais [EV01]</span></div><span class='comment'><br>  // </span></div></div><div class='section'>EVENTS<div class='objectheader'>NER: CriaCamposF570859 <BR>Event GUID: 322faea7-6904-4586-8ef5-434351c274f4</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEI - Cria Campos                                                 </B><BR>BF idArvore [GENLNG]<BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF idChaves [GENLNG]<BR>BF idTabela [GENLNG]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_mnNivelFilho_NIVC [NIVC]<br>evt_szQualificador_CODDES [CODDES]<br>----------------------------------------</BR><span class='comment'>  // Função que cria os nodos da arvore de acordo com a Tabela F570861</span><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='322faea7-6904-4586-8ef5-434351c274f4:2:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "ANMESENT" -&#62; szCampo [DTAI]<br>       VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570858" -&#62; szIdTabela [DTAI]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='322faea7-6904-4586-8ef5-434351c274f4:3:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "UNID1" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_szUnidade_UNID1 [UNID1] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570858" -&#62; szIdTabela [DTAI]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='322faea7-6904-4586-8ef5-434351c274f4:4:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "CUP" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_szOrigem_CUP [CUP] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570858" -&#62; szIdTabela [DTAI]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='322faea7-6904-4586-8ef5-434351c274f4:5:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVC" -&#62; szCampo [DTAI]<br>       VA evt_mnNivelFilho_NIVC [NIVC] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570858" -&#62; szIdTabela [DTAI]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='322faea7-6904-4586-8ef5-434351c274f4:6:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVP" -&#62; szCampo [DTAI]<br>       VA evt_mnNivelPai_NIVP [NIVP] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570858" -&#62; szIdTabela [DTAI]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570859.Select  [Index 1: Pk]<div id='322faea7-6904-4586-8ef5-434351c274f4:7:hide' style='display: inline;'><br>       <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_mnNivelFilho_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span></div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570859.FetchNext  [Index 1: Pk]<div id='322faea7-6904-4586-8ef5-434351c274f4:8:hide' style='display: inline;'><br>       VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]</div><br> <div id='322faea7-6904-4586-8ef5-434351c274f4:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='322faea7-6904-4586-8ef5-434351c274f4:9:hide' style='display: inline;'><span class='comment'><br>       // </span><span class='comment'><br>       // Adiciono os campos de qualificadores aos nodos da arvore</span><br>      <div id='322faea7-6904-4586-8ef5-434351c274f4:12' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>InsereNodoCampo(B57TREE.InsereNodoCampo)<div id='322faea7-6904-4586-8ef5-434351c274f4:12:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            VA evt_szQualificador_CODDES [CODDES] -&#62; szNomeCampo [AA20]<br>            "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>            "0" -&#62; mnMathNumeric [CNTF]<br>            UNDEFINED -&#62; cChar [EV01]<br>            UNDEFINED -&#62; szString [BRD60]<br>            UNDEFINED -&#62; nInteger [CIP]<br>            UNDEFINED -&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            VA evt_mnNivelFilho_NIVC [NIVC] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            "N" -&#62; cInserePais [EV01]</span></div><span class='comment'><br>       // </span><br>      <div id='322faea7-6904-4586-8ef5-434351c274f4:14' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570859.FetchNext  [Index 1: Pk]<div id='322faea7-6904-4586-8ef5-434351c274f4:14:hide' style='display: inline;'><br>            VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]</div></div><br>  End While</div></div><div class='section'>EVENTS<div class='objectheader'>NER: CriaCamposF570861 <BR>Event GUID: 7350e415-ea16-49b3-9f5e-34a91a7168a8</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEI - Cria Campos                                                 </B><BR>BF idArvore [GENLNG]<BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF idChaves [GENLNG]<BR>BF idTabela [GENLNG]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_Qualificador_CODDES [CODDES]<br>evt_AnoMes_ANMESENT [ANMESENT]<br>evt_Unidade_UNID1 [UNID1]<br>evt_Grupo_CUP [CUP]<br>evt_Executivo_NIVC [NIVC]<br>evt_VlrTotalLiquido_VLRTOTLI [VLRTOTLI]<br>evt_NivelPai_NIVP [NIVP]<br>----------------------------------------</BR><span class='comment'>  // Função que cria os nodos da arvore de acordo com a Tabela F570861</span><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:2:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "ANMESENT" -&#62; szCampo [DTAI]<br>       VA evt_AnoMes_ANMESENT [ANMESENT] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:3:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "UNID1" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_Unidade_UNID1 [UNID1] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:4:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "CUP" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_Grupo_CUP [CUP] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:5:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVC" -&#62; szCampo [DTAI]<br>       VA evt_Executivo_NIVC [NIVC] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:6:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVP" -&#62; szCampo [DTAI]<br>       VA evt_NivelPai_NIVP [NIVP] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 1: Pk]<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:7:hide' style='display: inline;'><br>       <span class='iokey'>VA evt_AnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_Unidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>VA evt_Grupo_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>VA evt_Executivo_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span></div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:8:hide' style='display: inline;'><br>       VA evt_Qualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>       VA evt_VlrTotalLiquido_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div><br> <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:9:hide' style='display: inline;'><span class='comment'><br>       // </span><span class='comment'><br>       // </span><span class='comment'><br>       // Adiciono os campos de qualificadores aos nodos da arvore</span><br>      <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:13' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>InsereNodoCampo(B57TREE.InsereNodoCampo)<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:13:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            VA evt_Qualificador_CODDES [CODDES] -&#62; szNomeCampo [AA20]<br>            "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>            VA evt_VlrTotalLiquido_VLRTOTLI [VLRTOTLI] -&#62; mnMathNumeric [CNTF]<br>            UNDEFINED -&#62; cChar [EV01]<br>            UNDEFINED -&#62; szString [BRD60]<br>            UNDEFINED -&#62; nInteger [CIP]<br>            UNDEFINED -&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            VA evt_Executivo_NIVC [NIVC] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            "S" -&#62; cInserePais [EV01]</span></div><span class='comment'><br>       // </span><br>      <div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:15' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='7350e415-ea16-49b3-9f5e-34a91a7168a8:15:hide' style='display: inline;'><br>            VA evt_Qualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>            VA evt_VlrTotalLiquido_VLRTOTLI [VLRTOTLI] &#60;- TK Valor Total Líquido [VLRTOTLI]</div></div><br>  End While</div></div><div class='section'>EVENTS<div class='objectheader'>NER: CriaCamposMeta <BR>Event GUID: 59100626-1da6-47a6-a998-29ab3b8378a7</div><div class='er'><div class='dstrmembers'><B>Data Structure: D57TREEI - Cria Campos                                                 </B><BR>BF idArvore [GENLNG]<BR>BF cCodigoErro [EV01]<BR>BF szDescricaoErro [BRD60]<BR>BF idChaves [GENLNG]<BR>BF idTabela [GENLNG]<BR></div>----------------------------------------</BR>Event Level Variables</BR>----------------------------------------</BR>evt_mnAnoMes_ANMESENT [ANMESENT]<br>evt_szUnidade_UNID1 [UNID1]<br>evt_szOrigem_CUP [CUP]<br>evt_mnExecutivo_NIVC [NIVC]<br>evt_mnNivelPai_NIVP [NIVP]<br>evt_szQualificador_CODDES [CODDES]<br>evt_mnValorMeta_VLRMETA [VLRMETA]<br>----------------------------------------</BR><span class='comment'>  // Função que cria os nodos da arvore de acordo com a Tabela F570861</span><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:2' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:2:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "ANMESENT" -&#62; szCampo [DTAI]<br>       VA evt_mnAnoMes_ANMESENT [ANMESENT] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:3' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:3:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "UNID1" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_szUnidade_UNID1 [UNID1] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:4' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:4:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "CUP" -&#62; szCampo [DTAI]<br>       UNDEFINED &#60;- mnMathNumeric [CNTF]<br>       VA evt_szOrigem_CUP [CUP] &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:5' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:5:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVC" -&#62; szCampo [DTAI]<br>       VA evt_mnExecutivo_NIVC [NIVC] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:6' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>PegaCampoTabela(B57TREE.PegaCampoTabela)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:6:hide' style='display: inline;'><span class='parameters'><br>       BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>       UNDEFINED &#60;- cCodigoErro [EV01]<br>       UNDEFINED &#60;- szDescricaoErro [BRD60]<br>       BF idTabela [GENLNG] &#60;&#62; idTabela [GENLNG]<br>       "NIVP" -&#62; szCampo [DTAI]<br>       VA evt_mnNivelPai_NIVP [NIVP] &#60;- mnMathNumeric [CNTF]<br>       UNDEFINED &#60;- szString [BRD60]<br>       UNDEFINED &#60;- cChar [EV01]<br>       UNDEFINED &#60;- jdData [UPMJ]<br>       UNDEFINED &#60;- nInteger [CIP]<br>       "F570860" -&#62; szIdTabela [DTAI]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:7' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.Select  [Index 1: Pk]<div id='59100626-1da6-47a6-a998-29ab3b8378a7:7:hide' style='display: inline;'><br>       <span class='iokey'>VA evt_mnAnoMes_ANMESENT [ANMESENT] = TK Ano e Mês de Entrada [ANMESENT]</span><br>       <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 1 [UNID1]</span><br>       <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Codigo da Unidade Padrao [CUP]</span><br>       <span class='iokey'>VA evt_mnExecutivo_NIVC [NIVC] = TK Nível Corrente Árvore Premiações [NIVC]</span><br>       <span class='iokey'>VA evt_szUnidade_UNID1 [UNID1] = TK Unidade de produto 2 [UNID2]</span><br>       <span class='iokey'>VA evt_szOrigem_CUP [CUP] = TK Generic 8 String 01 [A801]</span></div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:8' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='59100626-1da6-47a6-a998-29ab3b8378a7:8:hide' style='display: inline;'><br>       VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>       VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div><br> <div id='59100626-1da6-47a6-a998-29ab3b8378a7:9' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>While SV File_IO_Status is equal to CO SUCCESS<div id='59100626-1da6-47a6-a998-29ab3b8378a7:9:hide' style='display: inline;'><span class='comment'><br>       // </span><span class='comment'><br>       // </span><span class='comment'><br>       // Adiciono os campos de qualificadores aos nodos da arvore</span><br>      <div id='59100626-1da6-47a6-a998-29ab3b8378a7:13' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>InsereNodoCampo(B57TREE.InsereNodoCampo)<div id='59100626-1da6-47a6-a998-29ab3b8378a7:13:hide' style='display: inline;'><span class='parameters'><br>            BF idArvore [GENLNG] &#60;&#62; idArvore [GENLNG]<br>            VA evt_szQualificador_CODDES [CODDES] -&#62; szNomeCampo [AA20]<br>            "VLRTOTLI" -&#62; szDataItemCampo [DTAI]<br>            VA evt_mnValorMeta_VLRMETA [VLRMETA] -&#62; mnMathNumeric [CNTF]<br>            UNDEFINED -&#62; cChar [EV01]<br>            UNDEFINED -&#62; szString [BRD60]<br>            UNDEFINED -&#62; nInteger [CIP]<br>            UNDEFINED -&#62; jdData [UPMJ]<br>            UNDEFINED &#60;- cCodigoErro [EV01]<br>            UNDEFINED &#60;- szDescricaoErro [BRD60]<br>            "NIVC" -&#62; szDataItemChave [DTAI]<br>            VA evt_mnExecutivo_NIVC [NIVC] -&#62; mnMathNumericChave [CNTF]<br>            UNDEFINED -&#62; cCharChave [EV01]<br>            UNDEFINED -&#62; szStringChave [BRD60]<br>            UNDEFINED -&#62; nIntegerChave [CIP]<br>            UNDEFINED -&#62; jdDataChave [UPMJ]<br>            "S" -&#62; cInserePais [EV01]</span></div><span class='comment'><br>       // </span><br>      <div id='59100626-1da6-47a6-a998-29ab3b8378a7:15' class='expand2' onclick='ExpandCollapse(this.id);'>-</div>F570861.FetchNext  [Index 1: Pk]<div id='59100626-1da6-47a6-a998-29ab3b8378a7:15:hide' style='display: inline;'><br>            VA evt_szQualificador_CODDES [CODDES] &#60;- TK Código do Destino [CODDES]<br>            VA evt_mnValorMeta_VLRMETA [VLRMETA] &#60;- TK Valor da Meta [VLRMETA]</div></div><br>  End While</div></div></body></html>